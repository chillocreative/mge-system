/* empty css            */function U2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pf={exports:{}},Hr={};var Wg;function P2(){if(Wg)return Hr;Wg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,l,c){var u=null;if(c!==void 0&&(u=""+c),l.key!==void 0&&(u=""+l.key),"key"in l){c={};for(var f in l)f!=="key"&&(c[f]=l[f])}else c=l;return l=c.ref,{$$typeof:t,type:i,key:u,ref:l!==void 0?l:null,props:c}}return Hr.Fragment=e,Hr.jsx=n,Hr.jsxs=n,Hr}var Qg;function F2(){return Qg||(Qg=1,pf.exports=P2()),pf.exports}var r=F2(),gf={exports:{}},Ur={},xf={exports:{}},yf={};var Zg;function q2(){return Zg||(Zg=1,(function(t){function e(H,ee){var re=H.length;H.push(ee);e:for(;0<re;){var fe=re-1>>>1,ve=H[fe];if(0<l(ve,ee))H[fe]=ee,H[re]=ve,re=fe;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var ee=H[0],re=H.pop();if(re!==ee){H[0]=re;e:for(var fe=0,ve=H.length,A=ve>>>1;fe<A;){var W=2*(fe+1)-1,ae=H[W],ie=W+1,D=H[ie];if(0>l(ae,re))ie<ve&&0>l(D,ae)?(H[fe]=D,H[ie]=re,fe=ie):(H[fe]=ae,H[W]=re,fe=W);else if(ie<ve&&0>l(D,re))H[fe]=D,H[ie]=re,fe=ie;else break e}}return ee}function l(H,ee){var re=H.sortIndex-ee.sortIndex;return re!==0?re:H.id-ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var h=[],m=[],y=1,g=null,b=3,w=!1,v=!1,j=!1,N=!1,M=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function U(H){for(var ee=n(m);ee!==null;){if(ee.callback===null)i(m);else if(ee.startTime<=H)i(m),ee.sortIndex=ee.expirationTime,e(h,ee);else break;ee=n(m)}}function B(H){if(j=!1,U(H),!v)if(n(h)!==null)v=!0,I||(I=!0,le());else{var ee=n(m);ee!==null&&ue(B,ee.startTime-H)}}var I=!1,R=-1,q=5,z=-1;function P(){return N?!0:!(t.unstable_now()-z<q)}function K(){if(N=!1,I){var H=t.unstable_now();z=H;var ee=!0;try{e:{v=!1,j&&(j=!1,E(R),R=-1),w=!0;var re=b;try{t:{for(U(H),g=n(h);g!==null&&!(g.expirationTime>H&&P());){var fe=g.callback;if(typeof fe=="function"){g.callback=null,b=g.priorityLevel;var ve=fe(g.expirationTime<=H);if(H=t.unstable_now(),typeof ve=="function"){g.callback=ve,U(H),ee=!0;break t}g===n(h)&&i(h),U(H)}else i(h);g=n(h)}if(g!==null)ee=!0;else{var A=n(m);A!==null&&ue(B,A.startTime-H),ee=!1}}break e}finally{g=null,b=re,w=!1}ee=void 0}}finally{ee?le():I=!1}}}var le;if(typeof k=="function")le=function(){k(K)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,we=_e.port2;_e.port1.onmessage=K,le=function(){we.postMessage(null)}}else le=function(){M(K,0)};function ue(H,ee){R=M(function(){H(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(H){switch(b){case 1:case 2:case 3:var ee=3;break;default:ee=b}var re=b;b=ee;try{return H()}finally{b=re}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(H,ee){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var re=b;b=H;try{return ee()}finally{b=re}},t.unstable_scheduleCallback=function(H,ee,re){var fe=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?fe+re:fe):re=fe,H){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=re+ve,H={id:y++,callback:ee,priorityLevel:H,startTime:re,expirationTime:ve,sortIndex:-1},re>fe?(H.sortIndex=re,e(m,H),n(h)===null&&H===n(m)&&(j?(E(R),R=-1):j=!0,ue(B,re-fe))):(H.sortIndex=ve,e(h,H),v||w||(v=!0,I||(I=!0,le()))),H},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(H){var ee=b;return function(){var re=b;b=ee;try{return H.apply(this,arguments)}finally{b=re}}}})(yf)),yf}var Kg;function V2(){return Kg||(Kg=1,xf.exports=q2()),xf.exports}var bf={exports:{}},ge={};var Ig;function $2(){if(Ig)return ge;Ig=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),b=Symbol.iterator;function w(A){return A===null||typeof A!="object"?null:(A=b&&A[b]||A["@@iterator"],typeof A=="function"?A:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,N={};function M(A,W,ae){this.props=A,this.context=W,this.refs=N,this.updater=ae||v}M.prototype.isReactComponent={},M.prototype.setState=function(A,W){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,W,"setState")},M.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function E(){}E.prototype=M.prototype;function k(A,W,ae){this.props=A,this.context=W,this.refs=N,this.updater=ae||v}var U=k.prototype=new E;U.constructor=k,j(U,M.prototype),U.isPureReactComponent=!0;var B=Array.isArray;function I(){}var R={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function z(A,W,ae){var ie=ae.ref;return{$$typeof:t,type:A,key:W,ref:ie!==void 0?ie:null,props:ae}}function P(A,W){return z(A.type,W,A.props)}function K(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function le(A){var W={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(ae){return W[ae]})}var _e=/\/+/g;function we(A,W){return typeof A=="object"&&A!==null&&A.key!=null?le(""+A.key):W.toString(36)}function ue(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(I,I):(A.status="pending",A.then(function(W){A.status==="pending"&&(A.status="fulfilled",A.value=W)},function(W){A.status==="pending"&&(A.status="rejected",A.reason=W)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function H(A,W,ae,ie,D){var G=typeof A;(G==="undefined"||G==="boolean")&&(A=null);var ne=!1;if(A===null)ne=!0;else switch(G){case"bigint":case"string":case"number":ne=!0;break;case"object":switch(A.$$typeof){case t:case e:ne=!0;break;case y:return ne=A._init,H(ne(A._payload),W,ae,ie,D)}}if(ne)return D=D(A),ne=ie===""?"."+we(A,0):ie,B(D)?(ae="",ne!=null&&(ae=ne.replace(_e,"$&/")+"/"),H(D,W,ae,"",function(ls){return ls})):D!=null&&(K(D)&&(D=P(D,ae+(D.key==null||A&&A.key===D.key?"":(""+D.key).replace(_e,"$&/")+"/")+ne)),W.push(D)),1;ne=0;var ye=ie===""?".":ie+":";if(B(A))for(var Me=0;Me<A.length;Me++)ie=A[Me],G=ye+we(ie,Me),ne+=H(ie,W,ae,G,D);else if(Me=w(A),typeof Me=="function")for(A=Me.call(A),Me=0;!(ie=A.next()).done;)ie=ie.value,G=ye+we(ie,Me++),ne+=H(ie,W,ae,G,D);else if(G==="object"){if(typeof A.then=="function")return H(ue(A),W,ae,ie,D);throw W=String(A),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return ne}function ee(A,W,ae){if(A==null)return A;var ie=[],D=0;return H(A,ie,"","",function(G){return W.call(ae,G,D++)}),ie}function re(A){if(A._status===-1){var W=A._result;W=W(),W.then(function(ae){(A._status===0||A._status===-1)&&(A._status=1,A._result=ae)},function(ae){(A._status===0||A._status===-1)&&(A._status=2,A._result=ae)}),A._status===-1&&(A._status=0,A._result=W)}if(A._status===1)return A._result.default;throw A._result}var fe=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},ve={map:ee,forEach:function(A,W,ae){ee(A,function(){W.apply(this,arguments)},ae)},count:function(A){var W=0;return ee(A,function(){W++}),W},toArray:function(A){return ee(A,function(W){return W})||[]},only:function(A){if(!K(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return ge.Activity=g,ge.Children=ve,ge.Component=M,ge.Fragment=n,ge.Profiler=l,ge.PureComponent=k,ge.StrictMode=i,ge.Suspense=h,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,ge.__COMPILER_RUNTIME={__proto__:null,c:function(A){return R.H.useMemoCache(A)}},ge.cache=function(A){return function(){return A.apply(null,arguments)}},ge.cacheSignal=function(){return null},ge.cloneElement=function(A,W,ae){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var ie=j({},A.props),D=A.key;if(W!=null)for(G in W.key!==void 0&&(D=""+W.key),W)!q.call(W,G)||G==="key"||G==="__self"||G==="__source"||G==="ref"&&W.ref===void 0||(ie[G]=W[G]);var G=arguments.length-2;if(G===1)ie.children=ae;else if(1<G){for(var ne=Array(G),ye=0;ye<G;ye++)ne[ye]=arguments[ye+2];ie.children=ne}return z(A.type,D,ie)},ge.createContext=function(A){return A={$$typeof:u,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:c,_context:A},A},ge.createElement=function(A,W,ae){var ie,D={},G=null;if(W!=null)for(ie in W.key!==void 0&&(G=""+W.key),W)q.call(W,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(D[ie]=W[ie]);var ne=arguments.length-2;if(ne===1)D.children=ae;else if(1<ne){for(var ye=Array(ne),Me=0;Me<ne;Me++)ye[Me]=arguments[Me+2];D.children=ye}if(A&&A.defaultProps)for(ie in ne=A.defaultProps,ne)D[ie]===void 0&&(D[ie]=ne[ie]);return z(A,G,D)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(A){return{$$typeof:f,render:A}},ge.isValidElement=K,ge.lazy=function(A){return{$$typeof:y,_payload:{_status:-1,_result:A},_init:re}},ge.memo=function(A,W){return{$$typeof:m,type:A,compare:W===void 0?null:W}},ge.startTransition=function(A){var W=R.T,ae={};R.T=ae;try{var ie=A(),D=R.S;D!==null&&D(ae,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(I,fe)}catch(G){fe(G)}finally{W!==null&&ae.types!==null&&(W.types=ae.types),R.T=W}},ge.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},ge.use=function(A){return R.H.use(A)},ge.useActionState=function(A,W,ae){return R.H.useActionState(A,W,ae)},ge.useCallback=function(A,W){return R.H.useCallback(A,W)},ge.useContext=function(A){return R.H.useContext(A)},ge.useDebugValue=function(){},ge.useDeferredValue=function(A,W){return R.H.useDeferredValue(A,W)},ge.useEffect=function(A,W){return R.H.useEffect(A,W)},ge.useEffectEvent=function(A){return R.H.useEffectEvent(A)},ge.useId=function(){return R.H.useId()},ge.useImperativeHandle=function(A,W,ae){return R.H.useImperativeHandle(A,W,ae)},ge.useInsertionEffect=function(A,W){return R.H.useInsertionEffect(A,W)},ge.useLayoutEffect=function(A,W){return R.H.useLayoutEffect(A,W)},ge.useMemo=function(A,W){return R.H.useMemo(A,W)},ge.useOptimistic=function(A,W){return R.H.useOptimistic(A,W)},ge.useReducer=function(A,W,ae){return R.H.useReducer(A,W,ae)},ge.useRef=function(A){return R.H.useRef(A)},ge.useState=function(A){return R.H.useState(A)},ge.useSyncExternalStore=function(A,W,ae){return R.H.useSyncExternalStore(A,W,ae)},ge.useTransition=function(){return R.H.useTransition()},ge.version="19.2.4",ge}var Jg;function uh(){return Jg||(Jg=1,bf.exports=$2()),bf.exports}var vf={exports:{}},wt={};var ex;function Y2(){if(ex)return wt;ex=1;var t=uh();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(h,m,y){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:g==null?null:""+g,children:h,containerInfo:m,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,wt.createPortal=function(h,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return c(h,m,null,y)},wt.flushSync=function(h){var m=u.T,y=i.p;try{if(u.T=null,i.p=2,h)return h()}finally{u.T=m,i.p=y,i.d.f()}},wt.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(h,m))},wt.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},wt.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var y=m.as,g=f(y,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:w}):y==="script"&&i.d.X(h,{crossOrigin:g,integrity:b,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},wt.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=f(m.as,m.crossOrigin);i.d.M(h,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(h)},wt.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,g=f(y,m.crossOrigin);i.d.L(h,y,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},wt.preloadModule=function(h,m){if(typeof h=="string")if(m){var y=f(m.as,m.crossOrigin);i.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(h)},wt.requestFormReset=function(h){i.d.r(h)},wt.unstable_batchedUpdates=function(h,m){return h(m)},wt.useFormState=function(h,m,y){return u.H.useFormState(h,m,y)},wt.useFormStatus=function(){return u.H.useHostTransitionStatus()},wt.version="19.2.4",wt}var tx;function X2(){if(tx)return vf.exports;tx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),vf.exports=Y2(),vf.exports}var sx;function G2(){if(sx)return Ur;sx=1;var t=V2(),e=uh(),n=X2();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function c(s){var a=s,o=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(o=a.return),s=a.return;while(s)}return a.tag===3?o:null}function u(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function f(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(c(s)!==s)throw Error(i(188))}function m(s){var a=s.alternate;if(!a){if(a=c(s),a===null)throw Error(i(188));return a!==s?null:s}for(var o=s,d=a;;){var p=o.return;if(p===null)break;var x=p.alternate;if(x===null){if(d=p.return,d!==null){o=d;continue}break}if(p.child===x.child){for(x=p.child;x;){if(x===o)return h(p),s;if(x===d)return h(p),a;x=x.sibling}throw Error(i(188))}if(o.return!==d.return)o=p,d=x;else{for(var _=!1,C=p.child;C;){if(C===o){_=!0,o=p,d=x;break}if(C===d){_=!0,d=p,o=x;break}C=C.sibling}if(!_){for(C=x.child;C;){if(C===o){_=!0,o=x,d=p;break}if(C===d){_=!0,d=x,o=p;break}C=C.sibling}if(!_)throw Error(i(189))}}if(o.alternate!==d)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:a}function y(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=y(s),a!==null)return a;s=s.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),k=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function le(s){return s===null||typeof s!="object"?null:(s=K&&s[K]||s["@@iterator"],typeof s=="function"?s:null)}var _e=Symbol.for("react.client.reference");function we(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===_e?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case j:return"Fragment";case M:return"Profiler";case N:return"StrictMode";case B:return"Suspense";case I:return"SuspenseList";case z:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case v:return"Portal";case k:return s.displayName||"Context";case E:return(s._context.displayName||"Context")+".Consumer";case U:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case R:return a=s.displayName||null,a!==null?a:we(s.type)||"Memo";case q:a=s._payload,s=s._init;try{return we(s(a))}catch{}}return null}var ue=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},fe=[],ve=-1;function A(s){return{current:s}}function W(s){0>ve||(s.current=fe[ve],fe[ve]=null,ve--)}function ae(s,a){ve++,fe[ve]=s.current,s.current=a}var ie=A(null),D=A(null),G=A(null),ne=A(null);function ye(s,a){switch(ae(G,a),ae(D,s),ae(ie,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?xg(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=xg(a),s=yg(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}W(ie),ae(ie,s)}function Me(){W(ie),W(D),W(G)}function ls(s){s.memoizedState!==null&&ae(ne,s);var a=ie.current,o=yg(a,s.type);a!==o&&(ae(D,s),ae(ie,o))}function at(s){D.current===s&&(W(ie),W(D)),ne.current===s&&(W(ne),Rr._currentValue=re)}var oa,Ga;function ca(s){if(oa===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);oa=a&&a[1]||"",Ga=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oa+s+Ga}var Kc=!1;function Ic(s,a){if(!s||Kc)return"";Kc=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(a){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(X){var $=X}Reflect.construct(s,[],J)}else{try{J.call()}catch(X){$=X}s.call(J.prototype)}}else{try{throw Error()}catch(X){$=X}(J=s())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(X){if(X&&$&&typeof X.stack=="string")return[X.stack,$.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=d.DetermineComponentFrameRoot(),_=x[0],C=x[1];if(_&&C){var T=_.split(`
`),V=C.split(`
`);for(p=d=0;d<T.length&&!T[d].includes("DetermineComponentFrameRoot");)d++;for(;p<V.length&&!V[p].includes("DetermineComponentFrameRoot");)p++;if(d===T.length||p===V.length)for(d=T.length-1,p=V.length-1;1<=d&&0<=p&&T[d]!==V[p];)p--;for(;1<=d&&0<=p;d--,p--)if(T[d]!==V[p]){if(d!==1||p!==1)do if(d--,p--,0>p||T[d]!==V[p]){var Q=`
`+T[d].replace(" at new "," at ");return s.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",s.displayName)),Q}while(1<=d&&0<=p);break}}}finally{Kc=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?ca(o):""}function g1(s,a){switch(s.tag){case 26:case 27:case 5:return ca(s.type);case 16:return ca("Lazy");case 13:return s.child!==a&&a!==null?ca("Suspense Fallback"):ca("Suspense");case 19:return ca("SuspenseList");case 0:case 15:return Ic(s.type,!1);case 11:return Ic(s.type.render,!1);case 1:return Ic(s.type,!0);case 31:return ca("Activity");default:return""}}function Wh(s){try{var a="",o=null;do a+=g1(s,o),o=s,s=s.return;while(s);return a}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var Jc=Object.prototype.hasOwnProperty,eu=t.unstable_scheduleCallback,tu=t.unstable_cancelCallback,x1=t.unstable_shouldYield,y1=t.unstable_requestPaint,Xt=t.unstable_now,b1=t.unstable_getCurrentPriorityLevel,Qh=t.unstable_ImmediatePriority,Zh=t.unstable_UserBlockingPriority,jl=t.unstable_NormalPriority,v1=t.unstable_LowPriority,Kh=t.unstable_IdlePriority,j1=t.log,_1=t.unstable_setDisableYieldValue,Xi=null,Gt=null;function wn(s){if(typeof j1=="function"&&_1(s),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Xi,s)}catch{}}var Wt=Math.clz32?Math.clz32:S1,w1=Math.log,N1=Math.LN2;function S1(s){return s>>>=0,s===0?32:31-(w1(s)/N1|0)|0}var _l=256,wl=262144,Nl=4194304;function ua(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Sl(s,a,o){var d=s.pendingLanes;if(d===0)return 0;var p=0,x=s.suspendedLanes,_=s.pingedLanes;s=s.warmLanes;var C=d&134217727;return C!==0?(d=C&~x,d!==0?p=ua(d):(_&=C,_!==0?p=ua(_):o||(o=C&~s,o!==0&&(p=ua(o))))):(C=d&~x,C!==0?p=ua(C):_!==0?p=ua(_):o||(o=d&~s,o!==0&&(p=ua(o)))),p===0?0:a!==0&&a!==p&&(a&x)===0&&(x=p&-p,o=a&-a,x>=o||x===32&&(o&4194048)!==0)?a:p}function Gi(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function C1(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ih(){var s=Nl;return Nl<<=1,(Nl&62914560)===0&&(Nl=4194304),s}function su(s){for(var a=[],o=0;31>o;o++)a.push(s);return a}function Wi(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function M1(s,a,o,d,p,x){var _=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var C=s.entanglements,T=s.expirationTimes,V=s.hiddenUpdates;for(o=_&~o;0<o;){var Q=31-Wt(o),J=1<<Q;C[Q]=0,T[Q]=-1;var $=V[Q];if($!==null)for(V[Q]=null,Q=0;Q<$.length;Q++){var X=$[Q];X!==null&&(X.lane&=-536870913)}o&=~J}d!==0&&Jh(s,d,0),x!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=x&~(_&~a))}function Jh(s,a,o){s.pendingLanes|=a,s.suspendedLanes&=~a;var d=31-Wt(a);s.entangledLanes|=a,s.entanglements[d]=s.entanglements[d]|1073741824|o&261930}function em(s,a){var o=s.entangledLanes|=a;for(s=s.entanglements;o;){var d=31-Wt(o),p=1<<d;p&a|s[d]&a&&(s[d]|=a),o&=~p}}function tm(s,a){var o=a&-a;return o=(o&42)!==0?1:nu(o),(o&(s.suspendedLanes|a))!==0?0:o}function nu(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function au(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function sm(){var s=ee.p;return s!==0?s:(s=window.event,s===void 0?32:Fg(s.type))}function nm(s,a){var o=ee.p;try{return ee.p=s,a()}finally{ee.p=o}}var Nn=Math.random().toString(36).slice(2),xt="__reactFiber$"+Nn,Dt="__reactProps$"+Nn,Wa="__reactContainer$"+Nn,iu="__reactEvents$"+Nn,E1="__reactListeners$"+Nn,k1="__reactHandles$"+Nn,am="__reactResources$"+Nn,Qi="__reactMarker$"+Nn;function ru(s){delete s[xt],delete s[Dt],delete s[iu],delete s[E1],delete s[k1]}function Qa(s){var a=s[xt];if(a)return a;for(var o=s.parentNode;o;){if(a=o[Wa]||o[xt]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(s=Sg(s);s!==null;){if(o=s[xt])return o;s=Sg(s)}return a}s=o,o=s.parentNode}return null}function Za(s){if(s=s[xt]||s[Wa]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function Zi(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function Ka(s){var a=s[am];return a||(a=s[am]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function pt(s){s[Qi]=!0}var im=new Set,rm={};function da(s,a){Ia(s,a),Ia(s+"Capture",a)}function Ia(s,a){for(rm[s]=a,s=0;s<a.length;s++)im.add(a[s])}var T1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lm={},om={};function A1(s){return Jc.call(om,s)?!0:Jc.call(lm,s)?!1:T1.test(s)?om[s]=!0:(lm[s]=!0,!1)}function Cl(s,a,o){if(A1(a))if(o===null)s.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var d=a.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+o)}}function Ml(s,a,o){if(o===null)s.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+o)}}function qs(s,a,o,d){if(d===null)s.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(a,o,""+d)}}function os(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function cm(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function D1(s,a,o){var d=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var p=d.get,x=d.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return p.call(this)},set:function(_){o=""+_,x.call(this,_)}}),Object.defineProperty(s,a,{enumerable:d.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function lu(s){if(!s._valueTracker){var a=cm(s)?"checked":"value";s._valueTracker=D1(s,a,""+s[a])}}function um(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var o=a.getValue(),d="";return s&&(d=cm(s)?s.checked?"true":"false":s.value),s=d,s!==o?(a.setValue(s),!0):!1}function El(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var O1=/[\n"\\]/g;function cs(s){return s.replace(O1,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function ou(s,a,o,d,p,x,_,C){s.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?s.type=_:s.removeAttribute("type"),a!=null?_==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+os(a)):s.value!==""+os(a)&&(s.value=""+os(a)):_!=="submit"&&_!=="reset"||s.removeAttribute("value"),a!=null?cu(s,_,os(a)):o!=null?cu(s,_,os(o)):d!=null&&s.removeAttribute("value"),p==null&&x!=null&&(s.defaultChecked=!!x),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.name=""+os(C):s.removeAttribute("name")}function dm(s,a,o,d,p,x,_,C){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.type=x),a!=null||o!=null){if(!(x!=="submit"&&x!=="reset"||a!=null)){lu(s);return}o=o!=null?""+os(o):"",a=a!=null?""+os(a):o,C||a===s.value||(s.value=a),s.defaultValue=a}d=d??p,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=C?s.checked:!!d,s.defaultChecked=!!d,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.name=_),lu(s)}function cu(s,a,o){a==="number"&&El(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function Ja(s,a,o,d){if(s=s.options,a){a={};for(var p=0;p<o.length;p++)a["$"+o[p]]=!0;for(o=0;o<s.length;o++)p=a.hasOwnProperty("$"+s[o].value),s[o].selected!==p&&(s[o].selected=p),p&&d&&(s[o].defaultSelected=!0)}else{for(o=""+os(o),a=null,p=0;p<s.length;p++){if(s[p].value===o){s[p].selected=!0,d&&(s[p].defaultSelected=!0);return}a!==null||s[p].disabled||(a=s[p])}a!==null&&(a.selected=!0)}}function fm(s,a,o){if(a!=null&&(a=""+os(a),a!==s.value&&(s.value=a),o==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=o!=null?""+os(o):""}function hm(s,a,o,d){if(a==null){if(d!=null){if(o!=null)throw Error(i(92));if(ue(d)){if(1<d.length)throw Error(i(93));d=d[0]}o=d}o==null&&(o=""),a=o}o=os(a),s.defaultValue=o,d=s.textContent,d===o&&d!==""&&d!==null&&(s.value=d),lu(s)}function ei(s,a){if(a){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=a;return}}s.textContent=a}var R1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mm(s,a,o){var d=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?d?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":d?s.setProperty(a,o):typeof o!="number"||o===0||R1.has(a)?a==="float"?s.cssFloat=o:s[a]=(""+o).trim():s[a]=o+"px"}function pm(s,a,o){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,o!=null){for(var d in o)!o.hasOwnProperty(d)||a!=null&&a.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var p in a)d=a[p],a.hasOwnProperty(p)&&o[p]!==d&&mm(s,p,d)}else for(var x in a)a.hasOwnProperty(x)&&mm(s,x,a[x])}function uu(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var z1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),L1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kl(s){return L1.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Vs(){}var du=null;function fu(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ti=null,si=null;function gm(s){var a=Za(s);if(a&&(s=a.stateNode)){var o=s[Dt]||null;e:switch(s=a.stateNode,a.type){case"input":if(ou(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+cs(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var d=o[a];if(d!==s&&d.form===s.form){var p=d[Dt]||null;if(!p)throw Error(i(90));ou(d,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<o.length;a++)d=o[a],d.form===s.form&&um(d)}break e;case"textarea":fm(s,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&Ja(s,!!o.multiple,a,!1)}}}var hu=!1;function xm(s,a,o){if(hu)return s(a,o);hu=!0;try{var d=s(a);return d}finally{if(hu=!1,(ti!==null||si!==null)&&(xo(),ti&&(a=ti,s=si,si=ti=null,gm(a),s)))for(a=0;a<s.length;a++)gm(s[a])}}function Ki(s,a){var o=s.stateNode;if(o===null)return null;var d=o[Dt]||null;if(d===null)return null;o=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,a,typeof o));return o}var $s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mu=!1;if($s)try{var Ii={};Object.defineProperty(Ii,"passive",{get:function(){mu=!0}}),window.addEventListener("test",Ii,Ii),window.removeEventListener("test",Ii,Ii)}catch{mu=!1}var Sn=null,pu=null,Tl=null;function ym(){if(Tl)return Tl;var s,a=pu,o=a.length,d,p="value"in Sn?Sn.value:Sn.textContent,x=p.length;for(s=0;s<o&&a[s]===p[s];s++);var _=o-s;for(d=1;d<=_&&a[o-d]===p[x-d];d++);return Tl=p.slice(s,1<d?1-d:void 0)}function Al(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Dl(){return!0}function bm(){return!1}function Ot(s){function a(o,d,p,x,_){this._reactName=o,this._targetInst=p,this.type=d,this.nativeEvent=x,this.target=_,this.currentTarget=null;for(var C in s)s.hasOwnProperty(C)&&(o=s[C],this[C]=o?o(x):x[C]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Dl:bm,this.isPropagationStopped=bm,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Dl)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Dl)},persist:function(){},isPersistent:Dl}),a}var fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ol=Ot(fa),Ji=g({},fa,{view:0,detail:0}),B1=Ot(Ji),gu,xu,er,Rl=g({},Ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bu,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==er&&(er&&s.type==="mousemove"?(gu=s.screenX-er.screenX,xu=s.screenY-er.screenY):xu=gu=0,er=s),gu)},movementY:function(s){return"movementY"in s?s.movementY:xu}}),vm=Ot(Rl),H1=g({},Rl,{dataTransfer:0}),U1=Ot(H1),P1=g({},Ji,{relatedTarget:0}),yu=Ot(P1),F1=g({},fa,{animationName:0,elapsedTime:0,pseudoElement:0}),q1=Ot(F1),V1=g({},fa,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),$1=Ot(V1),Y1=g({},fa,{data:0}),jm=Ot(Y1),X1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q1(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=W1[s])?!!a[s]:!1}function bu(){return Q1}var Z1=g({},Ji,{key:function(s){if(s.key){var a=X1[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Al(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?G1[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bu,charCode:function(s){return s.type==="keypress"?Al(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Al(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),K1=Ot(Z1),I1=g({},Rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_m=Ot(I1),J1=g({},Ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bu}),ej=Ot(J1),tj=g({},fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),sj=Ot(tj),nj=g({},Rl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),aj=Ot(nj),ij=g({},fa,{newState:0,oldState:0}),rj=Ot(ij),lj=[9,13,27,32],vu=$s&&"CompositionEvent"in window,tr=null;$s&&"documentMode"in document&&(tr=document.documentMode);var oj=$s&&"TextEvent"in window&&!tr,wm=$s&&(!vu||tr&&8<tr&&11>=tr),Nm=" ",Sm=!1;function Cm(s,a){switch(s){case"keyup":return lj.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mm(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ni=!1;function cj(s,a){switch(s){case"compositionend":return Mm(a);case"keypress":return a.which!==32?null:(Sm=!0,Nm);case"textInput":return s=a.data,s===Nm&&Sm?null:s;default:return null}}function uj(s,a){if(ni)return s==="compositionend"||!vu&&Cm(s,a)?(s=ym(),Tl=pu=Sn=null,ni=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return wm&&a.locale!=="ko"?null:a.data;default:return null}}var dj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Em(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!dj[s.type]:a==="textarea"}function km(s,a,o,d){ti?si?si.push(d):si=[d]:ti=d,a=No(a,"onChange"),0<a.length&&(o=new Ol("onChange","change",null,o,d),s.push({event:o,listeners:a}))}var sr=null,nr=null;function fj(s){dg(s,0)}function zl(s){var a=Zi(s);if(um(a))return s}function Tm(s,a){if(s==="change")return a}var Am=!1;if($s){var ju;if($s){var _u="oninput"in document;if(!_u){var Dm=document.createElement("div");Dm.setAttribute("oninput","return;"),_u=typeof Dm.oninput=="function"}ju=_u}else ju=!1;Am=ju&&(!document.documentMode||9<document.documentMode)}function Om(){sr&&(sr.detachEvent("onpropertychange",Rm),nr=sr=null)}function Rm(s){if(s.propertyName==="value"&&zl(nr)){var a=[];km(a,nr,s,fu(s)),xm(fj,a)}}function hj(s,a,o){s==="focusin"?(Om(),sr=a,nr=o,sr.attachEvent("onpropertychange",Rm)):s==="focusout"&&Om()}function mj(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return zl(nr)}function pj(s,a){if(s==="click")return zl(a)}function gj(s,a){if(s==="input"||s==="change")return zl(a)}function xj(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Qt=typeof Object.is=="function"?Object.is:xj;function ar(s,a){if(Qt(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var o=Object.keys(s),d=Object.keys(a);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var p=o[d];if(!Jc.call(a,p)||!Qt(s[p],a[p]))return!1}return!0}function zm(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Lm(s,a){var o=zm(s);s=0;for(var d;o;){if(o.nodeType===3){if(d=s+o.textContent.length,s<=a&&d>=a)return{node:o,offset:a-s};s=d}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=zm(o)}}function Bm(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Bm(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Hm(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=El(s.document);a instanceof s.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)s=a.contentWindow;else break;a=El(s.document)}return a}function wu(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var yj=$s&&"documentMode"in document&&11>=document.documentMode,ai=null,Nu=null,ir=null,Su=!1;function Um(s,a,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Su||ai==null||ai!==El(d)||(d=ai,"selectionStart"in d&&wu(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),ir&&ar(ir,d)||(ir=d,d=No(Nu,"onSelect"),0<d.length&&(a=new Ol("onSelect","select",null,a,o),s.push({event:a,listeners:d}),a.target=ai)))}function ha(s,a){var o={};return o[s.toLowerCase()]=a.toLowerCase(),o["Webkit"+s]="webkit"+a,o["Moz"+s]="moz"+a,o}var ii={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionrun:ha("Transition","TransitionRun"),transitionstart:ha("Transition","TransitionStart"),transitioncancel:ha("Transition","TransitionCancel"),transitionend:ha("Transition","TransitionEnd")},Cu={},Pm={};$s&&(Pm=document.createElement("div").style,"AnimationEvent"in window||(delete ii.animationend.animation,delete ii.animationiteration.animation,delete ii.animationstart.animation),"TransitionEvent"in window||delete ii.transitionend.transition);function ma(s){if(Cu[s])return Cu[s];if(!ii[s])return s;var a=ii[s],o;for(o in a)if(a.hasOwnProperty(o)&&o in Pm)return Cu[s]=a[o];return s}var Fm=ma("animationend"),qm=ma("animationiteration"),Vm=ma("animationstart"),bj=ma("transitionrun"),vj=ma("transitionstart"),jj=ma("transitioncancel"),$m=ma("transitionend"),Ym=new Map,Mu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mu.push("scrollEnd");function _s(s,a){Ym.set(s,a),da(a,[s])}var Ll=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},us=[],ri=0,Eu=0;function Bl(){for(var s=ri,a=Eu=ri=0;a<s;){var o=us[a];us[a++]=null;var d=us[a];us[a++]=null;var p=us[a];us[a++]=null;var x=us[a];if(us[a++]=null,d!==null&&p!==null){var _=d.pending;_===null?p.next=p:(p.next=_.next,_.next=p),d.pending=p}x!==0&&Xm(o,p,x)}}function Hl(s,a,o,d){us[ri++]=s,us[ri++]=a,us[ri++]=o,us[ri++]=d,Eu|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function ku(s,a,o,d){return Hl(s,a,o,d),Ul(s)}function pa(s,a){return Hl(s,null,null,a),Ul(s)}function Xm(s,a,o){s.lanes|=o;var d=s.alternate;d!==null&&(d.lanes|=o);for(var p=!1,x=s.return;x!==null;)x.childLanes|=o,d=x.alternate,d!==null&&(d.childLanes|=o),x.tag===22&&(s=x.stateNode,s===null||s._visibility&1||(p=!0)),s=x,x=x.return;return s.tag===3?(x=s.stateNode,p&&a!==null&&(p=31-Wt(o),s=x.hiddenUpdates,d=s[p],d===null?s[p]=[a]:d.push(a),a.lane=o|536870912),x):null}function Ul(s){if(50<Mr)throw Mr=0,Hd=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var li={};function _j(s,a,o,d){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(s,a,o,d){return new _j(s,a,o,d)}function Tu(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ys(s,a){var o=s.alternate;return o===null?(o=Zt(s.tag,a,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=a,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,a=s.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function Gm(s,a){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,a=o.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Pl(s,a,o,d,p,x){var _=0;if(d=s,typeof s=="function")Tu(s)&&(_=1);else if(typeof s=="string")_=M2(s,o,ie.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case z:return s=Zt(31,o,a,p),s.elementType=z,s.lanes=x,s;case j:return ga(o.children,p,x,a);case N:_=8,p|=24;break;case M:return s=Zt(12,o,a,p|2),s.elementType=M,s.lanes=x,s;case B:return s=Zt(13,o,a,p),s.elementType=B,s.lanes=x,s;case I:return s=Zt(19,o,a,p),s.elementType=I,s.lanes=x,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case k:_=10;break e;case E:_=9;break e;case U:_=11;break e;case R:_=14;break e;case q:_=16,d=null;break e}_=29,o=Error(i(130,s===null?"null":typeof s,"")),d=null}return a=Zt(_,o,a,p),a.elementType=s,a.type=d,a.lanes=x,a}function ga(s,a,o,d){return s=Zt(7,s,d,a),s.lanes=o,s}function Au(s,a,o){return s=Zt(6,s,null,a),s.lanes=o,s}function Wm(s){var a=Zt(18,null,null,0);return a.stateNode=s,a}function Du(s,a,o){return a=Zt(4,s.children!==null?s.children:[],s.key,a),a.lanes=o,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var Qm=new WeakMap;function ds(s,a){if(typeof s=="object"&&s!==null){var o=Qm.get(s);return o!==void 0?o:(a={value:s,source:a,stack:Wh(a)},Qm.set(s,a),a)}return{value:s,source:a,stack:Wh(a)}}var oi=[],ci=0,Fl=null,rr=0,fs=[],hs=0,Cn=null,Ts=1,As="";function Xs(s,a){oi[ci++]=rr,oi[ci++]=Fl,Fl=s,rr=a}function Zm(s,a,o){fs[hs++]=Ts,fs[hs++]=As,fs[hs++]=Cn,Cn=s;var d=Ts;s=As;var p=32-Wt(d)-1;d&=~(1<<p),o+=1;var x=32-Wt(a)+p;if(30<x){var _=p-p%5;x=(d&(1<<_)-1).toString(32),d>>=_,p-=_,Ts=1<<32-Wt(a)+p|o<<p|d,As=x+s}else Ts=1<<x|o<<p|d,As=s}function Ou(s){s.return!==null&&(Xs(s,1),Zm(s,1,0))}function Ru(s){for(;s===Fl;)Fl=oi[--ci],oi[ci]=null,rr=oi[--ci],oi[ci]=null;for(;s===Cn;)Cn=fs[--hs],fs[hs]=null,As=fs[--hs],fs[hs]=null,Ts=fs[--hs],fs[hs]=null}function Km(s,a){fs[hs++]=Ts,fs[hs++]=As,fs[hs++]=Cn,Ts=a.id,As=a.overflow,Cn=s}var yt=null,Ye=null,Ae=!1,Mn=null,ms=!1,zu=Error(i(519));function En(s){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw lr(ds(a,s)),zu}function Im(s){var a=s.stateNode,o=s.type,d=s.memoizedProps;switch(a[xt]=s,a[Dt]=d,o){case"dialog":Se("cancel",a),Se("close",a);break;case"iframe":case"object":case"embed":Se("load",a);break;case"video":case"audio":for(o=0;o<kr.length;o++)Se(kr[o],a);break;case"source":Se("error",a);break;case"img":case"image":case"link":Se("error",a),Se("load",a);break;case"details":Se("toggle",a);break;case"input":Se("invalid",a),dm(a,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":Se("invalid",a);break;case"textarea":Se("invalid",a),hm(a,d.value,d.defaultValue,d.children)}o=d.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||d.suppressHydrationWarning===!0||pg(a.textContent,o)?(d.popover!=null&&(Se("beforetoggle",a),Se("toggle",a)),d.onScroll!=null&&Se("scroll",a),d.onScrollEnd!=null&&Se("scrollend",a),d.onClick!=null&&(a.onclick=Vs),a=!0):a=!1,a||En(s,!0)}function Jm(s){for(yt=s.return;yt;)switch(yt.tag){case 5:case 31:case 13:ms=!1;return;case 27:case 3:ms=!0;return;default:yt=yt.return}}function ui(s){if(s!==yt)return!1;if(!Ae)return Jm(s),Ae=!0,!1;var a=s.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||Jd(s.type,s.memoizedProps)),o=!o),o&&Ye&&En(s),Jm(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));Ye=Ng(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));Ye=Ng(s)}else a===27?(a=Ye,qn(s.type)?(s=af,af=null,Ye=s):Ye=a):Ye=yt?gs(s.stateNode.nextSibling):null;return!0}function xa(){Ye=yt=null,Ae=!1}function Lu(){var s=Mn;return s!==null&&(Bt===null?Bt=s:Bt.push.apply(Bt,s),Mn=null),s}function lr(s){Mn===null?Mn=[s]:Mn.push(s)}var Bu=A(null),ya=null,Gs=null;function kn(s,a,o){ae(Bu,a._currentValue),a._currentValue=o}function Ws(s){s._currentValue=Bu.current,W(Bu)}function Hu(s,a,o){for(;s!==null;){var d=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),s===o)break;s=s.return}}function Uu(s,a,o,d){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var x=p.dependencies;if(x!==null){var _=p.child;x=x.firstContext;e:for(;x!==null;){var C=x;x=p;for(var T=0;T<a.length;T++)if(C.context===a[T]){x.lanes|=o,C=x.alternate,C!==null&&(C.lanes|=o),Hu(x.return,o,s),d||(_=null);break e}x=C.next}}else if(p.tag===18){if(_=p.return,_===null)throw Error(i(341));_.lanes|=o,x=_.alternate,x!==null&&(x.lanes|=o),Hu(_,o,s),_=null}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===s){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}}function di(s,a,o,d){s=null;for(var p=a,x=!1;p!==null;){if(!x){if((p.flags&524288)!==0)x=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var _=p.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var C=p.type;Qt(p.pendingProps.value,_.value)||(s!==null?s.push(C):s=[C])}}else if(p===ne.current){if(_=p.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(Rr):s=[Rr])}p=p.return}s!==null&&Uu(a,s,o,d),a.flags|=262144}function ql(s){for(s=s.firstContext;s!==null;){if(!Qt(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ba(s){ya=s,Gs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function bt(s){return ep(ya,s)}function Vl(s,a){return ya===null&&ba(s),ep(s,a)}function ep(s,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},Gs===null){if(s===null)throw Error(i(308));Gs=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else Gs=Gs.next=a;return o}var wj=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(o,d){s.push(d)}};this.abort=function(){a.aborted=!0,s.forEach(function(o){return o()})}},Nj=t.unstable_scheduleCallback,Sj=t.unstable_NormalPriority,it={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pu(){return{controller:new wj,data:new Map,refCount:0}}function or(s){s.refCount--,s.refCount===0&&Nj(Sj,function(){s.controller.abort()})}var cr=null,Fu=0,fi=0,hi=null;function Cj(s,a){if(cr===null){var o=cr=[];Fu=0,fi=$d(),hi={status:"pending",value:void 0,then:function(d){o.push(d)}}}return Fu++,a.then(tp,tp),a}function tp(){if(--Fu===0&&cr!==null){hi!==null&&(hi.status="fulfilled");var s=cr;cr=null,fi=0,hi=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function Mj(s,a){var o=[],d={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return s.then(function(){d.status="fulfilled",d.value=a;for(var p=0;p<o.length;p++)(0,o[p])(a)},function(p){for(d.status="rejected",d.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),d}var sp=H.S;H.S=function(s,a){U0=Xt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&Cj(s,a),sp!==null&&sp(s,a)};var va=A(null);function qu(){var s=va.current;return s!==null?s:Ve.pooledCache}function $l(s,a){a===null?ae(va,va.current):ae(va,a.pool)}function np(){var s=qu();return s===null?null:{parent:it._currentValue,pool:s}}var mi=Error(i(460)),Vu=Error(i(474)),Yl=Error(i(542)),Xl={then:function(){}};function ap(s){return s=s.status,s==="fulfilled"||s==="rejected"}function ip(s,a,o){switch(o=s[o],o===void 0?s.push(a):o!==a&&(a.then(Vs,Vs),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,lp(s),s;default:if(typeof a.status=="string")a.then(Vs,Vs);else{if(s=Ve,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(d){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=d}},function(d){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=d}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,lp(s),s}throw _a=a,mi}}function ja(s){try{var a=s._init;return a(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(_a=o,mi):o}}var _a=null;function rp(){if(_a===null)throw Error(i(459));var s=_a;return _a=null,s}function lp(s){if(s===mi||s===Yl)throw Error(i(483))}var pi=null,ur=0;function Gl(s){var a=ur;return ur+=1,pi===null&&(pi=[]),ip(pi,s,a)}function dr(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Wl(s,a){throw a.$$typeof===b?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function op(s){function a(L,O){if(s){var F=L.deletions;F===null?(L.deletions=[O],L.flags|=16):F.push(O)}}function o(L,O){if(!s)return null;for(;O!==null;)a(L,O),O=O.sibling;return null}function d(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function p(L,O){return L=Ys(L,O),L.index=0,L.sibling=null,L}function x(L,O,F){return L.index=F,s?(F=L.alternate,F!==null?(F=F.index,F<O?(L.flags|=67108866,O):F):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function _(L){return s&&L.alternate===null&&(L.flags|=67108866),L}function C(L,O,F,Z){return O===null||O.tag!==6?(O=Au(F,L.mode,Z),O.return=L,O):(O=p(O,F),O.return=L,O)}function T(L,O,F,Z){var de=F.type;return de===j?Q(L,O,F.props.children,Z,F.key):O!==null&&(O.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===q&&ja(de)===O.type)?(O=p(O,F.props),dr(O,F),O.return=L,O):(O=Pl(F.type,F.key,F.props,null,L.mode,Z),dr(O,F),O.return=L,O)}function V(L,O,F,Z){return O===null||O.tag!==4||O.stateNode.containerInfo!==F.containerInfo||O.stateNode.implementation!==F.implementation?(O=Du(F,L.mode,Z),O.return=L,O):(O=p(O,F.children||[]),O.return=L,O)}function Q(L,O,F,Z,de){return O===null||O.tag!==7?(O=ga(F,L.mode,Z,de),O.return=L,O):(O=p(O,F),O.return=L,O)}function J(L,O,F){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Au(""+O,L.mode,F),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case w:return F=Pl(O.type,O.key,O.props,null,L.mode,F),dr(F,O),F.return=L,F;case v:return O=Du(O,L.mode,F),O.return=L,O;case q:return O=ja(O),J(L,O,F)}if(ue(O)||le(O))return O=ga(O,L.mode,F,null),O.return=L,O;if(typeof O.then=="function")return J(L,Gl(O),F);if(O.$$typeof===k)return J(L,Vl(L,O),F);Wl(L,O)}return null}function $(L,O,F,Z){var de=O!==null?O.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return de!==null?null:C(L,O,""+F,Z);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case w:return F.key===de?T(L,O,F,Z):null;case v:return F.key===de?V(L,O,F,Z):null;case q:return F=ja(F),$(L,O,F,Z)}if(ue(F)||le(F))return de!==null?null:Q(L,O,F,Z,null);if(typeof F.then=="function")return $(L,O,Gl(F),Z);if(F.$$typeof===k)return $(L,O,Vl(L,F),Z);Wl(L,F)}return null}function X(L,O,F,Z,de){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(F)||null,C(O,L,""+Z,de);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return L=L.get(Z.key===null?F:Z.key)||null,T(O,L,Z,de);case v:return L=L.get(Z.key===null?F:Z.key)||null,V(O,L,Z,de);case q:return Z=ja(Z),X(L,O,F,Z,de)}if(ue(Z)||le(Z))return L=L.get(F)||null,Q(O,L,Z,de,null);if(typeof Z.then=="function")return X(L,O,F,Gl(Z),de);if(Z.$$typeof===k)return X(L,O,F,Vl(O,Z),de);Wl(O,Z)}return null}function oe(L,O,F,Z){for(var de=null,De=null,ce=O,be=O=0,ke=null;ce!==null&&be<F.length;be++){ce.index>be?(ke=ce,ce=null):ke=ce.sibling;var Oe=$(L,ce,F[be],Z);if(Oe===null){ce===null&&(ce=ke);break}s&&ce&&Oe.alternate===null&&a(L,ce),O=x(Oe,O,be),De===null?de=Oe:De.sibling=Oe,De=Oe,ce=ke}if(be===F.length)return o(L,ce),Ae&&Xs(L,be),de;if(ce===null){for(;be<F.length;be++)ce=J(L,F[be],Z),ce!==null&&(O=x(ce,O,be),De===null?de=ce:De.sibling=ce,De=ce);return Ae&&Xs(L,be),de}for(ce=d(ce);be<F.length;be++)ke=X(ce,L,be,F[be],Z),ke!==null&&(s&&ke.alternate!==null&&ce.delete(ke.key===null?be:ke.key),O=x(ke,O,be),De===null?de=ke:De.sibling=ke,De=ke);return s&&ce.forEach(function(Gn){return a(L,Gn)}),Ae&&Xs(L,be),de}function he(L,O,F,Z){if(F==null)throw Error(i(151));for(var de=null,De=null,ce=O,be=O=0,ke=null,Oe=F.next();ce!==null&&!Oe.done;be++,Oe=F.next()){ce.index>be?(ke=ce,ce=null):ke=ce.sibling;var Gn=$(L,ce,Oe.value,Z);if(Gn===null){ce===null&&(ce=ke);break}s&&ce&&Gn.alternate===null&&a(L,ce),O=x(Gn,O,be),De===null?de=Gn:De.sibling=Gn,De=Gn,ce=ke}if(Oe.done)return o(L,ce),Ae&&Xs(L,be),de;if(ce===null){for(;!Oe.done;be++,Oe=F.next())Oe=J(L,Oe.value,Z),Oe!==null&&(O=x(Oe,O,be),De===null?de=Oe:De.sibling=Oe,De=Oe);return Ae&&Xs(L,be),de}for(ce=d(ce);!Oe.done;be++,Oe=F.next())Oe=X(ce,L,be,Oe.value,Z),Oe!==null&&(s&&Oe.alternate!==null&&ce.delete(Oe.key===null?be:Oe.key),O=x(Oe,O,be),De===null?de=Oe:De.sibling=Oe,De=Oe);return s&&ce.forEach(function(H2){return a(L,H2)}),Ae&&Xs(L,be),de}function qe(L,O,F,Z){if(typeof F=="object"&&F!==null&&F.type===j&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case w:e:{for(var de=F.key;O!==null;){if(O.key===de){if(de=F.type,de===j){if(O.tag===7){o(L,O.sibling),Z=p(O,F.props.children),Z.return=L,L=Z;break e}}else if(O.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===q&&ja(de)===O.type){o(L,O.sibling),Z=p(O,F.props),dr(Z,F),Z.return=L,L=Z;break e}o(L,O);break}else a(L,O);O=O.sibling}F.type===j?(Z=ga(F.props.children,L.mode,Z,F.key),Z.return=L,L=Z):(Z=Pl(F.type,F.key,F.props,null,L.mode,Z),dr(Z,F),Z.return=L,L=Z)}return _(L);case v:e:{for(de=F.key;O!==null;){if(O.key===de)if(O.tag===4&&O.stateNode.containerInfo===F.containerInfo&&O.stateNode.implementation===F.implementation){o(L,O.sibling),Z=p(O,F.children||[]),Z.return=L,L=Z;break e}else{o(L,O);break}else a(L,O);O=O.sibling}Z=Du(F,L.mode,Z),Z.return=L,L=Z}return _(L);case q:return F=ja(F),qe(L,O,F,Z)}if(ue(F))return oe(L,O,F,Z);if(le(F)){if(de=le(F),typeof de!="function")throw Error(i(150));return F=de.call(F),he(L,O,F,Z)}if(typeof F.then=="function")return qe(L,O,Gl(F),Z);if(F.$$typeof===k)return qe(L,O,Vl(L,F),Z);Wl(L,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,O!==null&&O.tag===6?(o(L,O.sibling),Z=p(O,F),Z.return=L,L=Z):(o(L,O),Z=Au(F,L.mode,Z),Z.return=L,L=Z),_(L)):o(L,O)}return function(L,O,F,Z){try{ur=0;var de=qe(L,O,F,Z);return pi=null,de}catch(ce){if(ce===mi||ce===Yl)throw ce;var De=Zt(29,ce,null,L.mode);return De.lanes=Z,De.return=L,De}}}var wa=op(!0),cp=op(!1),Tn=!1;function $u(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yu(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function An(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Dn(s,a,o){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(Re&2)!==0){var p=d.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),d.pending=a,a=Ul(s),Xm(s,null,o),a}return Hl(s,d,a,o),Ul(s)}function fr(s,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var d=a.lanes;d&=s.pendingLanes,o|=d,a.lanes=o,em(s,o)}}function Xu(s,a){var o=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var p=null,x=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};x===null?p=x=_:x=x.next=_,o=o.next}while(o!==null);x===null?p=x=a:x=x.next=a}else p=x=a;o={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:x,shared:d.shared,callbacks:d.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=a:s.next=a,o.lastBaseUpdate=a}var Gu=!1;function hr(){if(Gu){var s=hi;if(s!==null)throw s}}function mr(s,a,o,d){Gu=!1;var p=s.updateQueue;Tn=!1;var x=p.firstBaseUpdate,_=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var T=C,V=T.next;T.next=null,_===null?x=V:_.next=V,_=T;var Q=s.alternate;Q!==null&&(Q=Q.updateQueue,C=Q.lastBaseUpdate,C!==_&&(C===null?Q.firstBaseUpdate=V:C.next=V,Q.lastBaseUpdate=T))}if(x!==null){var J=p.baseState;_=0,Q=V=T=null,C=x;do{var $=C.lane&-536870913,X=$!==C.lane;if(X?(Ee&$)===$:(d&$)===$){$!==0&&$===fi&&(Gu=!0),Q!==null&&(Q=Q.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var oe=s,he=C;$=a;var qe=o;switch(he.tag){case 1:if(oe=he.payload,typeof oe=="function"){J=oe.call(qe,J,$);break e}J=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=he.payload,$=typeof oe=="function"?oe.call(qe,J,$):oe,$==null)break e;J=g({},J,$);break e;case 2:Tn=!0}}$=C.callback,$!==null&&(s.flags|=64,X&&(s.flags|=8192),X=p.callbacks,X===null?p.callbacks=[$]:X.push($))}else X={lane:$,tag:C.tag,payload:C.payload,callback:C.callback,next:null},Q===null?(V=Q=X,T=J):Q=Q.next=X,_|=$;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;X=C,C=X.next,X.next=null,p.lastBaseUpdate=X,p.shared.pending=null}}while(!0);Q===null&&(T=J),p.baseState=T,p.firstBaseUpdate=V,p.lastBaseUpdate=Q,x===null&&(p.shared.lanes=0),Bn|=_,s.lanes=_,s.memoizedState=J}}function up(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function dp(s,a){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)up(o[s],a)}var gi=A(null),Ql=A(0);function fp(s,a){s=nn,ae(Ql,s),ae(gi,a),nn=s|a.baseLanes}function Wu(){ae(Ql,nn),ae(gi,gi.current)}function Qu(){nn=Ql.current,W(gi),W(Ql)}var Kt=A(null),ps=null;function On(s){var a=s.alternate;ae(et,et.current&1),ae(Kt,s),ps===null&&(a===null||gi.current!==null||a.memoizedState!==null)&&(ps=s)}function Zu(s){ae(et,et.current),ae(Kt,s),ps===null&&(ps=s)}function hp(s){s.tag===22?(ae(et,et.current),ae(Kt,s),ps===null&&(ps=s)):Rn()}function Rn(){ae(et,et.current),ae(Kt,Kt.current)}function It(s){W(Kt),ps===s&&(ps=null),W(et)}var et=A(0);function Zl(s){for(var a=s;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||sf(o)||nf(o)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Qs=0,xe=null,Pe=null,rt=null,Kl=!1,xi=!1,Na=!1,Il=0,pr=0,yi=null,Ej=0;function Ke(){throw Error(i(321))}function Ku(s,a){if(a===null)return!1;for(var o=0;o<a.length&&o<s.length;o++)if(!Qt(s[o],a[o]))return!1;return!0}function Iu(s,a,o,d,p,x){return Qs=x,xe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,H.H=s===null||s.memoizedState===null?Zp:hd,Na=!1,x=o(d,p),Na=!1,xi&&(x=pp(a,o,d,p)),mp(s),x}function mp(s){H.H=yr;var a=Pe!==null&&Pe.next!==null;if(Qs=0,rt=Pe=xe=null,Kl=!1,pr=0,yi=null,a)throw Error(i(300));s===null||lt||(s=s.dependencies,s!==null&&ql(s)&&(lt=!0))}function pp(s,a,o,d){xe=s;var p=0;do{if(xi&&(yi=null),pr=0,xi=!1,25<=p)throw Error(i(301));if(p+=1,rt=Pe=null,s.updateQueue!=null){var x=s.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}H.H=Kp,x=a(o,d)}while(xi);return x}function kj(){var s=H.H,a=s.useState()[0];return a=typeof a.then=="function"?gr(a):a,s=s.useState()[0],(Pe!==null?Pe.memoizedState:null)!==s&&(xe.flags|=1024),a}function Ju(){var s=Il!==0;return Il=0,s}function ed(s,a,o){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~o}function td(s){if(Kl){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Kl=!1}Qs=0,rt=Pe=xe=null,xi=!1,pr=Il=0,yi=null}function Et(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?xe.memoizedState=rt=s:rt=rt.next=s,rt}function tt(){if(Pe===null){var s=xe.alternate;s=s!==null?s.memoizedState:null}else s=Pe.next;var a=rt===null?xe.memoizedState:rt.next;if(a!==null)rt=a,Pe=s;else{if(s===null)throw xe.alternate===null?Error(i(467)):Error(i(310));Pe=s,s={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},rt===null?xe.memoizedState=rt=s:rt=rt.next=s}return rt}function Jl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gr(s){var a=pr;return pr+=1,yi===null&&(yi=[]),s=ip(yi,s,a),a=xe,(rt===null?a.memoizedState:rt.next)===null&&(a=a.alternate,H.H=a===null||a.memoizedState===null?Zp:hd),s}function eo(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return gr(s);if(s.$$typeof===k)return bt(s)}throw Error(i(438,String(s)))}function sd(s){var a=null,o=xe.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var d=xe.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(a={data:d.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=Jl(),xe.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(s),d=0;d<s;d++)o[d]=P;return a.index++,o}function Zs(s,a){return typeof a=="function"?a(s):a}function to(s){var a=tt();return nd(a,Pe,s)}function nd(s,a,o){var d=s.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=o;var p=s.baseQueue,x=d.pending;if(x!==null){if(p!==null){var _=p.next;p.next=x.next,x.next=_}a.baseQueue=p=x,d.pending=null}if(x=s.baseState,p===null)s.memoizedState=x;else{a=p.next;var C=_=null,T=null,V=a,Q=!1;do{var J=V.lane&-536870913;if(J!==V.lane?(Ee&J)===J:(Qs&J)===J){var $=V.revertLane;if($===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),J===fi&&(Q=!0);else if((Qs&$)===$){V=V.next,$===fi&&(Q=!0);continue}else J={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},T===null?(C=T=J,_=x):T=T.next=J,xe.lanes|=$,Bn|=$;J=V.action,Na&&o(x,J),x=V.hasEagerState?V.eagerState:o(x,J)}else $={lane:J,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},T===null?(C=T=$,_=x):T=T.next=$,xe.lanes|=J,Bn|=J;V=V.next}while(V!==null&&V!==a);if(T===null?_=x:T.next=C,!Qt(x,s.memoizedState)&&(lt=!0,Q&&(o=hi,o!==null)))throw o;s.memoizedState=x,s.baseState=_,s.baseQueue=T,d.lastRenderedState=x}return p===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function ad(s){var a=tt(),o=a.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var d=o.dispatch,p=o.pending,x=a.memoizedState;if(p!==null){o.pending=null;var _=p=p.next;do x=s(x,_.action),_=_.next;while(_!==p);Qt(x,a.memoizedState)||(lt=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),o.lastRenderedState=x}return[x,d]}function gp(s,a,o){var d=xe,p=tt(),x=Ae;if(x){if(o===void 0)throw Error(i(407));o=o()}else o=a();var _=!Qt((Pe||p).memoizedState,o);if(_&&(p.memoizedState=o,lt=!0),p=p.queue,ld(bp.bind(null,d,p,s),[s]),p.getSnapshot!==a||_||rt!==null&&rt.memoizedState.tag&1){if(d.flags|=2048,bi(9,{destroy:void 0},yp.bind(null,d,p,o,a),null),Ve===null)throw Error(i(349));x||(Qs&127)!==0||xp(d,a,o)}return o}function xp(s,a,o){s.flags|=16384,s={getSnapshot:a,value:o},a=xe.updateQueue,a===null?(a=Jl(),xe.updateQueue=a,a.stores=[s]):(o=a.stores,o===null?a.stores=[s]:o.push(s))}function yp(s,a,o,d){a.value=o,a.getSnapshot=d,vp(a)&&jp(s)}function bp(s,a,o){return o(function(){vp(a)&&jp(s)})}function vp(s){var a=s.getSnapshot;s=s.value;try{var o=a();return!Qt(s,o)}catch{return!0}}function jp(s){var a=pa(s,2);a!==null&&Ht(a,s,2)}function id(s){var a=Et();if(typeof s=="function"){var o=s;if(s=o(),Na){wn(!0);try{o()}finally{wn(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:s},a}function _p(s,a,o,d){return s.baseState=o,nd(s,Pe,typeof d=="function"?d:Zs)}function Tj(s,a,o,d,p){if(ao(s))throw Error(i(485));if(s=a.action,s!==null){var x={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){x.listeners.push(_)}};H.T!==null?o(!0):x.isTransition=!1,d(x),o=a.pending,o===null?(x.next=a.pending=x,wp(a,x)):(x.next=o.next,a.pending=o.next=x)}}function wp(s,a){var o=a.action,d=a.payload,p=s.state;if(a.isTransition){var x=H.T,_={};H.T=_;try{var C=o(p,d),T=H.S;T!==null&&T(_,C),Np(s,a,C)}catch(V){rd(s,a,V)}finally{x!==null&&_.types!==null&&(x.types=_.types),H.T=x}}else try{x=o(p,d),Np(s,a,x)}catch(V){rd(s,a,V)}}function Np(s,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(d){Sp(s,a,d)},function(d){return rd(s,a,d)}):Sp(s,a,o)}function Sp(s,a,o){a.status="fulfilled",a.value=o,Cp(a),s.state=o,a=s.pending,a!==null&&(o=a.next,o===a?s.pending=null:(o=o.next,a.next=o,wp(s,o)))}function rd(s,a,o){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do a.status="rejected",a.reason=o,Cp(a),a=a.next;while(a!==d)}s.action=null}function Cp(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function Mp(s,a){return a}function Ep(s,a){if(Ae){var o=Ve.formState;if(o!==null){e:{var d=xe;if(Ae){if(Ye){t:{for(var p=Ye,x=ms;p.nodeType!==8;){if(!x){p=null;break t}if(p=gs(p.nextSibling),p===null){p=null;break t}}x=p.data,p=x==="F!"||x==="F"?p:null}if(p){Ye=gs(p.nextSibling),d=p.data==="F!";break e}}En(d)}d=!1}d&&(a=o[0])}}return o=Et(),o.memoizedState=o.baseState=a,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mp,lastRenderedState:a},o.queue=d,o=Gp.bind(null,xe,d),d.dispatch=o,d=id(!1),x=fd.bind(null,xe,!1,d.queue),d=Et(),p={state:a,dispatch:null,action:s,pending:null},d.queue=p,o=Tj.bind(null,xe,p,x,o),p.dispatch=o,d.memoizedState=s,[a,o,!1]}function kp(s){var a=tt();return Tp(a,Pe,s)}function Tp(s,a,o){if(a=nd(s,a,Mp)[0],s=to(Zs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var d=gr(a)}catch(_){throw _===mi?Yl:_}else d=a;a=tt();var p=a.queue,x=p.dispatch;return o!==a.memoizedState&&(xe.flags|=2048,bi(9,{destroy:void 0},Aj.bind(null,p,o),null)),[d,x,s]}function Aj(s,a){s.action=a}function Ap(s){var a=tt(),o=Pe;if(o!==null)return Tp(a,o,s);tt(),a=a.memoizedState,o=tt();var d=o.queue.dispatch;return o.memoizedState=s,[a,d,!1]}function bi(s,a,o,d){return s={tag:s,create:o,deps:d,inst:a,next:null},a=xe.updateQueue,a===null&&(a=Jl(),xe.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=s.next=s:(d=o.next,o.next=s,s.next=d,a.lastEffect=s),s}function Dp(){return tt().memoizedState}function so(s,a,o,d){var p=Et();xe.flags|=s,p.memoizedState=bi(1|a,{destroy:void 0},o,d===void 0?null:d)}function no(s,a,o,d){var p=tt();d=d===void 0?null:d;var x=p.memoizedState.inst;Pe!==null&&d!==null&&Ku(d,Pe.memoizedState.deps)?p.memoizedState=bi(a,x,o,d):(xe.flags|=s,p.memoizedState=bi(1|a,x,o,d))}function Op(s,a){so(8390656,8,s,a)}function ld(s,a){no(2048,8,s,a)}function Dj(s){xe.flags|=4;var a=xe.updateQueue;if(a===null)a=Jl(),xe.updateQueue=a,a.events=[s];else{var o=a.events;o===null?a.events=[s]:o.push(s)}}function Rp(s){var a=tt().memoizedState;return Dj({ref:a,nextImpl:s}),function(){if((Re&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function zp(s,a){return no(4,2,s,a)}function Lp(s,a){return no(4,4,s,a)}function Bp(s,a){if(typeof a=="function"){s=s();var o=a(s);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Hp(s,a,o){o=o!=null?o.concat([s]):null,no(4,4,Bp.bind(null,a,s),o)}function od(){}function Up(s,a){var o=tt();a=a===void 0?null:a;var d=o.memoizedState;return a!==null&&Ku(a,d[1])?d[0]:(o.memoizedState=[s,a],s)}function Pp(s,a){var o=tt();a=a===void 0?null:a;var d=o.memoizedState;if(a!==null&&Ku(a,d[1]))return d[0];if(d=s(),Na){wn(!0);try{s()}finally{wn(!1)}}return o.memoizedState=[d,a],d}function cd(s,a,o){return o===void 0||(Qs&1073741824)!==0&&(Ee&261930)===0?s.memoizedState=a:(s.memoizedState=o,s=F0(),xe.lanes|=s,Bn|=s,o)}function Fp(s,a,o,d){return Qt(o,a)?o:gi.current!==null?(s=cd(s,o,d),Qt(s,a)||(lt=!0),s):(Qs&42)===0||(Qs&1073741824)!==0&&(Ee&261930)===0?(lt=!0,s.memoizedState=o):(s=F0(),xe.lanes|=s,Bn|=s,a)}function qp(s,a,o,d,p){var x=ee.p;ee.p=x!==0&&8>x?x:8;var _=H.T,C={};H.T=C,fd(s,!1,a,o);try{var T=p(),V=H.S;if(V!==null&&V(C,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var Q=Mj(T,d);xr(s,a,Q,ts(s))}else xr(s,a,d,ts(s))}catch(J){xr(s,a,{then:function(){},status:"rejected",reason:J},ts())}finally{ee.p=x,_!==null&&C.types!==null&&(_.types=C.types),H.T=_}}function Oj(){}function ud(s,a,o,d){if(s.tag!==5)throw Error(i(476));var p=Vp(s).queue;qp(s,p,a,re,o===null?Oj:function(){return $p(s),o(d)})}function Vp(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:re},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:o},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function $p(s){var a=Vp(s);a.next===null&&(a=s.alternate.memoizedState),xr(s,a.next.queue,{},ts())}function dd(){return bt(Rr)}function Yp(){return tt().memoizedState}function Xp(){return tt().memoizedState}function Rj(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var o=ts();s=An(o);var d=Dn(a,s,o);d!==null&&(Ht(d,a,o),fr(d,a,o)),a={cache:Pu()},s.payload=a;return}a=a.return}}function zj(s,a,o){var d=ts();o={lane:d,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ao(s)?Wp(a,o):(o=ku(s,a,o,d),o!==null&&(Ht(o,s,d),Qp(o,a,d)))}function Gp(s,a,o){var d=ts();xr(s,a,o,d)}function xr(s,a,o,d){var p={lane:d,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(ao(s))Wp(a,p);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var _=a.lastRenderedState,C=x(_,o);if(p.hasEagerState=!0,p.eagerState=C,Qt(C,_))return Hl(s,a,p,0),Ve===null&&Bl(),!1}catch{}if(o=ku(s,a,p,d),o!==null)return Ht(o,s,d),Qp(o,a,d),!0}return!1}function fd(s,a,o,d){if(d={lane:2,revertLane:$d(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},ao(s)){if(a)throw Error(i(479))}else a=ku(s,o,d,2),a!==null&&Ht(a,s,2)}function ao(s){var a=s.alternate;return s===xe||a!==null&&a===xe}function Wp(s,a){xi=Kl=!0;var o=s.pending;o===null?a.next=a:(a.next=o.next,o.next=a),s.pending=a}function Qp(s,a,o){if((o&4194048)!==0){var d=a.lanes;d&=s.pendingLanes,o|=d,a.lanes=o,em(s,o)}}var yr={readContext:bt,use:eo,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke};yr.useEffectEvent=Ke;var Zp={readContext:bt,use:eo,useCallback:function(s,a){return Et().memoizedState=[s,a===void 0?null:a],s},useContext:bt,useEffect:Op,useImperativeHandle:function(s,a,o){o=o!=null?o.concat([s]):null,so(4194308,4,Bp.bind(null,a,s),o)},useLayoutEffect:function(s,a){return so(4194308,4,s,a)},useInsertionEffect:function(s,a){so(4,2,s,a)},useMemo:function(s,a){var o=Et();a=a===void 0?null:a;var d=s();if(Na){wn(!0);try{s()}finally{wn(!1)}}return o.memoizedState=[d,a],d},useReducer:function(s,a,o){var d=Et();if(o!==void 0){var p=o(a);if(Na){wn(!0);try{o(a)}finally{wn(!1)}}}else p=a;return d.memoizedState=d.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},d.queue=s,s=s.dispatch=zj.bind(null,xe,s),[d.memoizedState,s]},useRef:function(s){var a=Et();return s={current:s},a.memoizedState=s},useState:function(s){s=id(s);var a=s.queue,o=Gp.bind(null,xe,a);return a.dispatch=o,[s.memoizedState,o]},useDebugValue:od,useDeferredValue:function(s,a){var o=Et();return cd(o,s,a)},useTransition:function(){var s=id(!1);return s=qp.bind(null,xe,s.queue,!0,!1),Et().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,o){var d=xe,p=Et();if(Ae){if(o===void 0)throw Error(i(407));o=o()}else{if(o=a(),Ve===null)throw Error(i(349));(Ee&127)!==0||xp(d,a,o)}p.memoizedState=o;var x={value:o,getSnapshot:a};return p.queue=x,Op(bp.bind(null,d,x,s),[s]),d.flags|=2048,bi(9,{destroy:void 0},yp.bind(null,d,x,o,a),null),o},useId:function(){var s=Et(),a=Ve.identifierPrefix;if(Ae){var o=As,d=Ts;o=(d&~(1<<32-Wt(d)-1)).toString(32)+o,a="_"+a+"R_"+o,o=Il++,0<o&&(a+="H"+o.toString(32)),a+="_"}else o=Ej++,a="_"+a+"r_"+o.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:dd,useFormState:Ep,useActionState:Ep,useOptimistic:function(s){var a=Et();a.memoizedState=a.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=fd.bind(null,xe,!0,o),o.dispatch=a,[s,a]},useMemoCache:sd,useCacheRefresh:function(){return Et().memoizedState=Rj.bind(null,xe)},useEffectEvent:function(s){var a=Et(),o={impl:s};return a.memoizedState=o,function(){if((Re&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},hd={readContext:bt,use:eo,useCallback:Up,useContext:bt,useEffect:ld,useImperativeHandle:Hp,useInsertionEffect:zp,useLayoutEffect:Lp,useMemo:Pp,useReducer:to,useRef:Dp,useState:function(){return to(Zs)},useDebugValue:od,useDeferredValue:function(s,a){var o=tt();return Fp(o,Pe.memoizedState,s,a)},useTransition:function(){var s=to(Zs)[0],a=tt().memoizedState;return[typeof s=="boolean"?s:gr(s),a]},useSyncExternalStore:gp,useId:Yp,useHostTransitionStatus:dd,useFormState:kp,useActionState:kp,useOptimistic:function(s,a){var o=tt();return _p(o,Pe,s,a)},useMemoCache:sd,useCacheRefresh:Xp};hd.useEffectEvent=Rp;var Kp={readContext:bt,use:eo,useCallback:Up,useContext:bt,useEffect:ld,useImperativeHandle:Hp,useInsertionEffect:zp,useLayoutEffect:Lp,useMemo:Pp,useReducer:ad,useRef:Dp,useState:function(){return ad(Zs)},useDebugValue:od,useDeferredValue:function(s,a){var o=tt();return Pe===null?cd(o,s,a):Fp(o,Pe.memoizedState,s,a)},useTransition:function(){var s=ad(Zs)[0],a=tt().memoizedState;return[typeof s=="boolean"?s:gr(s),a]},useSyncExternalStore:gp,useId:Yp,useHostTransitionStatus:dd,useFormState:Ap,useActionState:Ap,useOptimistic:function(s,a){var o=tt();return Pe!==null?_p(o,Pe,s,a):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:sd,useCacheRefresh:Xp};Kp.useEffectEvent=Rp;function md(s,a,o,d){a=s.memoizedState,o=o(d,a),o=o==null?a:g({},a,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var pd={enqueueSetState:function(s,a,o){s=s._reactInternals;var d=ts(),p=An(d);p.payload=a,o!=null&&(p.callback=o),a=Dn(s,p,d),a!==null&&(Ht(a,s,d),fr(a,s,d))},enqueueReplaceState:function(s,a,o){s=s._reactInternals;var d=ts(),p=An(d);p.tag=1,p.payload=a,o!=null&&(p.callback=o),a=Dn(s,p,d),a!==null&&(Ht(a,s,d),fr(a,s,d))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var o=ts(),d=An(o);d.tag=2,a!=null&&(d.callback=a),a=Dn(s,d,o),a!==null&&(Ht(a,s,o),fr(a,s,o))}};function Ip(s,a,o,d,p,x,_){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,x,_):a.prototype&&a.prototype.isPureReactComponent?!ar(o,d)||!ar(p,x):!0}function Jp(s,a,o,d){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,d),a.state!==s&&pd.enqueueReplaceState(a,a.state,null)}function Sa(s,a){var o=a;if("ref"in a){o={};for(var d in a)d!=="ref"&&(o[d]=a[d])}if(s=s.defaultProps){o===a&&(o=g({},o));for(var p in s)o[p]===void 0&&(o[p]=s[p])}return o}function e0(s){Ll(s)}function t0(s){console.error(s)}function s0(s){Ll(s)}function io(s,a){try{var o=s.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(d){setTimeout(function(){throw d})}}function n0(s,a,o){try{var d=s.onCaughtError;d(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function gd(s,a,o){return o=An(o),o.tag=3,o.payload={element:null},o.callback=function(){io(s,a)},o}function a0(s){return s=An(s),s.tag=3,s}function i0(s,a,o,d){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var x=d.value;s.payload=function(){return p(x)},s.callback=function(){n0(a,o,d)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(s.callback=function(){n0(a,o,d),typeof p!="function"&&(Hn===null?Hn=new Set([this]):Hn.add(this));var C=d.stack;this.componentDidCatch(d.value,{componentStack:C!==null?C:""})})}function Lj(s,a,o,d,p){if(o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(a=o.alternate,a!==null&&di(a,o,p,!0),o=Kt.current,o!==null){switch(o.tag){case 31:case 13:return ps===null?yo():o.alternate===null&&Ie===0&&(Ie=3),o.flags&=-257,o.flags|=65536,o.lanes=p,d===Xl?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([d]):a.add(d),Fd(s,d,p)),!1;case 22:return o.flags|=65536,d===Xl?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([d])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([d]):o.add(d)),Fd(s,d,p)),!1}throw Error(i(435,o.tag))}return Fd(s,d,p),yo(),!1}if(Ae)return a=Kt.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,d!==zu&&(s=Error(i(422),{cause:d}),lr(ds(s,o)))):(d!==zu&&(a=Error(i(423),{cause:d}),lr(ds(a,o))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,d=ds(d,o),p=gd(s.stateNode,d,p),Xu(s,p),Ie!==4&&(Ie=2)),!1;var x=Error(i(520),{cause:d});if(x=ds(x,o),Cr===null?Cr=[x]:Cr.push(x),Ie!==4&&(Ie=2),a===null)return!0;d=ds(d,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,s=p&-p,o.lanes|=s,s=gd(o.stateNode,d,s),Xu(o,s),!1;case 1:if(a=o.type,x=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Hn===null||!Hn.has(x))))return o.flags|=65536,p&=-p,o.lanes|=p,p=a0(p),i0(p,s,o,d),Xu(o,p),!1}o=o.return}while(o!==null);return!1}var xd=Error(i(461)),lt=!1;function vt(s,a,o,d){a.child=s===null?cp(a,null,o,d):wa(a,s.child,o,d)}function r0(s,a,o,d,p){o=o.render;var x=a.ref;if("ref"in d){var _={};for(var C in d)C!=="ref"&&(_[C]=d[C])}else _=d;return ba(a),d=Iu(s,a,o,_,x,p),C=Ju(),s!==null&&!lt?(ed(s,a,p),Ks(s,a,p)):(Ae&&C&&Ou(a),a.flags|=1,vt(s,a,d,p),a.child)}function l0(s,a,o,d,p){if(s===null){var x=o.type;return typeof x=="function"&&!Tu(x)&&x.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=x,o0(s,a,x,d,p)):(s=Pl(o.type,null,d,a,a.mode,p),s.ref=a.ref,s.return=a,a.child=s)}if(x=s.child,!Sd(s,p)){var _=x.memoizedProps;if(o=o.compare,o=o!==null?o:ar,o(_,d)&&s.ref===a.ref)return Ks(s,a,p)}return a.flags|=1,s=Ys(x,d),s.ref=a.ref,s.return=a,a.child=s}function o0(s,a,o,d,p){if(s!==null){var x=s.memoizedProps;if(ar(x,d)&&s.ref===a.ref)if(lt=!1,a.pendingProps=d=x,Sd(s,p))(s.flags&131072)!==0&&(lt=!0);else return a.lanes=s.lanes,Ks(s,a,p)}return yd(s,a,o,d,p)}function c0(s,a,o,d){var p=d.children,x=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((a.flags&128)!==0){if(x=x!==null?x.baseLanes|o:o,s!==null){for(d=a.child=s.child,p=0;d!==null;)p=p|d.lanes|d.childLanes,d=d.sibling;d=p&~x}else d=0,a.child=null;return u0(s,a,x,o,d)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&$l(a,x!==null?x.cachePool:null),x!==null?fp(a,x):Wu(),hp(a);else return d=a.lanes=536870912,u0(s,a,x!==null?x.baseLanes|o:o,o,d)}else x!==null?($l(a,x.cachePool),fp(a,x),Rn(),a.memoizedState=null):(s!==null&&$l(a,null),Wu(),Rn());return vt(s,a,p,o),a.child}function br(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function u0(s,a,o,d,p){var x=qu();return x=x===null?null:{parent:it._currentValue,pool:x},a.memoizedState={baseLanes:o,cachePool:x},s!==null&&$l(a,null),Wu(),hp(a),s!==null&&di(s,a,d,!0),a.childLanes=p,null}function ro(s,a){return a=oo({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function d0(s,a,o){return wa(a,s.child,null,o),s=ro(a,a.pendingProps),s.flags|=2,It(a),a.memoizedState=null,s}function Bj(s,a,o){var d=a.pendingProps,p=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(Ae){if(d.mode==="hidden")return s=ro(a,d),a.lanes=536870912,br(null,s);if(Zu(a),(s=Ye)?(s=wg(s,ms),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Cn!==null?{id:Ts,overflow:As}:null,retryLane:536870912,hydrationErrors:null},o=Wm(s),o.return=a,a.child=o,yt=a,Ye=null)):s=null,s===null)throw En(a);return a.lanes=536870912,null}return ro(a,d)}var x=s.memoizedState;if(x!==null){var _=x.dehydrated;if(Zu(a),p)if(a.flags&256)a.flags&=-257,a=d0(s,a,o);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(i(558));else if(lt||di(s,a,o,!1),p=(o&s.childLanes)!==0,lt||p){if(d=Ve,d!==null&&(_=tm(d,o),_!==0&&_!==x.retryLane))throw x.retryLane=_,pa(s,_),Ht(d,s,_),xd;yo(),a=d0(s,a,o)}else s=x.treeContext,Ye=gs(_.nextSibling),yt=a,Ae=!0,Mn=null,ms=!1,s!==null&&Km(a,s),a=ro(a,d),a.flags|=4096;return a}return s=Ys(s.child,{mode:d.mode,children:d.children}),s.ref=a.ref,a.child=s,s.return=a,s}function lo(s,a){var o=a.ref;if(o===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(a.flags|=4194816)}}function yd(s,a,o,d,p){return ba(a),o=Iu(s,a,o,d,void 0,p),d=Ju(),s!==null&&!lt?(ed(s,a,p),Ks(s,a,p)):(Ae&&d&&Ou(a),a.flags|=1,vt(s,a,o,p),a.child)}function f0(s,a,o,d,p,x){return ba(a),a.updateQueue=null,o=pp(a,d,o,p),mp(s),d=Ju(),s!==null&&!lt?(ed(s,a,x),Ks(s,a,x)):(Ae&&d&&Ou(a),a.flags|=1,vt(s,a,o,x),a.child)}function h0(s,a,o,d,p){if(ba(a),a.stateNode===null){var x=li,_=o.contextType;typeof _=="object"&&_!==null&&(x=bt(_)),x=new o(d,x),a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=pd,a.stateNode=x,x._reactInternals=a,x=a.stateNode,x.props=d,x.state=a.memoizedState,x.refs={},$u(a),_=o.contextType,x.context=typeof _=="object"&&_!==null?bt(_):li,x.state=a.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(md(a,o,_,d),x.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(_=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),_!==x.state&&pd.enqueueReplaceState(x,x.state,null),mr(a,d,x,p),hr(),x.state=a.memoizedState),typeof x.componentDidMount=="function"&&(a.flags|=4194308),d=!0}else if(s===null){x=a.stateNode;var C=a.memoizedProps,T=Sa(o,C);x.props=T;var V=x.context,Q=o.contextType;_=li,typeof Q=="object"&&Q!==null&&(_=bt(Q));var J=o.getDerivedStateFromProps;Q=typeof J=="function"||typeof x.getSnapshotBeforeUpdate=="function",C=a.pendingProps!==C,Q||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C||V!==_)&&Jp(a,x,d,_),Tn=!1;var $=a.memoizedState;x.state=$,mr(a,d,x,p),hr(),V=a.memoizedState,C||$!==V||Tn?(typeof J=="function"&&(md(a,o,J,d),V=a.memoizedState),(T=Tn||Ip(a,o,T,d,$,V,_))?(Q||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(a.flags|=4194308)):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=V),x.props=d,x.state=V,x.context=_,d=T):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{x=a.stateNode,Yu(s,a),_=a.memoizedProps,Q=Sa(o,_),x.props=Q,J=a.pendingProps,$=x.context,V=o.contextType,T=li,typeof V=="object"&&V!==null&&(T=bt(V)),C=o.getDerivedStateFromProps,(V=typeof C=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(_!==J||$!==T)&&Jp(a,x,d,T),Tn=!1,$=a.memoizedState,x.state=$,mr(a,d,x,p),hr();var X=a.memoizedState;_!==J||$!==X||Tn||s!==null&&s.dependencies!==null&&ql(s.dependencies)?(typeof C=="function"&&(md(a,o,C,d),X=a.memoizedState),(Q=Tn||Ip(a,o,Q,d,$,X,T)||s!==null&&s.dependencies!==null&&ql(s.dependencies))?(V||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,X,T),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,X,T)),typeof x.componentDidUpdate=="function"&&(a.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof x.componentDidUpdate!="function"||_===s.memoizedProps&&$===s.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&$===s.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=X),x.props=d,x.state=X,x.context=T,d=Q):(typeof x.componentDidUpdate!="function"||_===s.memoizedProps&&$===s.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&$===s.memoizedState||(a.flags|=1024),d=!1)}return x=d,lo(s,a),d=(a.flags&128)!==0,x||d?(x=a.stateNode,o=d&&typeof o.getDerivedStateFromError!="function"?null:x.render(),a.flags|=1,s!==null&&d?(a.child=wa(a,s.child,null,p),a.child=wa(a,null,o,p)):vt(s,a,o,p),a.memoizedState=x.state,s=a.child):s=Ks(s,a,p),s}function m0(s,a,o,d){return xa(),a.flags|=256,vt(s,a,o,d),a.child}var bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vd(s){return{baseLanes:s,cachePool:np()}}function jd(s,a,o){return s=s!==null?s.childLanes&~o:0,a&&(s|=es),s}function p0(s,a,o){var d=a.pendingProps,p=!1,x=(a.flags&128)!==0,_;if((_=x)||(_=s!==null&&s.memoizedState===null?!1:(et.current&2)!==0),_&&(p=!0,a.flags&=-129),_=(a.flags&32)!==0,a.flags&=-33,s===null){if(Ae){if(p?On(a):Rn(),(s=Ye)?(s=wg(s,ms),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Cn!==null?{id:Ts,overflow:As}:null,retryLane:536870912,hydrationErrors:null},o=Wm(s),o.return=a,a.child=o,yt=a,Ye=null)):s=null,s===null)throw En(a);return nf(s)?a.lanes=32:a.lanes=536870912,null}var C=d.children;return d=d.fallback,p?(Rn(),p=a.mode,C=oo({mode:"hidden",children:C},p),d=ga(d,p,o,null),C.return=a,d.return=a,C.sibling=d,a.child=C,d=a.child,d.memoizedState=vd(o),d.childLanes=jd(s,_,o),a.memoizedState=bd,br(null,d)):(On(a),_d(a,C))}var T=s.memoizedState;if(T!==null&&(C=T.dehydrated,C!==null)){if(x)a.flags&256?(On(a),a.flags&=-257,a=wd(s,a,o)):a.memoizedState!==null?(Rn(),a.child=s.child,a.flags|=128,a=null):(Rn(),C=d.fallback,p=a.mode,d=oo({mode:"visible",children:d.children},p),C=ga(C,p,o,null),C.flags|=2,d.return=a,C.return=a,d.sibling=C,a.child=d,wa(a,s.child,null,o),d=a.child,d.memoizedState=vd(o),d.childLanes=jd(s,_,o),a.memoizedState=bd,a=br(null,d));else if(On(a),nf(C)){if(_=C.nextSibling&&C.nextSibling.dataset,_)var V=_.dgst;_=V,d=Error(i(419)),d.stack="",d.digest=_,lr({value:d,source:null,stack:null}),a=wd(s,a,o)}else if(lt||di(s,a,o,!1),_=(o&s.childLanes)!==0,lt||_){if(_=Ve,_!==null&&(d=tm(_,o),d!==0&&d!==T.retryLane))throw T.retryLane=d,pa(s,d),Ht(_,s,d),xd;sf(C)||yo(),a=wd(s,a,o)}else sf(C)?(a.flags|=192,a.child=s.child,a=null):(s=T.treeContext,Ye=gs(C.nextSibling),yt=a,Ae=!0,Mn=null,ms=!1,s!==null&&Km(a,s),a=_d(a,d.children),a.flags|=4096);return a}return p?(Rn(),C=d.fallback,p=a.mode,T=s.child,V=T.sibling,d=Ys(T,{mode:"hidden",children:d.children}),d.subtreeFlags=T.subtreeFlags&65011712,V!==null?C=Ys(V,C):(C=ga(C,p,o,null),C.flags|=2),C.return=a,d.return=a,d.sibling=C,a.child=d,br(null,d),d=a.child,C=s.child.memoizedState,C===null?C=vd(o):(p=C.cachePool,p!==null?(T=it._currentValue,p=p.parent!==T?{parent:T,pool:T}:p):p=np(),C={baseLanes:C.baseLanes|o,cachePool:p}),d.memoizedState=C,d.childLanes=jd(s,_,o),a.memoizedState=bd,br(s.child,d)):(On(a),o=s.child,s=o.sibling,o=Ys(o,{mode:"visible",children:d.children}),o.return=a,o.sibling=null,s!==null&&(_=a.deletions,_===null?(a.deletions=[s],a.flags|=16):_.push(s)),a.child=o,a.memoizedState=null,o)}function _d(s,a){return a=oo({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function oo(s,a){return s=Zt(22,s,null,a),s.lanes=0,s}function wd(s,a,o){return wa(a,s.child,null,o),s=_d(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function g0(s,a,o){s.lanes|=a;var d=s.alternate;d!==null&&(d.lanes|=a),Hu(s.return,a,o)}function Nd(s,a,o,d,p,x){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:p,treeForkCount:x}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=d,_.tail=o,_.tailMode=p,_.treeForkCount=x)}function x0(s,a,o){var d=a.pendingProps,p=d.revealOrder,x=d.tail;d=d.children;var _=et.current,C=(_&2)!==0;if(C?(_=_&1|2,a.flags|=128):_&=1,ae(et,_),vt(s,a,d,o),d=Ae?rr:0,!C&&s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&g0(s,o,a);else if(s.tag===19)g0(s,o,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(p){case"forwards":for(o=a.child,p=null;o!==null;)s=o.alternate,s!==null&&Zl(s)===null&&(p=o),o=o.sibling;o=p,o===null?(p=a.child,a.child=null):(p=o.sibling,o.sibling=null),Nd(a,!1,p,o,x,d);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=a.child,a.child=null;p!==null;){if(s=p.alternate,s!==null&&Zl(s)===null){a.child=p;break}s=p.sibling,p.sibling=o,o=p,p=s}Nd(a,!0,o,null,x,d);break;case"together":Nd(a,!1,null,null,void 0,d);break;default:a.memoizedState=null}return a.child}function Ks(s,a,o){if(s!==null&&(a.dependencies=s.dependencies),Bn|=a.lanes,(o&a.childLanes)===0)if(s!==null){if(di(s,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,o=Ys(s,s.pendingProps),a.child=o,o.return=a;s.sibling!==null;)s=s.sibling,o=o.sibling=Ys(s,s.pendingProps),o.return=a;o.sibling=null}return a.child}function Sd(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&ql(s)))}function Hj(s,a,o){switch(a.tag){case 3:ye(a,a.stateNode.containerInfo),kn(a,it,s.memoizedState.cache),xa();break;case 27:case 5:ls(a);break;case 4:ye(a,a.stateNode.containerInfo);break;case 10:kn(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Zu(a),null;break;case 13:var d=a.memoizedState;if(d!==null)return d.dehydrated!==null?(On(a),a.flags|=128,null):(o&a.child.childLanes)!==0?p0(s,a,o):(On(a),s=Ks(s,a,o),s!==null?s.sibling:null);On(a);break;case 19:var p=(s.flags&128)!==0;if(d=(o&a.childLanes)!==0,d||(di(s,a,o,!1),d=(o&a.childLanes)!==0),p){if(d)return x0(s,a,o);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ae(et,et.current),d)break;return null;case 22:return a.lanes=0,c0(s,a,o,a.pendingProps);case 24:kn(a,it,s.memoizedState.cache)}return Ks(s,a,o)}function y0(s,a,o){if(s!==null)if(s.memoizedProps!==a.pendingProps)lt=!0;else{if(!Sd(s,o)&&(a.flags&128)===0)return lt=!1,Hj(s,a,o);lt=(s.flags&131072)!==0}else lt=!1,Ae&&(a.flags&1048576)!==0&&Zm(a,rr,a.index);switch(a.lanes=0,a.tag){case 16:e:{var d=a.pendingProps;if(s=ja(a.elementType),a.type=s,typeof s=="function")Tu(s)?(d=Sa(s,d),a.tag=1,a=h0(null,a,s,d,o)):(a.tag=0,a=yd(null,a,s,d,o));else{if(s!=null){var p=s.$$typeof;if(p===U){a.tag=11,a=r0(null,a,s,d,o);break e}else if(p===R){a.tag=14,a=l0(null,a,s,d,o);break e}}throw a=we(s)||s,Error(i(306,a,""))}}return a;case 0:return yd(s,a,a.type,a.pendingProps,o);case 1:return d=a.type,p=Sa(d,a.pendingProps),h0(s,a,d,p,o);case 3:e:{if(ye(a,a.stateNode.containerInfo),s===null)throw Error(i(387));d=a.pendingProps;var x=a.memoizedState;p=x.element,Yu(s,a),mr(a,d,null,o);var _=a.memoizedState;if(d=_.cache,kn(a,it,d),d!==x.cache&&Uu(a,[it],o,!0),hr(),d=_.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:_.cache},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){a=m0(s,a,d,o);break e}else if(d!==p){p=ds(Error(i(424)),a),lr(p),a=m0(s,a,d,o);break e}else for(s=a.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,Ye=gs(s.firstChild),yt=a,Ae=!0,Mn=null,ms=!0,o=cp(a,null,d,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(xa(),d===p){a=Ks(s,a,o);break e}vt(s,a,d,o)}a=a.child}return a;case 26:return lo(s,a),s===null?(o=kg(a.type,null,a.pendingProps,null))?a.memoizedState=o:Ae||(o=a.type,s=a.pendingProps,d=So(G.current).createElement(o),d[xt]=a,d[Dt]=s,jt(d,o,s),pt(d),a.stateNode=d):a.memoizedState=kg(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return ls(a),s===null&&Ae&&(d=a.stateNode=Cg(a.type,a.pendingProps,G.current),yt=a,ms=!0,p=Ye,qn(a.type)?(af=p,Ye=gs(d.firstChild)):Ye=p),vt(s,a,a.pendingProps.children,o),lo(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Ae&&((p=d=Ye)&&(d=m2(d,a.type,a.pendingProps,ms),d!==null?(a.stateNode=d,yt=a,Ye=gs(d.firstChild),ms=!1,p=!0):p=!1),p||En(a)),ls(a),p=a.type,x=a.pendingProps,_=s!==null?s.memoizedProps:null,d=x.children,Jd(p,x)?d=null:_!==null&&Jd(p,_)&&(a.flags|=32),a.memoizedState!==null&&(p=Iu(s,a,kj,null,null,o),Rr._currentValue=p),lo(s,a),vt(s,a,d,o),a.child;case 6:return s===null&&Ae&&((s=o=Ye)&&(o=p2(o,a.pendingProps,ms),o!==null?(a.stateNode=o,yt=a,Ye=null,s=!0):s=!1),s||En(a)),null;case 13:return p0(s,a,o);case 4:return ye(a,a.stateNode.containerInfo),d=a.pendingProps,s===null?a.child=wa(a,null,d,o):vt(s,a,d,o),a.child;case 11:return r0(s,a,a.type,a.pendingProps,o);case 7:return vt(s,a,a.pendingProps,o),a.child;case 8:return vt(s,a,a.pendingProps.children,o),a.child;case 12:return vt(s,a,a.pendingProps.children,o),a.child;case 10:return d=a.pendingProps,kn(a,a.type,d.value),vt(s,a,d.children,o),a.child;case 9:return p=a.type._context,d=a.pendingProps.children,ba(a),p=bt(p),d=d(p),a.flags|=1,vt(s,a,d,o),a.child;case 14:return l0(s,a,a.type,a.pendingProps,o);case 15:return o0(s,a,a.type,a.pendingProps,o);case 19:return x0(s,a,o);case 31:return Bj(s,a,o);case 22:return c0(s,a,o,a.pendingProps);case 24:return ba(a),d=bt(it),s===null?(p=qu(),p===null&&(p=Ve,x=Pu(),p.pooledCache=x,x.refCount++,x!==null&&(p.pooledCacheLanes|=o),p=x),a.memoizedState={parent:d,cache:p},$u(a),kn(a,it,p)):((s.lanes&o)!==0&&(Yu(s,a),mr(a,null,null,o),hr()),p=s.memoizedState,x=a.memoizedState,p.parent!==d?(p={parent:d,cache:d},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),kn(a,it,d)):(d=x.cache,kn(a,it,d),d!==p.cache&&Uu(a,[it],o,!0))),vt(s,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Is(s){s.flags|=4}function Cd(s,a,o,d,p){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(p&335544128)===p)if(s.stateNode.complete)s.flags|=8192;else if(Y0())s.flags|=8192;else throw _a=Xl,Vu}else s.flags&=-16777217}function b0(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Rg(a))if(Y0())s.flags|=8192;else throw _a=Xl,Vu}function co(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Ih():536870912,s.lanes|=a,wi|=a)}function vr(s,a){if(!Ae)switch(s.tailMode){case"hidden":a=s.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function Xe(s){var a=s.alternate!==null&&s.alternate.child===s.child,o=0,d=0;if(a)for(var p=s.child;p!==null;)o|=p.lanes|p.childLanes,d|=p.subtreeFlags&65011712,d|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)o|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=d,s.childLanes=o,a}function Uj(s,a,o){var d=a.pendingProps;switch(Ru(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(a),null;case 1:return Xe(a),null;case 3:return o=a.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),Ws(it),Me(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(ui(a)?Is(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Lu())),Xe(a),null;case 26:var p=a.type,x=a.memoizedState;return s===null?(Is(a),x!==null?(Xe(a),b0(a,x)):(Xe(a),Cd(a,p,null,d,o))):x?x!==s.memoizedState?(Is(a),Xe(a),b0(a,x)):(Xe(a),a.flags&=-16777217):(s=s.memoizedProps,s!==d&&Is(a),Xe(a),Cd(a,p,s,d,o)),null;case 27:if(at(a),o=G.current,p=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==d&&Is(a);else{if(!d){if(a.stateNode===null)throw Error(i(166));return Xe(a),null}s=ie.current,ui(a)?Im(a):(s=Cg(p,d,o),a.stateNode=s,Is(a))}return Xe(a),null;case 5:if(at(a),p=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==d&&Is(a);else{if(!d){if(a.stateNode===null)throw Error(i(166));return Xe(a),null}if(x=ie.current,ui(a))Im(a);else{var _=So(G.current);switch(x){case 1:x=_.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:x=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":x=_.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":x=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":x=_.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof d.is=="string"?_.createElement("select",{is:d.is}):_.createElement("select"),d.multiple?x.multiple=!0:d.size&&(x.size=d.size);break;default:x=typeof d.is=="string"?_.createElement(p,{is:d.is}):_.createElement(p)}}x[xt]=a,x[Dt]=d;e:for(_=a.child;_!==null;){if(_.tag===5||_.tag===6)x.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===a)break e;for(;_.sibling===null;){if(_.return===null||_.return===a)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}a.stateNode=x;e:switch(jt(x,p,d),p){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Is(a)}}return Xe(a),Cd(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,o),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==d&&Is(a);else{if(typeof d!="string"&&a.stateNode===null)throw Error(i(166));if(s=G.current,ui(a)){if(s=a.stateNode,o=a.memoizedProps,d=null,p=yt,p!==null)switch(p.tag){case 27:case 5:d=p.memoizedProps}s[xt]=a,s=!!(s.nodeValue===o||d!==null&&d.suppressHydrationWarning===!0||pg(s.nodeValue,o)),s||En(a,!0)}else s=So(s).createTextNode(d),s[xt]=a,a.stateNode=s}return Xe(a),null;case 31:if(o=a.memoizedState,s===null||s.memoizedState!==null){if(d=ui(a),o!==null){if(s===null){if(!d)throw Error(i(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[xt]=a}else xa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Xe(a),s=!1}else o=Lu(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return a.flags&256?(It(a),a):(It(a),null);if((a.flags&128)!==0)throw Error(i(558))}return Xe(a),null;case 13:if(d=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=ui(a),d!==null&&d.dehydrated!==null){if(s===null){if(!p)throw Error(i(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[xt]=a}else xa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Xe(a),p=!1}else p=Lu(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(It(a),a):(It(a),null)}return It(a),(a.flags&128)!==0?(a.lanes=o,a):(o=d!==null,s=s!==null&&s.memoizedState!==null,o&&(d=a.child,p=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(p=d.alternate.memoizedState.cachePool.pool),x=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),x!==p&&(d.flags|=2048)),o!==s&&o&&(a.child.flags|=8192),co(a,a.updateQueue),Xe(a),null);case 4:return Me(),s===null&&Wd(a.stateNode.containerInfo),Xe(a),null;case 10:return Ws(a.type),Xe(a),null;case 19:if(W(et),d=a.memoizedState,d===null)return Xe(a),null;if(p=(a.flags&128)!==0,x=d.rendering,x===null)if(p)vr(d,!1);else{if(Ie!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(x=Zl(s),x!==null){for(a.flags|=128,vr(d,!1),s=x.updateQueue,a.updateQueue=s,co(a,s),a.subtreeFlags=0,s=o,o=a.child;o!==null;)Gm(o,s),o=o.sibling;return ae(et,et.current&1|2),Ae&&Xs(a,d.treeForkCount),a.child}s=s.sibling}d.tail!==null&&Xt()>po&&(a.flags|=128,p=!0,vr(d,!1),a.lanes=4194304)}else{if(!p)if(s=Zl(x),s!==null){if(a.flags|=128,p=!0,s=s.updateQueue,a.updateQueue=s,co(a,s),vr(d,!0),d.tail===null&&d.tailMode==="hidden"&&!x.alternate&&!Ae)return Xe(a),null}else 2*Xt()-d.renderingStartTime>po&&o!==536870912&&(a.flags|=128,p=!0,vr(d,!1),a.lanes=4194304);d.isBackwards?(x.sibling=a.child,a.child=x):(s=d.last,s!==null?s.sibling=x:a.child=x,d.last=x)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=Xt(),s.sibling=null,o=et.current,ae(et,p?o&1|2:o&1),Ae&&Xs(a,d.treeForkCount),s):(Xe(a),null);case 22:case 23:return It(a),Qu(),d=a.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(a.flags|=8192):d&&(a.flags|=8192),d?(o&536870912)!==0&&(a.flags&128)===0&&(Xe(a),a.subtreeFlags&6&&(a.flags|=8192)):Xe(a),o=a.updateQueue,o!==null&&co(a,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==o&&(a.flags|=2048),s!==null&&W(va),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),Ws(it),Xe(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function Pj(s,a){switch(Ru(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Ws(it),Me(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return at(a),null;case 31:if(a.memoizedState!==null){if(It(a),a.alternate===null)throw Error(i(340));xa()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(It(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));xa()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return W(et),null;case 4:return Me(),null;case 10:return Ws(a.type),null;case 22:case 23:return It(a),Qu(),s!==null&&W(va),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Ws(it),null;case 25:return null;default:return null}}function v0(s,a){switch(Ru(a),a.tag){case 3:Ws(it),Me();break;case 26:case 27:case 5:at(a);break;case 4:Me();break;case 31:a.memoizedState!==null&&It(a);break;case 13:It(a);break;case 19:W(et);break;case 10:Ws(a.type);break;case 22:case 23:It(a),Qu(),s!==null&&W(va);break;case 24:Ws(it)}}function jr(s,a){try{var o=a.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var p=d.next;o=p;do{if((o.tag&s)===s){d=void 0;var x=o.create,_=o.inst;d=x(),_.destroy=d}o=o.next}while(o!==p)}}catch(C){He(a,a.return,C)}}function zn(s,a,o){try{var d=a.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var x=p.next;d=x;do{if((d.tag&s)===s){var _=d.inst,C=_.destroy;if(C!==void 0){_.destroy=void 0,p=a;var T=o,V=C;try{V()}catch(Q){He(p,T,Q)}}}d=d.next}while(d!==x)}}catch(Q){He(a,a.return,Q)}}function j0(s){var a=s.updateQueue;if(a!==null){var o=s.stateNode;try{dp(a,o)}catch(d){He(s,s.return,d)}}}function _0(s,a,o){o.props=Sa(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(d){He(s,a,d)}}function _r(s,a){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var d=s.stateNode;break;case 30:d=s.stateNode;break;default:d=s.stateNode}typeof o=="function"?s.refCleanup=o(d):o.current=d}}catch(p){He(s,a,p)}}function Ds(s,a){var o=s.ref,d=s.refCleanup;if(o!==null)if(typeof d=="function")try{d()}catch(p){He(s,a,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){He(s,a,p)}else o.current=null}function w0(s){var a=s.type,o=s.memoizedProps,d=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&d.focus();break e;case"img":o.src?d.src=o.src:o.srcSet&&(d.srcset=o.srcSet)}}catch(p){He(s,s.return,p)}}function Md(s,a,o){try{var d=s.stateNode;o2(d,s.type,o,a),d[Dt]=a}catch(p){He(s,s.return,p)}}function N0(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&qn(s.type)||s.tag===4}function Ed(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||N0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&qn(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function kd(s,a,o){var d=s.tag;if(d===5||d===6)s=s.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(s),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=Vs));else if(d!==4&&(d===27&&qn(s.type)&&(o=s.stateNode,a=null),s=s.child,s!==null))for(kd(s,a,o),s=s.sibling;s!==null;)kd(s,a,o),s=s.sibling}function uo(s,a,o){var d=s.tag;if(d===5||d===6)s=s.stateNode,a?o.insertBefore(s,a):o.appendChild(s);else if(d!==4&&(d===27&&qn(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(uo(s,a,o),s=s.sibling;s!==null;)uo(s,a,o),s=s.sibling}function S0(s){var a=s.stateNode,o=s.memoizedProps;try{for(var d=s.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);jt(a,d,o),a[xt]=s,a[Dt]=o}catch(x){He(s,s.return,x)}}var Js=!1,ot=!1,Td=!1,C0=typeof WeakSet=="function"?WeakSet:Set,gt=null;function Fj(s,a){if(s=s.containerInfo,Kd=Do,s=Hm(s),wu(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var p=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{o.nodeType,x.nodeType}catch{o=null;break e}var _=0,C=-1,T=-1,V=0,Q=0,J=s,$=null;t:for(;;){for(var X;J!==o||p!==0&&J.nodeType!==3||(C=_+p),J!==x||d!==0&&J.nodeType!==3||(T=_+d),J.nodeType===3&&(_+=J.nodeValue.length),(X=J.firstChild)!==null;)$=J,J=X;for(;;){if(J===s)break t;if($===o&&++V===p&&(C=_),$===x&&++Q===d&&(T=_),(X=J.nextSibling)!==null)break;J=$,$=J.parentNode}J=X}o=C===-1||T===-1?null:{start:C,end:T}}else o=null}o=o||{start:0,end:0}}else o=null;for(Id={focusedElem:s,selectionRange:o},Do=!1,gt=a;gt!==null;)if(a=gt,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,gt=s;else for(;gt!==null;){switch(a=gt,x=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)p=s[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&x!==null){s=void 0,o=a,p=x.memoizedProps,x=x.memoizedState,d=o.stateNode;try{var oe=Sa(o.type,p);s=d.getSnapshotBeforeUpdate(oe,x),d.__reactInternalSnapshotBeforeUpdate=s}catch(he){He(o,o.return,he)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,o=s.nodeType,o===9)tf(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":tf(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,gt=s;break}gt=a.return}}function M0(s,a,o){var d=o.flags;switch(o.tag){case 0:case 11:case 15:tn(s,o),d&4&&jr(5,o);break;case 1:if(tn(s,o),d&4)if(s=o.stateNode,a===null)try{s.componentDidMount()}catch(_){He(o,o.return,_)}else{var p=Sa(o.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(p,a,s.__reactInternalSnapshotBeforeUpdate)}catch(_){He(o,o.return,_)}}d&64&&j0(o),d&512&&_r(o,o.return);break;case 3:if(tn(s,o),d&64&&(s=o.updateQueue,s!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{dp(s,a)}catch(_){He(o,o.return,_)}}break;case 27:a===null&&d&4&&S0(o);case 26:case 5:tn(s,o),a===null&&d&4&&w0(o),d&512&&_r(o,o.return);break;case 12:tn(s,o);break;case 31:tn(s,o),d&4&&T0(s,o);break;case 13:tn(s,o),d&4&&A0(s,o),d&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=Zj.bind(null,o),g2(s,o))));break;case 22:if(d=o.memoizedState!==null||Js,!d){a=a!==null&&a.memoizedState!==null||ot,p=Js;var x=ot;Js=d,(ot=a)&&!x?sn(s,o,(o.subtreeFlags&8772)!==0):tn(s,o),Js=p,ot=x}break;case 30:break;default:tn(s,o)}}function E0(s){var a=s.alternate;a!==null&&(s.alternate=null,E0(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&ru(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var We=null,Rt=!1;function en(s,a,o){for(o=o.child;o!==null;)k0(s,a,o),o=o.sibling}function k0(s,a,o){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Xi,o)}catch{}switch(o.tag){case 26:ot||Ds(o,a),en(s,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ot||Ds(o,a);var d=We,p=Rt;qn(o.type)&&(We=o.stateNode,Rt=!1),en(s,a,o),Ar(o.stateNode),We=d,Rt=p;break;case 5:ot||Ds(o,a);case 6:if(d=We,p=Rt,We=null,en(s,a,o),We=d,Rt=p,We!==null)if(Rt)try{(We.nodeType===9?We.body:We.nodeName==="HTML"?We.ownerDocument.body:We).removeChild(o.stateNode)}catch(x){He(o,a,x)}else try{We.removeChild(o.stateNode)}catch(x){He(o,a,x)}break;case 18:We!==null&&(Rt?(s=We,jg(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),Ai(s)):jg(We,o.stateNode));break;case 4:d=We,p=Rt,We=o.stateNode.containerInfo,Rt=!0,en(s,a,o),We=d,Rt=p;break;case 0:case 11:case 14:case 15:zn(2,o,a),ot||zn(4,o,a),en(s,a,o);break;case 1:ot||(Ds(o,a),d=o.stateNode,typeof d.componentWillUnmount=="function"&&_0(o,a,d)),en(s,a,o);break;case 21:en(s,a,o);break;case 22:ot=(d=ot)||o.memoizedState!==null,en(s,a,o),ot=d;break;default:en(s,a,o)}}function T0(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Ai(s)}catch(o){He(a,a.return,o)}}}function A0(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Ai(s)}catch(o){He(a,a.return,o)}}function qj(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new C0),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new C0),a;default:throw Error(i(435,s.tag))}}function fo(s,a){var o=qj(s);a.forEach(function(d){if(!o.has(d)){o.add(d);var p=Kj.bind(null,s,d);d.then(p,p)}})}function zt(s,a){var o=a.deletions;if(o!==null)for(var d=0;d<o.length;d++){var p=o[d],x=s,_=a,C=_;e:for(;C!==null;){switch(C.tag){case 27:if(qn(C.type)){We=C.stateNode,Rt=!1;break e}break;case 5:We=C.stateNode,Rt=!1;break e;case 3:case 4:We=C.stateNode.containerInfo,Rt=!0;break e}C=C.return}if(We===null)throw Error(i(160));k0(x,_,p),We=null,Rt=!1,x=p.alternate,x!==null&&(x.return=null),p.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)D0(a,s),a=a.sibling}var ws=null;function D0(s,a){var o=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:zt(a,s),Lt(s),d&4&&(zn(3,s,s.return),jr(3,s),zn(5,s,s.return));break;case 1:zt(a,s),Lt(s),d&512&&(ot||o===null||Ds(o,o.return)),d&64&&Js&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?d:o.concat(d))));break;case 26:var p=ws;if(zt(a,s),Lt(s),d&512&&(ot||o===null||Ds(o,o.return)),d&4){var x=o!==null?o.memoizedState:null;if(d=s.memoizedState,o===null)if(d===null)if(s.stateNode===null){e:{d=s.type,o=s.memoizedProps,p=p.ownerDocument||p;t:switch(d){case"title":x=p.getElementsByTagName("title")[0],(!x||x[Qi]||x[xt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=p.createElement(d),p.head.insertBefore(x,p.querySelector("head > title"))),jt(x,d,o),x[xt]=s,pt(x),d=x;break e;case"link":var _=Dg("link","href",p).get(d+(o.href||""));if(_){for(var C=0;C<_.length;C++)if(x=_[C],x.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&x.getAttribute("rel")===(o.rel==null?null:o.rel)&&x.getAttribute("title")===(o.title==null?null:o.title)&&x.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(C,1);break t}}x=p.createElement(d),jt(x,d,o),p.head.appendChild(x);break;case"meta":if(_=Dg("meta","content",p).get(d+(o.content||""))){for(C=0;C<_.length;C++)if(x=_[C],x.getAttribute("content")===(o.content==null?null:""+o.content)&&x.getAttribute("name")===(o.name==null?null:o.name)&&x.getAttribute("property")===(o.property==null?null:o.property)&&x.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&x.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(C,1);break t}}x=p.createElement(d),jt(x,d,o),p.head.appendChild(x);break;default:throw Error(i(468,d))}x[xt]=s,pt(x),d=x}s.stateNode=d}else Og(p,s.type,s.stateNode);else s.stateNode=Ag(p,d,s.memoizedProps);else x!==d?(x===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):x.count--,d===null?Og(p,s.type,s.stateNode):Ag(p,d,s.memoizedProps)):d===null&&s.stateNode!==null&&Md(s,s.memoizedProps,o.memoizedProps)}break;case 27:zt(a,s),Lt(s),d&512&&(ot||o===null||Ds(o,o.return)),o!==null&&d&4&&Md(s,s.memoizedProps,o.memoizedProps);break;case 5:if(zt(a,s),Lt(s),d&512&&(ot||o===null||Ds(o,o.return)),s.flags&32){p=s.stateNode;try{ei(p,"")}catch(oe){He(s,s.return,oe)}}d&4&&s.stateNode!=null&&(p=s.memoizedProps,Md(s,p,o!==null?o.memoizedProps:p)),d&1024&&(Td=!0);break;case 6:if(zt(a,s),Lt(s),d&4){if(s.stateNode===null)throw Error(i(162));d=s.memoizedProps,o=s.stateNode;try{o.nodeValue=d}catch(oe){He(s,s.return,oe)}}break;case 3:if(Eo=null,p=ws,ws=Co(a.containerInfo),zt(a,s),ws=p,Lt(s),d&4&&o!==null&&o.memoizedState.isDehydrated)try{Ai(a.containerInfo)}catch(oe){He(s,s.return,oe)}Td&&(Td=!1,O0(s));break;case 4:d=ws,ws=Co(s.stateNode.containerInfo),zt(a,s),Lt(s),ws=d;break;case 12:zt(a,s),Lt(s);break;case 31:zt(a,s),Lt(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,fo(s,d)));break;case 13:zt(a,s),Lt(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(mo=Xt()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,fo(s,d)));break;case 22:p=s.memoizedState!==null;var T=o!==null&&o.memoizedState!==null,V=Js,Q=ot;if(Js=V||p,ot=Q||T,zt(a,s),ot=Q,Js=V,Lt(s),d&8192)e:for(a=s.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(o===null||T||Js||ot||Ca(s)),o=null,a=s;;){if(a.tag===5||a.tag===26){if(o===null){T=o=a;try{if(x=T.stateNode,p)_=x.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{C=T.stateNode;var J=T.memoizedProps.style,$=J!=null&&J.hasOwnProperty("display")?J.display:null;C.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(oe){He(T,T.return,oe)}}}else if(a.tag===6){if(o===null){T=a;try{T.stateNode.nodeValue=p?"":T.memoizedProps}catch(oe){He(T,T.return,oe)}}}else if(a.tag===18){if(o===null){T=a;try{var X=T.stateNode;p?_g(X,!0):_g(T.stateNode,!1)}catch(oe){He(T,T.return,oe)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}d&4&&(d=s.updateQueue,d!==null&&(o=d.retryQueue,o!==null&&(d.retryQueue=null,fo(s,o))));break;case 19:zt(a,s),Lt(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,fo(s,d)));break;case 30:break;case 21:break;default:zt(a,s),Lt(s)}}function Lt(s){var a=s.flags;if(a&2){try{for(var o,d=s.return;d!==null;){if(N0(d)){o=d;break}d=d.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var p=o.stateNode,x=Ed(s);uo(s,x,p);break;case 5:var _=o.stateNode;o.flags&32&&(ei(_,""),o.flags&=-33);var C=Ed(s);uo(s,C,_);break;case 3:case 4:var T=o.stateNode.containerInfo,V=Ed(s);kd(s,V,T);break;default:throw Error(i(161))}}catch(Q){He(s,s.return,Q)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function O0(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;O0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function tn(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)M0(s,a.alternate,a),a=a.sibling}function Ca(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:zn(4,a,a.return),Ca(a);break;case 1:Ds(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&_0(a,a.return,o),Ca(a);break;case 27:Ar(a.stateNode);case 26:case 5:Ds(a,a.return),Ca(a);break;case 22:a.memoizedState===null&&Ca(a);break;case 30:Ca(a);break;default:Ca(a)}s=s.sibling}}function sn(s,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var d=a.alternate,p=s,x=a,_=x.flags;switch(x.tag){case 0:case 11:case 15:sn(p,x,o),jr(4,x);break;case 1:if(sn(p,x,o),d=x,p=d.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(V){He(d,d.return,V)}if(d=x,p=d.updateQueue,p!==null){var C=d.stateNode;try{var T=p.shared.hiddenCallbacks;if(T!==null)for(p.shared.hiddenCallbacks=null,p=0;p<T.length;p++)up(T[p],C)}catch(V){He(d,d.return,V)}}o&&_&64&&j0(x),_r(x,x.return);break;case 27:S0(x);case 26:case 5:sn(p,x,o),o&&d===null&&_&4&&w0(x),_r(x,x.return);break;case 12:sn(p,x,o);break;case 31:sn(p,x,o),o&&_&4&&T0(p,x);break;case 13:sn(p,x,o),o&&_&4&&A0(p,x);break;case 22:x.memoizedState===null&&sn(p,x,o),_r(x,x.return);break;case 30:break;default:sn(p,x,o)}a=a.sibling}}function Ad(s,a){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&or(o))}function Dd(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&or(s))}function Ns(s,a,o,d){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)R0(s,a,o,d),a=a.sibling}function R0(s,a,o,d){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Ns(s,a,o,d),p&2048&&jr(9,a);break;case 1:Ns(s,a,o,d);break;case 3:Ns(s,a,o,d),p&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&or(s)));break;case 12:if(p&2048){Ns(s,a,o,d),s=a.stateNode;try{var x=a.memoizedProps,_=x.id,C=x.onPostCommit;typeof C=="function"&&C(_,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(T){He(a,a.return,T)}}else Ns(s,a,o,d);break;case 31:Ns(s,a,o,d);break;case 13:Ns(s,a,o,d);break;case 23:break;case 22:x=a.stateNode,_=a.alternate,a.memoizedState!==null?x._visibility&2?Ns(s,a,o,d):wr(s,a):x._visibility&2?Ns(s,a,o,d):(x._visibility|=2,vi(s,a,o,d,(a.subtreeFlags&10256)!==0||!1)),p&2048&&Ad(_,a);break;case 24:Ns(s,a,o,d),p&2048&&Dd(a.alternate,a);break;default:Ns(s,a,o,d)}}function vi(s,a,o,d,p){for(p=p&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var x=s,_=a,C=o,T=d,V=_.flags;switch(_.tag){case 0:case 11:case 15:vi(x,_,C,T,p),jr(8,_);break;case 23:break;case 22:var Q=_.stateNode;_.memoizedState!==null?Q._visibility&2?vi(x,_,C,T,p):wr(x,_):(Q._visibility|=2,vi(x,_,C,T,p)),p&&V&2048&&Ad(_.alternate,_);break;case 24:vi(x,_,C,T,p),p&&V&2048&&Dd(_.alternate,_);break;default:vi(x,_,C,T,p)}a=a.sibling}}function wr(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=s,d=a,p=d.flags;switch(d.tag){case 22:wr(o,d),p&2048&&Ad(d.alternate,d);break;case 24:wr(o,d),p&2048&&Dd(d.alternate,d);break;default:wr(o,d)}a=a.sibling}}var Nr=8192;function ji(s,a,o){if(s.subtreeFlags&Nr)for(s=s.child;s!==null;)z0(s,a,o),s=s.sibling}function z0(s,a,o){switch(s.tag){case 26:ji(s,a,o),s.flags&Nr&&s.memoizedState!==null&&E2(o,ws,s.memoizedState,s.memoizedProps);break;case 5:ji(s,a,o);break;case 3:case 4:var d=ws;ws=Co(s.stateNode.containerInfo),ji(s,a,o),ws=d;break;case 22:s.memoizedState===null&&(d=s.alternate,d!==null&&d.memoizedState!==null?(d=Nr,Nr=16777216,ji(s,a,o),Nr=d):ji(s,a,o));break;default:ji(s,a,o)}}function L0(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Sr(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var d=a[o];gt=d,H0(d,s)}L0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)B0(s),s=s.sibling}function B0(s){switch(s.tag){case 0:case 11:case 15:Sr(s),s.flags&2048&&zn(9,s,s.return);break;case 3:Sr(s);break;case 12:Sr(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,ho(s)):Sr(s);break;default:Sr(s)}}function ho(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var d=a[o];gt=d,H0(d,s)}L0(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:zn(8,a,a.return),ho(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,ho(a));break;default:ho(a)}s=s.sibling}}function H0(s,a){for(;gt!==null;){var o=gt;switch(o.tag){case 0:case 11:case 15:zn(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var d=o.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:or(o.memoizedState.cache)}if(d=o.child,d!==null)d.return=o,gt=d;else e:for(o=s;gt!==null;){d=gt;var p=d.sibling,x=d.return;if(E0(d),d===o){gt=null;break e}if(p!==null){p.return=x,gt=p;break e}gt=x}}}var Vj={getCacheForType:function(s){var a=bt(it),o=a.data.get(s);return o===void 0&&(o=s(),a.data.set(s,o)),o},cacheSignal:function(){return bt(it).controller.signal}},$j=typeof WeakMap=="function"?WeakMap:Map,Re=0,Ve=null,Ne=null,Ee=0,Be=0,Jt=null,Ln=!1,_i=!1,Od=!1,nn=0,Ie=0,Bn=0,Ma=0,Rd=0,es=0,wi=0,Cr=null,Bt=null,zd=!1,mo=0,U0=0,po=1/0,go=null,Hn=null,ut=0,Un=null,Ni=null,an=0,Ld=0,Bd=null,P0=null,Mr=0,Hd=null;function ts(){return(Re&2)!==0&&Ee!==0?Ee&-Ee:H.T!==null?$d():sm()}function F0(){if(es===0)if((Ee&536870912)===0||Ae){var s=wl;wl<<=1,(wl&3932160)===0&&(wl=262144),es=s}else es=536870912;return s=Kt.current,s!==null&&(s.flags|=32),es}function Ht(s,a,o){(s===Ve&&(Be===2||Be===9)||s.cancelPendingCommit!==null)&&(Si(s,0),Pn(s,Ee,es,!1)),Wi(s,o),((Re&2)===0||s!==Ve)&&(s===Ve&&((Re&2)===0&&(Ma|=o),Ie===4&&Pn(s,Ee,es,!1)),Os(s))}function q0(s,a,o){if((Re&6)!==0)throw Error(i(327));var d=!o&&(a&127)===0&&(a&s.expiredLanes)===0||Gi(s,a),p=d?Gj(s,a):Pd(s,a,!0),x=d;do{if(p===0){_i&&!d&&Pn(s,a,0,!1);break}else{if(o=s.current.alternate,x&&!Yj(o)){p=Pd(s,a,!1),x=!1;continue}if(p===2){if(x=a,s.errorRecoveryDisabledLanes&x)var _=0;else _=s.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){a=_;e:{var C=s;p=Cr;var T=C.current.memoizedState.isDehydrated;if(T&&(Si(C,_).flags|=256),_=Pd(C,_,!1),_!==2){if(Od&&!T){C.errorRecoveryDisabledLanes|=x,Ma|=x,p=4;break e}x=Bt,Bt=p,x!==null&&(Bt===null?Bt=x:Bt.push.apply(Bt,x))}p=_}if(x=!1,p!==2)continue}}if(p===1){Si(s,0),Pn(s,a,0,!0);break}e:{switch(d=s,x=p,x){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Pn(d,a,es,!Ln);break e;case 2:Bt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(p=mo+300-Xt(),10<p)){if(Pn(d,a,es,!Ln),Sl(d,0,!0)!==0)break e;an=a,d.timeoutHandle=bg(V0.bind(null,d,o,Bt,go,zd,a,es,Ma,wi,Ln,x,"Throttled",-0,0),p);break e}V0(d,o,Bt,go,zd,a,es,Ma,wi,Ln,x,null,-0,0)}}break}while(!0);Os(s)}function V0(s,a,o,d,p,x,_,C,T,V,Q,J,$,X){if(s.timeoutHandle=-1,J=a.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Vs},z0(a,x,J);var oe=(x&62914560)===x?mo-Xt():(x&4194048)===x?U0-Xt():0;if(oe=k2(J,oe),oe!==null){an=x,s.cancelPendingCommit=oe(K0.bind(null,s,a,x,o,d,p,_,C,T,Q,J,null,$,X)),Pn(s,x,_,!V);return}}K0(s,a,x,o,d,p,_,C,T)}function Yj(s){for(var a=s;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var d=0;d<o.length;d++){var p=o[d],x=p.getSnapshot;p=p.value;try{if(!Qt(x(),p))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Pn(s,a,o,d){a&=~Rd,a&=~Ma,s.suspendedLanes|=a,s.pingedLanes&=~a,d&&(s.warmLanes|=a),d=s.expirationTimes;for(var p=a;0<p;){var x=31-Wt(p),_=1<<x;d[x]=-1,p&=~_}o!==0&&Jh(s,o,a)}function xo(){return(Re&6)===0?(Er(0),!1):!0}function Ud(){if(Ne!==null){if(Be===0)var s=Ne.return;else s=Ne,Gs=ya=null,td(s),pi=null,ur=0,s=Ne;for(;s!==null;)v0(s.alternate,s),s=s.return;Ne=null}}function Si(s,a){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,d2(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),an=0,Ud(),Ve=s,Ne=o=Ys(s.current,null),Ee=a,Be=0,Jt=null,Ln=!1,_i=Gi(s,a),Od=!1,wi=es=Rd=Ma=Bn=Ie=0,Bt=Cr=null,zd=!1,(a&8)!==0&&(a|=a&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=a;0<d;){var p=31-Wt(d),x=1<<p;a|=s[p],d&=~x}return nn=a,Bl(),o}function $0(s,a){xe=null,H.H=yr,a===mi||a===Yl?(a=rp(),Be=3):a===Vu?(a=rp(),Be=4):Be=a===xd?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Jt=a,Ne===null&&(Ie=1,io(s,ds(a,s.current)))}function Y0(){var s=Kt.current;return s===null?!0:(Ee&4194048)===Ee?ps===null:(Ee&62914560)===Ee||(Ee&536870912)!==0?s===ps:!1}function X0(){var s=H.H;return H.H=yr,s===null?yr:s}function G0(){var s=H.A;return H.A=Vj,s}function yo(){Ie=4,Ln||(Ee&4194048)!==Ee&&Kt.current!==null||(_i=!0),(Bn&134217727)===0&&(Ma&134217727)===0||Ve===null||Pn(Ve,Ee,es,!1)}function Pd(s,a,o){var d=Re;Re|=2;var p=X0(),x=G0();(Ve!==s||Ee!==a)&&(go=null,Si(s,a)),a=!1;var _=Ie;e:do try{if(Be!==0&&Ne!==null){var C=Ne,T=Jt;switch(Be){case 8:Ud(),_=6;break e;case 3:case 2:case 9:case 6:Kt.current===null&&(a=!0);var V=Be;if(Be=0,Jt=null,Ci(s,C,T,V),o&&_i){_=0;break e}break;default:V=Be,Be=0,Jt=null,Ci(s,C,T,V)}}Xj(),_=Ie;break}catch(Q){$0(s,Q)}while(!0);return a&&s.shellSuspendCounter++,Gs=ya=null,Re=d,H.H=p,H.A=x,Ne===null&&(Ve=null,Ee=0,Bl()),_}function Xj(){for(;Ne!==null;)W0(Ne)}function Gj(s,a){var o=Re;Re|=2;var d=X0(),p=G0();Ve!==s||Ee!==a?(go=null,po=Xt()+500,Si(s,a)):_i=Gi(s,a);e:do try{if(Be!==0&&Ne!==null){a=Ne;var x=Jt;t:switch(Be){case 1:Be=0,Jt=null,Ci(s,a,x,1);break;case 2:case 9:if(ap(x)){Be=0,Jt=null,Q0(a);break}a=function(){Be!==2&&Be!==9||Ve!==s||(Be=7),Os(s)},x.then(a,a);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:ap(x)?(Be=0,Jt=null,Q0(a)):(Be=0,Jt=null,Ci(s,a,x,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var C=Ne;if(_?Rg(_):C.stateNode.complete){Be=0,Jt=null;var T=C.sibling;if(T!==null)Ne=T;else{var V=C.return;V!==null?(Ne=V,bo(V)):Ne=null}break t}}Be=0,Jt=null,Ci(s,a,x,5);break;case 6:Be=0,Jt=null,Ci(s,a,x,6);break;case 8:Ud(),Ie=6;break e;default:throw Error(i(462))}}Wj();break}catch(Q){$0(s,Q)}while(!0);return Gs=ya=null,H.H=d,H.A=p,Re=o,Ne!==null?0:(Ve=null,Ee=0,Bl(),Ie)}function Wj(){for(;Ne!==null&&!x1();)W0(Ne)}function W0(s){var a=y0(s.alternate,s,nn);s.memoizedProps=s.pendingProps,a===null?bo(s):Ne=a}function Q0(s){var a=s,o=a.alternate;switch(a.tag){case 15:case 0:a=f0(o,a,a.pendingProps,a.type,void 0,Ee);break;case 11:a=f0(o,a,a.pendingProps,a.type.render,a.ref,Ee);break;case 5:td(a);default:v0(o,a),a=Ne=Gm(a,nn),a=y0(o,a,nn)}s.memoizedProps=s.pendingProps,a===null?bo(s):Ne=a}function Ci(s,a,o,d){Gs=ya=null,td(a),pi=null,ur=0;var p=a.return;try{if(Lj(s,p,a,o,Ee)){Ie=1,io(s,ds(o,s.current)),Ne=null;return}}catch(x){if(p!==null)throw Ne=p,x;Ie=1,io(s,ds(o,s.current)),Ne=null;return}a.flags&32768?(Ae||d===1?s=!0:_i||(Ee&536870912)!==0?s=!1:(Ln=s=!0,(d===2||d===9||d===3||d===6)&&(d=Kt.current,d!==null&&d.tag===13&&(d.flags|=16384))),Z0(a,s)):bo(a)}function bo(s){var a=s;do{if((a.flags&32768)!==0){Z0(a,Ln);return}s=a.return;var o=Uj(a.alternate,a,nn);if(o!==null){Ne=o;return}if(a=a.sibling,a!==null){Ne=a;return}Ne=a=s}while(a!==null);Ie===0&&(Ie=5)}function Z0(s,a){do{var o=Pj(s.alternate,s);if(o!==null){o.flags&=32767,Ne=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(s=s.sibling,s!==null)){Ne=s;return}Ne=s=o}while(s!==null);Ie=6,Ne=null}function K0(s,a,o,d,p,x,_,C,T){s.cancelPendingCommit=null;do vo();while(ut!==0);if((Re&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(x=a.lanes|a.childLanes,x|=Eu,M1(s,o,x,_,C,T),s===Ve&&(Ne=Ve=null,Ee=0),Ni=a,Un=s,an=o,Ld=x,Bd=p,P0=d,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,Ij(jl,function(){return sg(),null})):(s.callbackNode=null,s.callbackPriority=0),d=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||d){d=H.T,H.T=null,p=ee.p,ee.p=2,_=Re,Re|=4;try{Fj(s,a,o)}finally{Re=_,ee.p=p,H.T=d}}ut=1,I0(),J0(),eg()}}function I0(){if(ut===1){ut=0;var s=Un,a=Ni,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=H.T,H.T=null;var d=ee.p;ee.p=2;var p=Re;Re|=4;try{D0(a,s);var x=Id,_=Hm(s.containerInfo),C=x.focusedElem,T=x.selectionRange;if(_!==C&&C&&C.ownerDocument&&Bm(C.ownerDocument.documentElement,C)){if(T!==null&&wu(C)){var V=T.start,Q=T.end;if(Q===void 0&&(Q=V),"selectionStart"in C)C.selectionStart=V,C.selectionEnd=Math.min(Q,C.value.length);else{var J=C.ownerDocument||document,$=J&&J.defaultView||window;if($.getSelection){var X=$.getSelection(),oe=C.textContent.length,he=Math.min(T.start,oe),qe=T.end===void 0?he:Math.min(T.end,oe);!X.extend&&he>qe&&(_=qe,qe=he,he=_);var L=Lm(C,he),O=Lm(C,qe);if(L&&O&&(X.rangeCount!==1||X.anchorNode!==L.node||X.anchorOffset!==L.offset||X.focusNode!==O.node||X.focusOffset!==O.offset)){var F=J.createRange();F.setStart(L.node,L.offset),X.removeAllRanges(),he>qe?(X.addRange(F),X.extend(O.node,O.offset)):(F.setEnd(O.node,O.offset),X.addRange(F))}}}}for(J=[],X=C;X=X.parentNode;)X.nodeType===1&&J.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<J.length;C++){var Z=J[C];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Do=!!Kd,Id=Kd=null}finally{Re=p,ee.p=d,H.T=o}}s.current=a,ut=2}}function J0(){if(ut===2){ut=0;var s=Un,a=Ni,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=H.T,H.T=null;var d=ee.p;ee.p=2;var p=Re;Re|=4;try{M0(s,a.alternate,a)}finally{Re=p,ee.p=d,H.T=o}}ut=3}}function eg(){if(ut===4||ut===3){ut=0,y1();var s=Un,a=Ni,o=an,d=P0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?ut=5:(ut=0,Ni=Un=null,tg(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(Hn=null),au(o),a=a.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Xi,a,void 0,(a.current.flags&128)===128)}catch{}if(d!==null){a=H.T,p=ee.p,ee.p=2,H.T=null;try{for(var x=s.onRecoverableError,_=0;_<d.length;_++){var C=d[_];x(C.value,{componentStack:C.stack})}}finally{H.T=a,ee.p=p}}(an&3)!==0&&vo(),Os(s),p=s.pendingLanes,(o&261930)!==0&&(p&42)!==0?s===Hd?Mr++:(Mr=0,Hd=s):Mr=0,Er(0)}}function tg(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,or(a)))}function vo(){return I0(),J0(),eg(),sg()}function sg(){if(ut!==5)return!1;var s=Un,a=Ld;Ld=0;var o=au(an),d=H.T,p=ee.p;try{ee.p=32>o?32:o,H.T=null,o=Bd,Bd=null;var x=Un,_=an;if(ut=0,Ni=Un=null,an=0,(Re&6)!==0)throw Error(i(331));var C=Re;if(Re|=4,B0(x.current),R0(x,x.current,_,o),Re=C,Er(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Xi,x)}catch{}return!0}finally{ee.p=p,H.T=d,tg(s,a)}}function ng(s,a,o){a=ds(o,a),a=gd(s.stateNode,a,2),s=Dn(s,a,2),s!==null&&(Wi(s,2),Os(s))}function He(s,a,o){if(s.tag===3)ng(s,s,o);else for(;a!==null;){if(a.tag===3){ng(a,s,o);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Hn===null||!Hn.has(d))){s=ds(o,s),o=a0(2),d=Dn(a,o,2),d!==null&&(i0(o,d,a,s),Wi(d,2),Os(d));break}}a=a.return}}function Fd(s,a,o){var d=s.pingCache;if(d===null){d=s.pingCache=new $j;var p=new Set;d.set(a,p)}else p=d.get(a),p===void 0&&(p=new Set,d.set(a,p));p.has(o)||(Od=!0,p.add(o),s=Qj.bind(null,s,a,o),a.then(s,s))}function Qj(s,a,o){var d=s.pingCache;d!==null&&d.delete(a),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,Ve===s&&(Ee&o)===o&&(Ie===4||Ie===3&&(Ee&62914560)===Ee&&300>Xt()-mo?(Re&2)===0&&Si(s,0):Rd|=o,wi===Ee&&(wi=0)),Os(s)}function ag(s,a){a===0&&(a=Ih()),s=pa(s,a),s!==null&&(Wi(s,a),Os(s))}function Zj(s){var a=s.memoizedState,o=0;a!==null&&(o=a.retryLane),ag(s,o)}function Kj(s,a){var o=0;switch(s.tag){case 31:case 13:var d=s.stateNode,p=s.memoizedState;p!==null&&(o=p.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(a),ag(s,o)}function Ij(s,a){return eu(s,a)}var jo=null,Mi=null,qd=!1,_o=!1,Vd=!1,Fn=0;function Os(s){s!==Mi&&s.next===null&&(Mi===null?jo=Mi=s:Mi=Mi.next=s),_o=!0,qd||(qd=!0,e2())}function Er(s,a){if(!Vd&&_o){Vd=!0;do for(var o=!1,d=jo;d!==null;){if(s!==0){var p=d.pendingLanes;if(p===0)var x=0;else{var _=d.suspendedLanes,C=d.pingedLanes;x=(1<<31-Wt(42|s)+1)-1,x&=p&~(_&~C),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(o=!0,og(d,x))}else x=Ee,x=Sl(d,d===Ve?x:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(x&3)===0||Gi(d,x)||(o=!0,og(d,x));d=d.next}while(o);Vd=!1}}function Jj(){ig()}function ig(){_o=qd=!1;var s=0;Fn!==0&&u2()&&(s=Fn);for(var a=Xt(),o=null,d=jo;d!==null;){var p=d.next,x=rg(d,a);x===0?(d.next=null,o===null?jo=p:o.next=p,p===null&&(Mi=o)):(o=d,(s!==0||(x&3)!==0)&&(_o=!0)),d=p}ut!==0&&ut!==5||Er(s),Fn!==0&&(Fn=0)}function rg(s,a){for(var o=s.suspendedLanes,d=s.pingedLanes,p=s.expirationTimes,x=s.pendingLanes&-62914561;0<x;){var _=31-Wt(x),C=1<<_,T=p[_];T===-1?((C&o)===0||(C&d)!==0)&&(p[_]=C1(C,a)):T<=a&&(s.expiredLanes|=C),x&=~C}if(a=Ve,o=Ee,o=Sl(s,s===a?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d=s.callbackNode,o===0||s===a&&(Be===2||Be===9)||s.cancelPendingCommit!==null)return d!==null&&d!==null&&tu(d),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||Gi(s,o)){if(a=o&-o,a===s.callbackPriority)return a;switch(d!==null&&tu(d),au(o)){case 2:case 8:o=Zh;break;case 32:o=jl;break;case 268435456:o=Kh;break;default:o=jl}return d=lg.bind(null,s),o=eu(o,d),s.callbackPriority=a,s.callbackNode=o,a}return d!==null&&d!==null&&tu(d),s.callbackPriority=2,s.callbackNode=null,2}function lg(s,a){if(ut!==0&&ut!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(vo()&&s.callbackNode!==o)return null;var d=Ee;return d=Sl(s,s===Ve?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d===0?null:(q0(s,d,a),rg(s,Xt()),s.callbackNode!=null&&s.callbackNode===o?lg.bind(null,s):null)}function og(s,a){if(vo())return null;q0(s,a,!0)}function e2(){f2(function(){(Re&6)!==0?eu(Qh,Jj):ig()})}function $d(){if(Fn===0){var s=fi;s===0&&(s=_l,_l<<=1,(_l&261888)===0&&(_l=256)),Fn=s}return Fn}function cg(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:kl(""+s)}function ug(s,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,s.id&&o.setAttribute("form",s.id),a.parentNode.insertBefore(o,a),s=new FormData(s),o.parentNode.removeChild(o),s}function t2(s,a,o,d,p){if(a==="submit"&&o&&o.stateNode===p){var x=cg((p[Dt]||null).action),_=d.submitter;_&&(a=(a=_[Dt]||null)?cg(a.formAction):_.getAttribute("formAction"),a!==null&&(x=a,_=null));var C=new Ol("action","action",null,d,p);s.push({event:C,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Fn!==0){var T=_?ug(p,_):new FormData(p);ud(o,{pending:!0,data:T,method:p.method,action:x},null,T)}}else typeof x=="function"&&(C.preventDefault(),T=_?ug(p,_):new FormData(p),ud(o,{pending:!0,data:T,method:p.method,action:x},x,T))},currentTarget:p}]})}}for(var Yd=0;Yd<Mu.length;Yd++){var Xd=Mu[Yd],s2=Xd.toLowerCase(),n2=Xd[0].toUpperCase()+Xd.slice(1);_s(s2,"on"+n2)}_s(Fm,"onAnimationEnd"),_s(qm,"onAnimationIteration"),_s(Vm,"onAnimationStart"),_s("dblclick","onDoubleClick"),_s("focusin","onFocus"),_s("focusout","onBlur"),_s(bj,"onTransitionRun"),_s(vj,"onTransitionStart"),_s(jj,"onTransitionCancel"),_s($m,"onTransitionEnd"),Ia("onMouseEnter",["mouseout","mouseover"]),Ia("onMouseLeave",["mouseout","mouseover"]),Ia("onPointerEnter",["pointerout","pointerover"]),Ia("onPointerLeave",["pointerout","pointerover"]),da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),da("onBeforeInput",["compositionend","keypress","textInput","paste"]),da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kr));function dg(s,a){a=(a&4)!==0;for(var o=0;o<s.length;o++){var d=s[o],p=d.event;d=d.listeners;e:{var x=void 0;if(a)for(var _=d.length-1;0<=_;_--){var C=d[_],T=C.instance,V=C.currentTarget;if(C=C.listener,T!==x&&p.isPropagationStopped())break e;x=C,p.currentTarget=V;try{x(p)}catch(Q){Ll(Q)}p.currentTarget=null,x=T}else for(_=0;_<d.length;_++){if(C=d[_],T=C.instance,V=C.currentTarget,C=C.listener,T!==x&&p.isPropagationStopped())break e;x=C,p.currentTarget=V;try{x(p)}catch(Q){Ll(Q)}p.currentTarget=null,x=T}}}}function Se(s,a){var o=a[iu];o===void 0&&(o=a[iu]=new Set);var d=s+"__bubble";o.has(d)||(fg(a,s,2,!1),o.add(d))}function Gd(s,a,o){var d=0;a&&(d|=4),fg(o,s,d,a)}var wo="_reactListening"+Math.random().toString(36).slice(2);function Wd(s){if(!s[wo]){s[wo]=!0,im.forEach(function(o){o!=="selectionchange"&&(a2.has(o)||Gd(o,!1,s),Gd(o,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[wo]||(a[wo]=!0,Gd("selectionchange",!1,a))}}function fg(s,a,o,d){switch(Fg(a)){case 2:var p=D2;break;case 8:p=O2;break;default:p=uf}o=p.bind(null,a,o,s),p=void 0,!mu||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),d?p!==void 0?s.addEventListener(a,o,{capture:!0,passive:p}):s.addEventListener(a,o,!0):p!==void 0?s.addEventListener(a,o,{passive:p}):s.addEventListener(a,o,!1)}function Qd(s,a,o,d,p){var x=d;if((a&1)===0&&(a&2)===0&&d!==null)e:for(;;){if(d===null)return;var _=d.tag;if(_===3||_===4){var C=d.stateNode.containerInfo;if(C===p)break;if(_===4)for(_=d.return;_!==null;){var T=_.tag;if((T===3||T===4)&&_.stateNode.containerInfo===p)return;_=_.return}for(;C!==null;){if(_=Qa(C),_===null)return;if(T=_.tag,T===5||T===6||T===26||T===27){d=x=_;continue e}C=C.parentNode}}d=d.return}xm(function(){var V=x,Q=fu(o),J=[];e:{var $=Ym.get(s);if($!==void 0){var X=Ol,oe=s;switch(s){case"keypress":if(Al(o)===0)break e;case"keydown":case"keyup":X=K1;break;case"focusin":oe="focus",X=yu;break;case"focusout":oe="blur",X=yu;break;case"beforeblur":case"afterblur":X=yu;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=vm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=U1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=ej;break;case Fm:case qm:case Vm:X=q1;break;case $m:X=sj;break;case"scroll":case"scrollend":X=B1;break;case"wheel":X=aj;break;case"copy":case"cut":case"paste":X=$1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=_m;break;case"toggle":case"beforetoggle":X=rj}var he=(a&4)!==0,qe=!he&&(s==="scroll"||s==="scrollend"),L=he?$!==null?$+"Capture":null:$;he=[];for(var O=V,F;O!==null;){var Z=O;if(F=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||F===null||L===null||(Z=Ki(O,L),Z!=null&&he.push(Tr(O,Z,F))),qe)break;O=O.return}0<he.length&&($=new X($,oe,null,o,Q),J.push({event:$,listeners:he}))}}if((a&7)===0){e:{if($=s==="mouseover"||s==="pointerover",X=s==="mouseout"||s==="pointerout",$&&o!==du&&(oe=o.relatedTarget||o.fromElement)&&(Qa(oe)||oe[Wa]))break e;if((X||$)&&($=Q.window===Q?Q:($=Q.ownerDocument)?$.defaultView||$.parentWindow:window,X?(oe=o.relatedTarget||o.toElement,X=V,oe=oe?Qa(oe):null,oe!==null&&(qe=c(oe),he=oe.tag,oe!==qe||he!==5&&he!==27&&he!==6)&&(oe=null)):(X=null,oe=V),X!==oe)){if(he=vm,Z="onMouseLeave",L="onMouseEnter",O="mouse",(s==="pointerout"||s==="pointerover")&&(he=_m,Z="onPointerLeave",L="onPointerEnter",O="pointer"),qe=X==null?$:Zi(X),F=oe==null?$:Zi(oe),$=new he(Z,O+"leave",X,o,Q),$.target=qe,$.relatedTarget=F,Z=null,Qa(Q)===V&&(he=new he(L,O+"enter",oe,o,Q),he.target=F,he.relatedTarget=qe,Z=he),qe=Z,X&&oe)t:{for(he=i2,L=X,O=oe,F=0,Z=L;Z;Z=he(Z))F++;Z=0;for(var de=O;de;de=he(de))Z++;for(;0<F-Z;)L=he(L),F--;for(;0<Z-F;)O=he(O),Z--;for(;F--;){if(L===O||O!==null&&L===O.alternate){he=L;break t}L=he(L),O=he(O)}he=null}else he=null;X!==null&&hg(J,$,X,he,!1),oe!==null&&qe!==null&&hg(J,qe,oe,he,!0)}}e:{if($=V?Zi(V):window,X=$.nodeName&&$.nodeName.toLowerCase(),X==="select"||X==="input"&&$.type==="file")var De=Tm;else if(Em($))if(Am)De=gj;else{De=mj;var ce=hj}else X=$.nodeName,!X||X.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?V&&uu(V.elementType)&&(De=Tm):De=pj;if(De&&(De=De(s,V))){km(J,De,o,Q);break e}ce&&ce(s,$,V),s==="focusout"&&V&&$.type==="number"&&V.memoizedProps.value!=null&&cu($,"number",$.value)}switch(ce=V?Zi(V):window,s){case"focusin":(Em(ce)||ce.contentEditable==="true")&&(ai=ce,Nu=V,ir=null);break;case"focusout":ir=Nu=ai=null;break;case"mousedown":Su=!0;break;case"contextmenu":case"mouseup":case"dragend":Su=!1,Um(J,o,Q);break;case"selectionchange":if(yj)break;case"keydown":case"keyup":Um(J,o,Q)}var be;if(vu)e:{switch(s){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else ni?Cm(s,o)&&(ke="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(ke="onCompositionStart");ke&&(wm&&o.locale!=="ko"&&(ni||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&ni&&(be=ym()):(Sn=Q,pu="value"in Sn?Sn.value:Sn.textContent,ni=!0)),ce=No(V,ke),0<ce.length&&(ke=new jm(ke,s,null,o,Q),J.push({event:ke,listeners:ce}),be?ke.data=be:(be=Mm(o),be!==null&&(ke.data=be)))),(be=oj?cj(s,o):uj(s,o))&&(ke=No(V,"onBeforeInput"),0<ke.length&&(ce=new jm("onBeforeInput","beforeinput",null,o,Q),J.push({event:ce,listeners:ke}),ce.data=be)),t2(J,s,V,o,Q)}dg(J,a)})}function Tr(s,a,o){return{instance:s,listener:a,currentTarget:o}}function No(s,a){for(var o=a+"Capture",d=[];s!==null;){var p=s,x=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||x===null||(p=Ki(s,o),p!=null&&d.unshift(Tr(s,p,x)),p=Ki(s,a),p!=null&&d.push(Tr(s,p,x))),s.tag===3)return d;s=s.return}return[]}function i2(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function hg(s,a,o,d,p){for(var x=a._reactName,_=[];o!==null&&o!==d;){var C=o,T=C.alternate,V=C.stateNode;if(C=C.tag,T!==null&&T===d)break;C!==5&&C!==26&&C!==27||V===null||(T=V,p?(V=Ki(o,x),V!=null&&_.unshift(Tr(o,V,T))):p||(V=Ki(o,x),V!=null&&_.push(Tr(o,V,T)))),o=o.return}_.length!==0&&s.push({event:a,listeners:_})}var r2=/\r\n?/g,l2=/\u0000|\uFFFD/g;function mg(s){return(typeof s=="string"?s:""+s).replace(r2,`
`).replace(l2,"")}function pg(s,a){return a=mg(a),mg(s)===a}function Fe(s,a,o,d,p,x){switch(o){case"children":typeof d=="string"?a==="body"||a==="textarea"&&d===""||ei(s,d):(typeof d=="number"||typeof d=="bigint")&&a!=="body"&&ei(s,""+d);break;case"className":Ml(s,"class",d);break;case"tabIndex":Ml(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Ml(s,o,d);break;case"style":pm(s,d,x);break;case"data":if(a!=="object"){Ml(s,"data",d);break}case"src":case"href":if(d===""&&(a!=="a"||o!=="href")){s.removeAttribute(o);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(o);break}d=kl(""+d),s.setAttribute(o,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(o==="formAction"?(a!=="input"&&Fe(s,a,"name",p.name,p,null),Fe(s,a,"formEncType",p.formEncType,p,null),Fe(s,a,"formMethod",p.formMethod,p,null),Fe(s,a,"formTarget",p.formTarget,p,null)):(Fe(s,a,"encType",p.encType,p,null),Fe(s,a,"method",p.method,p,null),Fe(s,a,"target",p.target,p,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(o);break}d=kl(""+d),s.setAttribute(o,d);break;case"onClick":d!=null&&(s.onclick=Vs);break;case"onScroll":d!=null&&Se("scroll",s);break;case"onScrollEnd":d!=null&&Se("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(o=d.__html,o!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}o=kl(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(o,""+d):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":d===!0?s.setAttribute(o,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(o,d):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(o,d):s.removeAttribute(o);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(o):s.setAttribute(o,d);break;case"popover":Se("beforetoggle",s),Se("toggle",s),Cl(s,"popover",d);break;case"xlinkActuate":qs(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":qs(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":qs(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":qs(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":qs(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":qs(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":qs(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":qs(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":qs(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Cl(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=z1.get(o)||o,Cl(s,o,d))}}function Zd(s,a,o,d,p,x){switch(o){case"style":pm(s,d,x);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(o=d.__html,o!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof d=="string"?ei(s,d):(typeof d=="number"||typeof d=="bigint")&&ei(s,""+d);break;case"onScroll":d!=null&&Se("scroll",s);break;case"onScrollEnd":d!=null&&Se("scrollend",s);break;case"onClick":d!=null&&(s.onclick=Vs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rm.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),a=o.slice(2,p?o.length-7:void 0),x=s[Dt]||null,x=x!=null?x[o]:null,typeof x=="function"&&s.removeEventListener(a,x,p),typeof d=="function")){typeof x!="function"&&x!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(a,d,p);break e}o in s?s[o]=d:d===!0?s.setAttribute(o,""):Cl(s,o,d)}}}function jt(s,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",s),Se("load",s);var d=!1,p=!1,x;for(x in o)if(o.hasOwnProperty(x)){var _=o[x];if(_!=null)switch(x){case"src":d=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Fe(s,a,x,_,o,null)}}p&&Fe(s,a,"srcSet",o.srcSet,o,null),d&&Fe(s,a,"src",o.src,o,null);return;case"input":Se("invalid",s);var C=x=_=p=null,T=null,V=null;for(d in o)if(o.hasOwnProperty(d)){var Q=o[d];if(Q!=null)switch(d){case"name":p=Q;break;case"type":_=Q;break;case"checked":T=Q;break;case"defaultChecked":V=Q;break;case"value":x=Q;break;case"defaultValue":C=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,a));break;default:Fe(s,a,d,Q,o,null)}}dm(s,x,C,T,V,_,p,!1);return;case"select":Se("invalid",s),d=_=x=null;for(p in o)if(o.hasOwnProperty(p)&&(C=o[p],C!=null))switch(p){case"value":x=C;break;case"defaultValue":_=C;break;case"multiple":d=C;default:Fe(s,a,p,C,o,null)}a=x,o=_,s.multiple=!!d,a!=null?Ja(s,!!d,a,!1):o!=null&&Ja(s,!!d,o,!0);return;case"textarea":Se("invalid",s),x=p=d=null;for(_ in o)if(o.hasOwnProperty(_)&&(C=o[_],C!=null))switch(_){case"value":d=C;break;case"defaultValue":p=C;break;case"children":x=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:Fe(s,a,_,C,o,null)}hm(s,d,p,x);return;case"option":for(T in o)o.hasOwnProperty(T)&&(d=o[T],d!=null)&&(T==="selected"?s.selected=d&&typeof d!="function"&&typeof d!="symbol":Fe(s,a,T,d,o,null));return;case"dialog":Se("beforetoggle",s),Se("toggle",s),Se("cancel",s),Se("close",s);break;case"iframe":case"object":Se("load",s);break;case"video":case"audio":for(d=0;d<kr.length;d++)Se(kr[d],s);break;case"image":Se("error",s),Se("load",s);break;case"details":Se("toggle",s);break;case"embed":case"source":case"link":Se("error",s),Se("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in o)if(o.hasOwnProperty(V)&&(d=o[V],d!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Fe(s,a,V,d,o,null)}return;default:if(uu(a)){for(Q in o)o.hasOwnProperty(Q)&&(d=o[Q],d!==void 0&&Zd(s,a,Q,d,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(d=o[C],d!=null&&Fe(s,a,C,d,o,null))}function o2(s,a,o,d){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,x=null,_=null,C=null,T=null,V=null,Q=null;for(X in o){var J=o[X];if(o.hasOwnProperty(X)&&J!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":T=J;default:d.hasOwnProperty(X)||Fe(s,a,X,null,d,J)}}for(var $ in d){var X=d[$];if(J=o[$],d.hasOwnProperty($)&&(X!=null||J!=null))switch($){case"type":x=X;break;case"name":p=X;break;case"checked":V=X;break;case"defaultChecked":Q=X;break;case"value":_=X;break;case"defaultValue":C=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,a));break;default:X!==J&&Fe(s,a,$,X,d,J)}}ou(s,_,C,T,V,Q,x,p);return;case"select":X=_=C=$=null;for(x in o)if(T=o[x],o.hasOwnProperty(x)&&T!=null)switch(x){case"value":break;case"multiple":X=T;default:d.hasOwnProperty(x)||Fe(s,a,x,null,d,T)}for(p in d)if(x=d[p],T=o[p],d.hasOwnProperty(p)&&(x!=null||T!=null))switch(p){case"value":$=x;break;case"defaultValue":C=x;break;case"multiple":_=x;default:x!==T&&Fe(s,a,p,x,d,T)}a=C,o=_,d=X,$!=null?Ja(s,!!o,$,!1):!!d!=!!o&&(a!=null?Ja(s,!!o,a,!0):Ja(s,!!o,o?[]:"",!1));return;case"textarea":X=$=null;for(C in o)if(p=o[C],o.hasOwnProperty(C)&&p!=null&&!d.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Fe(s,a,C,null,d,p)}for(_ in d)if(p=d[_],x=o[_],d.hasOwnProperty(_)&&(p!=null||x!=null))switch(_){case"value":$=p;break;case"defaultValue":X=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==x&&Fe(s,a,_,p,d,x)}fm(s,$,X);return;case"option":for(var oe in o)$=o[oe],o.hasOwnProperty(oe)&&$!=null&&!d.hasOwnProperty(oe)&&(oe==="selected"?s.selected=!1:Fe(s,a,oe,null,d,$));for(T in d)$=d[T],X=o[T],d.hasOwnProperty(T)&&$!==X&&($!=null||X!=null)&&(T==="selected"?s.selected=$&&typeof $!="function"&&typeof $!="symbol":Fe(s,a,T,$,d,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in o)$=o[he],o.hasOwnProperty(he)&&$!=null&&!d.hasOwnProperty(he)&&Fe(s,a,he,null,d,$);for(V in d)if($=d[V],X=o[V],d.hasOwnProperty(V)&&$!==X&&($!=null||X!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,a));break;default:Fe(s,a,V,$,d,X)}return;default:if(uu(a)){for(var qe in o)$=o[qe],o.hasOwnProperty(qe)&&$!==void 0&&!d.hasOwnProperty(qe)&&Zd(s,a,qe,void 0,d,$);for(Q in d)$=d[Q],X=o[Q],!d.hasOwnProperty(Q)||$===X||$===void 0&&X===void 0||Zd(s,a,Q,$,d,X);return}}for(var L in o)$=o[L],o.hasOwnProperty(L)&&$!=null&&!d.hasOwnProperty(L)&&Fe(s,a,L,null,d,$);for(J in d)$=d[J],X=o[J],!d.hasOwnProperty(J)||$===X||$==null&&X==null||Fe(s,a,J,$,d,X)}function gg(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function c2(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,o=performance.getEntriesByType("resource"),d=0;d<o.length;d++){var p=o[d],x=p.transferSize,_=p.initiatorType,C=p.duration;if(x&&C&&gg(_)){for(_=0,C=p.responseEnd,d+=1;d<o.length;d++){var T=o[d],V=T.startTime;if(V>C)break;var Q=T.transferSize,J=T.initiatorType;Q&&gg(J)&&(T=T.responseEnd,_+=Q*(T<C?1:(C-V)/(T-V)))}if(--d,a+=8*(x+_)/(p.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Kd=null,Id=null;function So(s){return s.nodeType===9?s:s.ownerDocument}function xg(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yg(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Jd(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var ef=null;function u2(){var s=window.event;return s&&s.type==="popstate"?s===ef?!1:(ef=s,!0):(ef=null,!1)}var bg=typeof setTimeout=="function"?setTimeout:void 0,d2=typeof clearTimeout=="function"?clearTimeout:void 0,vg=typeof Promise=="function"?Promise:void 0,f2=typeof queueMicrotask=="function"?queueMicrotask:typeof vg<"u"?function(s){return vg.resolve(null).then(s).catch(h2)}:bg;function h2(s){setTimeout(function(){throw s})}function qn(s){return s==="head"}function jg(s,a){var o=a,d=0;do{var p=o.nextSibling;if(s.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(d===0){s.removeChild(p),Ai(a);return}d--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")d++;else if(o==="html")Ar(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,Ar(o);for(var x=o.firstChild;x;){var _=x.nextSibling,C=x.nodeName;x[Qi]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&x.rel.toLowerCase()==="stylesheet"||o.removeChild(x),x=_}}else o==="body"&&Ar(s.ownerDocument.body);o=p}while(o);Ai(a)}function _g(s,a){var o=s;s=0;do{var d=o.nextSibling;if(o.nodeType===1?a?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(a?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=d}while(o)}function tf(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":tf(o),ru(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function m2(s,a,o,d){for(;s.nodeType===1;){var p=o;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[Qi])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(x=s.getAttribute("rel"),x==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(x!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(x=s.getAttribute("src"),(x!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&x&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var x=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===x)return s}else return s;if(s=gs(s.nextSibling),s===null)break}return null}function p2(s,a,o){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=gs(s.nextSibling),s===null))return null;return s}function wg(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=gs(s.nextSibling),s===null))return null;return s}function sf(s){return s.data==="$?"||s.data==="$~"}function nf(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function g2(s,a){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||o.readyState!=="loading")a();else{var d=function(){a(),o.removeEventListener("DOMContentLoaded",d)};o.addEventListener("DOMContentLoaded",d),s._reactRetry=d}}function gs(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var af=null;function Ng(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(a===0)return gs(s.nextSibling);a--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||a++}s=s.nextSibling}return null}function Sg(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(a===0)return s;a--}else o!=="/$"&&o!=="/&"||a++}s=s.previousSibling}return null}function Cg(s,a,o){switch(a=So(o),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Ar(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);ru(s)}var xs=new Map,Mg=new Set;function Co(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var rn=ee.d;ee.d={f:x2,r:y2,D:b2,C:v2,L:j2,m:_2,X:N2,S:w2,M:S2};function x2(){var s=rn.f(),a=xo();return s||a}function y2(s){var a=Za(s);a!==null&&a.tag===5&&a.type==="form"?$p(a):rn.r(s)}var Ei=typeof document>"u"?null:document;function Eg(s,a,o){var d=Ei;if(d&&typeof a=="string"&&a){var p=cs(a);p='link[rel="'+s+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),Mg.has(p)||(Mg.add(p),s={rel:s,crossOrigin:o,href:a},d.querySelector(p)===null&&(a=d.createElement("link"),jt(a,"link",s),pt(a),d.head.appendChild(a)))}}function b2(s){rn.D(s),Eg("dns-prefetch",s,null)}function v2(s,a){rn.C(s,a),Eg("preconnect",s,a)}function j2(s,a,o){rn.L(s,a,o);var d=Ei;if(d&&s&&a){var p='link[rel="preload"][as="'+cs(a)+'"]';a==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+cs(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+cs(o.imageSizes)+'"]')):p+='[href="'+cs(s)+'"]';var x=p;switch(a){case"style":x=ki(s);break;case"script":x=Ti(s)}xs.has(x)||(s=g({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:s,as:a},o),xs.set(x,s),d.querySelector(p)!==null||a==="style"&&d.querySelector(Dr(x))||a==="script"&&d.querySelector(Or(x))||(a=d.createElement("link"),jt(a,"link",s),pt(a),d.head.appendChild(a)))}}function _2(s,a){rn.m(s,a);var o=Ei;if(o&&s){var d=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+cs(d)+'"][href="'+cs(s)+'"]',x=p;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Ti(s)}if(!xs.has(x)&&(s=g({rel:"modulepreload",href:s},a),xs.set(x,s),o.querySelector(p)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Or(x)))return}d=o.createElement("link"),jt(d,"link",s),pt(d),o.head.appendChild(d)}}}function w2(s,a,o){rn.S(s,a,o);var d=Ei;if(d&&s){var p=Ka(d).hoistableStyles,x=ki(s);a=a||"default";var _=p.get(x);if(!_){var C={loading:0,preload:null};if(_=d.querySelector(Dr(x)))C.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":a},o),(o=xs.get(x))&&rf(s,o);var T=_=d.createElement("link");pt(T),jt(T,"link",s),T._p=new Promise(function(V,Q){T.onload=V,T.onerror=Q}),T.addEventListener("load",function(){C.loading|=1}),T.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Mo(_,a,d)}_={type:"stylesheet",instance:_,count:1,state:C},p.set(x,_)}}}function N2(s,a){rn.X(s,a);var o=Ei;if(o&&s){var d=Ka(o).hoistableScripts,p=Ti(s),x=d.get(p);x||(x=o.querySelector(Or(p)),x||(s=g({src:s,async:!0},a),(a=xs.get(p))&&lf(s,a),x=o.createElement("script"),pt(x),jt(x,"link",s),o.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(p,x))}}function S2(s,a){rn.M(s,a);var o=Ei;if(o&&s){var d=Ka(o).hoistableScripts,p=Ti(s),x=d.get(p);x||(x=o.querySelector(Or(p)),x||(s=g({src:s,async:!0,type:"module"},a),(a=xs.get(p))&&lf(s,a),x=o.createElement("script"),pt(x),jt(x,"link",s),o.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(p,x))}}function kg(s,a,o,d){var p=(p=G.current)?Co(p):null;if(!p)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=ki(o.href),o=Ka(p).hoistableStyles,d=o.get(a),d||(d={type:"style",instance:null,count:0,state:null},o.set(a,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=ki(o.href);var x=Ka(p).hoistableStyles,_=x.get(s);if(_||(p=p.ownerDocument||p,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(s,_),(x=p.querySelector(Dr(s)))&&!x._p&&(_.instance=x,_.state.loading=5),xs.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},xs.set(s,o),x||C2(p,s,o,_.state))),a&&d===null)throw Error(i(528,""));return _}if(a&&d!==null)throw Error(i(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Ti(o),o=Ka(p).hoistableScripts,d=o.get(a),d||(d={type:"script",instance:null,count:0,state:null},o.set(a,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function ki(s){return'href="'+cs(s)+'"'}function Dr(s){return'link[rel="stylesheet"]['+s+"]"}function Tg(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function C2(s,a,o,d){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?d.loading=1:(a=s.createElement("link"),d.preload=a,a.addEventListener("load",function(){return d.loading|=1}),a.addEventListener("error",function(){return d.loading|=2}),jt(a,"link",o),pt(a),s.head.appendChild(a))}function Ti(s){return'[src="'+cs(s)+'"]'}function Or(s){return"script[async]"+s}function Ag(s,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var d=s.querySelector('style[data-href~="'+cs(o.href)+'"]');if(d)return a.instance=d,pt(d),d;var p=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),pt(d),jt(d,"style",p),Mo(d,o.precedence,s),a.instance=d;case"stylesheet":p=ki(o.href);var x=s.querySelector(Dr(p));if(x)return a.state.loading|=4,a.instance=x,pt(x),x;d=Tg(o),(p=xs.get(p))&&rf(d,p),x=(s.ownerDocument||s).createElement("link"),pt(x);var _=x;return _._p=new Promise(function(C,T){_.onload=C,_.onerror=T}),jt(x,"link",d),a.state.loading|=4,Mo(x,o.precedence,s),a.instance=x;case"script":return x=Ti(o.src),(p=s.querySelector(Or(x)))?(a.instance=p,pt(p),p):(d=o,(p=xs.get(x))&&(d=g({},o),lf(d,p)),s=s.ownerDocument||s,p=s.createElement("script"),pt(p),jt(p,"link",d),s.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(d=a.instance,a.state.loading|=4,Mo(d,o.precedence,s));return a.instance}function Mo(s,a,o){for(var d=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=d.length?d[d.length-1]:null,x=p,_=0;_<d.length;_++){var C=d[_];if(C.dataset.precedence===a)x=C;else if(x!==p)break}x?x.parentNode.insertBefore(s,x.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(s,a.firstChild))}function rf(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function lf(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Eo=null;function Dg(s,a,o){if(Eo===null){var d=new Map,p=Eo=new Map;p.set(o,d)}else p=Eo,d=p.get(o),d||(d=new Map,p.set(o,d));if(d.has(s))return d;for(d.set(s,null),o=o.getElementsByTagName(s),p=0;p<o.length;p++){var x=o[p];if(!(x[Qi]||x[xt]||s==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var _=x.getAttribute(a)||"";_=s+_;var C=d.get(_);C?C.push(x):d.set(_,[x])}}return d}function Og(s,a,o){s=s.ownerDocument||s,s.head.insertBefore(o,a==="title"?s.querySelector("head > title"):null)}function M2(s,a,o){if(o===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(s=a.disabled,typeof a.precedence=="string"&&s==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Rg(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function E2(s,a,o,d){if(o.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=ki(d.href),x=a.querySelector(Dr(p));if(x){a=x._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=ko.bind(s),a.then(s,s)),o.state.loading|=4,o.instance=x,pt(x);return}x=a.ownerDocument||a,d=Tg(d),(p=xs.get(p))&&rf(d,p),x=x.createElement("link"),pt(x);var _=x;_._p=new Promise(function(C,T){_.onload=C,_.onerror=T}),jt(x,"link",d),o.instance=x}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,a),(a=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=ko.bind(s),a.addEventListener("load",o),a.addEventListener("error",o))}}var of=0;function k2(s,a){return s.stylesheets&&s.count===0&&Ao(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var d=setTimeout(function(){if(s.stylesheets&&Ao(s,s.stylesheets),s.unsuspend){var x=s.unsuspend;s.unsuspend=null,x()}},6e4+a);0<s.imgBytes&&of===0&&(of=62500*c2());var p=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Ao(s,s.stylesheets),s.unsuspend)){var x=s.unsuspend;s.unsuspend=null,x()}},(s.imgBytes>of?50:800)+a);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(d),clearTimeout(p)}}:null}function ko(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ao(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var To=null;function Ao(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,To=new Map,a.forEach(T2,s),To=null,ko.call(s))}function T2(s,a){if(!(a.state.loading&4)){var o=To.get(s);if(o)var d=o.get(null);else{o=new Map,To.set(s,o);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<p.length;x++){var _=p[x];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),d=_)}d&&o.set(null,d)}p=a.instance,_=p.getAttribute("data-precedence"),x=o.get(_)||d,x===d&&o.set(null,p),o.set(_,p),this.count++,d=ko.bind(this),p.addEventListener("load",d),p.addEventListener("error",d),x?x.parentNode.insertBefore(p,x.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),a.state.loading|=4}}var Rr={$$typeof:k,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function A2(s,a,o,d,p,x,_,C,T){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=su(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=su(0),this.hiddenUpdates=su(null),this.identifierPrefix=d,this.onUncaughtError=p,this.onCaughtError=x,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function zg(s,a,o,d,p,x,_,C,T,V,Q,J){return s=new A2(s,a,o,_,T,V,Q,J,C),a=1,x===!0&&(a|=24),x=Zt(3,null,null,a),s.current=x,x.stateNode=s,a=Pu(),a.refCount++,s.pooledCache=a,a.refCount++,x.memoizedState={element:d,isDehydrated:o,cache:a},$u(x),s}function Lg(s){return s?(s=li,s):li}function Bg(s,a,o,d,p,x){p=Lg(p),d.context===null?d.context=p:d.pendingContext=p,d=An(a),d.payload={element:o},x=x===void 0?null:x,x!==null&&(d.callback=x),o=Dn(s,d,a),o!==null&&(Ht(o,s,a),fr(o,s,a))}function Hg(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<a?o:a}}function cf(s,a){Hg(s,a),(s=s.alternate)&&Hg(s,a)}function Ug(s){if(s.tag===13||s.tag===31){var a=pa(s,67108864);a!==null&&Ht(a,s,67108864),cf(s,67108864)}}function Pg(s){if(s.tag===13||s.tag===31){var a=ts();a=nu(a);var o=pa(s,a);o!==null&&Ht(o,s,a),cf(s,a)}}var Do=!0;function D2(s,a,o,d){var p=H.T;H.T=null;var x=ee.p;try{ee.p=2,uf(s,a,o,d)}finally{ee.p=x,H.T=p}}function O2(s,a,o,d){var p=H.T;H.T=null;var x=ee.p;try{ee.p=8,uf(s,a,o,d)}finally{ee.p=x,H.T=p}}function uf(s,a,o,d){if(Do){var p=df(d);if(p===null)Qd(s,a,d,Oo,o),qg(s,d);else if(z2(p,s,a,o,d))d.stopPropagation();else if(qg(s,d),a&4&&-1<R2.indexOf(s)){for(;p!==null;){var x=Za(p);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var _=ua(x.pendingLanes);if(_!==0){var C=x;for(C.pendingLanes|=2,C.entangledLanes|=2;_;){var T=1<<31-Wt(_);C.entanglements[1]|=T,_&=~T}Os(x),(Re&6)===0&&(po=Xt()+500,Er(0))}}break;case 31:case 13:C=pa(x,2),C!==null&&Ht(C,x,2),xo(),cf(x,2)}if(x=df(d),x===null&&Qd(s,a,d,Oo,o),x===p)break;p=x}p!==null&&d.stopPropagation()}else Qd(s,a,d,null,o)}}function df(s){return s=fu(s),ff(s)}var Oo=null;function ff(s){if(Oo=null,s=Qa(s),s!==null){var a=c(s);if(a===null)s=null;else{var o=a.tag;if(o===13){if(s=u(a),s!==null)return s;s=null}else if(o===31){if(s=f(a),s!==null)return s;s=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Oo=s,null}function Fg(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(b1()){case Qh:return 2;case Zh:return 8;case jl:case v1:return 32;case Kh:return 268435456;default:return 32}default:return 32}}var hf=!1,Vn=null,$n=null,Yn=null,zr=new Map,Lr=new Map,Xn=[],R2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qg(s,a){switch(s){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":$n=null;break;case"mouseover":case"mouseout":Yn=null;break;case"pointerover":case"pointerout":zr.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lr.delete(a.pointerId)}}function Br(s,a,o,d,p,x){return s===null||s.nativeEvent!==x?(s={blockedOn:a,domEventName:o,eventSystemFlags:d,nativeEvent:x,targetContainers:[p]},a!==null&&(a=Za(a),a!==null&&Ug(a)),s):(s.eventSystemFlags|=d,a=s.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),s)}function z2(s,a,o,d,p){switch(a){case"focusin":return Vn=Br(Vn,s,a,o,d,p),!0;case"dragenter":return $n=Br($n,s,a,o,d,p),!0;case"mouseover":return Yn=Br(Yn,s,a,o,d,p),!0;case"pointerover":var x=p.pointerId;return zr.set(x,Br(zr.get(x)||null,s,a,o,d,p)),!0;case"gotpointercapture":return x=p.pointerId,Lr.set(x,Br(Lr.get(x)||null,s,a,o,d,p)),!0}return!1}function Vg(s){var a=Qa(s.target);if(a!==null){var o=c(a);if(o!==null){if(a=o.tag,a===13){if(a=u(o),a!==null){s.blockedOn=a,nm(s.priority,function(){Pg(o)});return}}else if(a===31){if(a=f(o),a!==null){s.blockedOn=a,nm(s.priority,function(){Pg(o)});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ro(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var o=df(s.nativeEvent);if(o===null){o=s.nativeEvent;var d=new o.constructor(o.type,o);du=d,o.target.dispatchEvent(d),du=null}else return a=Za(o),a!==null&&Ug(a),s.blockedOn=o,!1;a.shift()}return!0}function $g(s,a,o){Ro(s)&&o.delete(a)}function L2(){hf=!1,Vn!==null&&Ro(Vn)&&(Vn=null),$n!==null&&Ro($n)&&($n=null),Yn!==null&&Ro(Yn)&&(Yn=null),zr.forEach($g),Lr.forEach($g)}function zo(s,a){s.blockedOn===a&&(s.blockedOn=null,hf||(hf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,L2)))}var Lo=null;function Yg(s){Lo!==s&&(Lo=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Lo===s&&(Lo=null);for(var a=0;a<s.length;a+=3){var o=s[a],d=s[a+1],p=s[a+2];if(typeof d!="function"){if(ff(d||o)===null)continue;break}var x=Za(o);x!==null&&(s.splice(a,3),a-=3,ud(x,{pending:!0,data:p,method:o.method,action:d},d,p))}}))}function Ai(s){function a(T){return zo(T,s)}Vn!==null&&zo(Vn,s),$n!==null&&zo($n,s),Yn!==null&&zo(Yn,s),zr.forEach(a),Lr.forEach(a);for(var o=0;o<Xn.length;o++){var d=Xn[o];d.blockedOn===s&&(d.blockedOn=null)}for(;0<Xn.length&&(o=Xn[0],o.blockedOn===null);)Vg(o),o.blockedOn===null&&Xn.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(d=0;d<o.length;d+=3){var p=o[d],x=o[d+1],_=p[Dt]||null;if(typeof x=="function")_||Yg(o);else if(_){var C=null;if(x&&x.hasAttribute("formAction")){if(p=x,_=x[Dt]||null)C=_.formAction;else if(ff(p)!==null)continue}else C=_.action;typeof C=="function"?o[d+1]=C:(o.splice(d,3),d-=3),Yg(o)}}}function Xg(){function s(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(_){return p=_})},focusReset:"manual",scroll:"manual"})}function a(){p!==null&&(p(),p=null),d||setTimeout(o,20)}function o(){if(!d&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,p=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(o,100),function(){d=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),p!==null&&(p(),p=null)}}}function mf(s){this._internalRoot=s}Bo.prototype.render=mf.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var o=a.current,d=ts();Bg(o,d,s,a,null,null)},Bo.prototype.unmount=mf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Bg(s.current,2,null,s,null,null),xo(),a[Wa]=null}};function Bo(s){this._internalRoot=s}Bo.prototype.unstable_scheduleHydration=function(s){if(s){var a=sm();s={blockedOn:null,target:s,priority:a};for(var o=0;o<Xn.length&&a!==0&&a<Xn[o].priority;o++);Xn.splice(o,0,s),o===0&&Vg(s)}};var Gg=e.version;if(Gg!=="19.2.4")throw Error(i(527,Gg,"19.2.4"));ee.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=m(a),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var B2={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ho=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ho.isDisabled&&Ho.supportsFiber)try{Xi=Ho.inject(B2),Gt=Ho}catch{}}return Ur.createRoot=function(s,a){if(!l(s))throw Error(i(299));var o=!1,d="",p=e0,x=t0,_=s0;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),a=zg(s,1,!1,null,null,o,d,null,p,x,_,Xg),s[Wa]=a.current,Wd(s),new mf(a)},Ur.hydrateRoot=function(s,a,o){if(!l(s))throw Error(i(299));var d=!1,p="",x=e0,_=t0,C=s0,T=null;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(x=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.formState!==void 0&&(T=o.formState)),a=zg(s,1,!0,a,o??null,d,p,T,x,_,C,Xg),a.context=Lg(null),o=a.current,d=ts(),d=nu(d),p=An(d),p.callback=null,Dn(o,p,d),o=d,a.current.lanes=o,Wi(a,o),Os(a),s[Wa]=a.current,Wd(s),new Bo(a)},Ur.version="19.2.4",Ur}var nx;function W2(){if(nx)return gf.exports;nx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),gf.exports=G2(),gf.exports}var Q2=W2(),S=uh();const Ba=U2(S);var ax="popstate";function Z2(t={}){function e(i,l){let{pathname:c,search:u,hash:f}=i.location;return $f("",{pathname:c,search:u,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(i,l){return typeof l=="string"?l:nl(l)}return I2(e,n,null,t)}function Qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ms(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function K2(){return Math.random().toString(36).substring(2,10)}function ix(t,e){return{usr:t.state,key:t.key,idx:e}}function $f(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Pi(e):e,state:n,key:e&&e.key||i||K2()}}function nl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Pi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function I2(t,e,n,i={}){let{window:l=document.defaultView,v5Compat:c=!1}=i,u=l.history,f="POP",h=null,m=y();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function y(){return(u.state||{idx:null}).idx}function g(){f="POP";let N=y(),M=N==null?null:N-m;m=N,h&&h({action:f,location:j.location,delta:M})}function b(N,M){f="PUSH";let E=$f(j.location,N,M);m=y()+1;let k=ix(E,m),U=j.createHref(E);try{u.pushState(k,"",U)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;l.location.assign(U)}c&&h&&h({action:f,location:j.location,delta:1})}function w(N,M){f="REPLACE";let E=$f(j.location,N,M);m=y();let k=ix(E,m),U=j.createHref(E);u.replaceState(k,"",U),c&&h&&h({action:f,location:j.location,delta:0})}function v(N){return J2(N)}let j={get action(){return f},get location(){return t(l,u)},listen(N){if(h)throw new Error("A history only accepts one active listener");return l.addEventListener(ax,g),h=N,()=>{l.removeEventListener(ax,g),h=null}},createHref(N){return e(l,N)},createURL:v,encodeLocation(N){let M=v(N);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:b,replace:w,go(N){return u.go(N)}};return j}function J2(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Qe(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:nl(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function ob(t,e,n="/"){return e_(t,e,n,!1)}function e_(t,e,n,i){let l=typeof e=="string"?Pi(e):e,c=jn(l.pathname||"/",n);if(c==null)return null;let u=cb(t);t_(u);let f=null;for(let h=0;f==null&&h<u.length;++h){let m=f_(c);f=u_(u[h],m,i)}return f}function cb(t,e=[],n=[],i="",l=!1){let c=(u,f,h=l,m)=>{let y={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&h)return;Qe(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let g=xn([i,y.relativePath]),b=n.concat(y);u.children&&u.children.length>0&&(Qe(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),cb(u.children,e,b,g,h)),!(u.path==null&&!u.index)&&e.push({path:g,score:o_(g,u.index),routesMeta:b})};return t.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))c(u,f);else for(let h of ub(u.path))c(u,f,!0,h)}),e}function ub(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,l=n.endsWith("?"),c=n.replace(/\?$/,"");if(i.length===0)return l?[c,""]:[c];let u=ub(i.join("/")),f=[];return f.push(...u.map(h=>h===""?c:[c,h].join("/"))),l&&f.push(...u),f.map(h=>t.startsWith("/")&&h===""?"/":h)}function t_(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:c_(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var s_=/^:[\w-]+$/,n_=3,a_=2,i_=1,r_=10,l_=-2,rx=t=>t==="*";function o_(t,e){let n=t.split("/"),i=n.length;return n.some(rx)&&(i+=l_),e&&(i+=a_),n.filter(l=>!rx(l)).reduce((l,c)=>l+(s_.test(c)?n_:c===""?i_:r_),i)}function c_(t,e){return t.length===e.length&&t.slice(0,-1).every((i,l)=>i===e[l])?t[t.length-1]-e[e.length-1]:0}function u_(t,e,n=!1){let{routesMeta:i}=t,l={},c="/",u=[];for(let f=0;f<i.length;++f){let h=i[f],m=f===i.length-1,y=c==="/"?e:e.slice(c.length)||"/",g=fc({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},y),b=h.route;if(!g&&m&&n&&!i[i.length-1].route.index&&(g=fc({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!g)return null;Object.assign(l,g.params),u.push({params:l,pathname:xn([c,g.pathname]),pathnameBase:g_(xn([c,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(c=xn([c,g.pathnameBase]))}return u}function fc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=d_(t.path,t.caseSensitive,t.end),l=e.match(n);if(!l)return null;let c=l[0],u=c.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:i.reduce((m,{paramName:y,isOptional:g},b)=>{if(y==="*"){let v=f[b]||"";u=c.slice(0,c.length-v.length).replace(/(.)\/+$/,"$1")}const w=f[b];return g&&!w?m[y]=void 0:m[y]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:c,pathnameBase:u,pattern:t}}function d_(t,e=!1,n=!0){Ms(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],l="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,h)=>(i.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),l+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":t!==""&&t!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),i]}function f_(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ms(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function jn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var h_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function m_(t,e="/"){let{pathname:n,search:i="",hash:l=""}=typeof t=="string"?Pi(t):t,c;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?c=lx(n.substring(1),"/"):c=lx(n,e)):c=e,{pathname:c,search:x_(i),hash:y_(l)}}function lx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function jf(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function p_(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function dh(t){let e=p_(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function fh(t,e,n,i=!1){let l;typeof t=="string"?l=Pi(t):(l={...t},Qe(!l.pathname||!l.pathname.includes("?"),jf("?","pathname","search",l)),Qe(!l.pathname||!l.pathname.includes("#"),jf("#","pathname","hash",l)),Qe(!l.search||!l.search.includes("#"),jf("#","search","hash",l)));let c=t===""||l.pathname==="",u=c?"/":l.pathname,f;if(u==null)f=n;else{let g=e.length-1;if(!i&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),g-=1;l.pathname=b.join("/")}f=g>=0?e[g]:"/"}let h=m_(l,f),m=u&&u!=="/"&&u.endsWith("/"),y=(c||u===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||y)&&(h.pathname+="/"),h}var xn=t=>t.join("/").replace(/\/\/+/g,"/"),g_=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),x_=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,y_=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,b_=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function v_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function j_(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var db=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function fb(t,e){let n=t;if(typeof n!="string"||!h_.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,l=!1;if(db)try{let c=new URL(window.location.href),u=n.startsWith("//")?new URL(c.protocol+n):new URL(n),f=jn(u.pathname,e);u.origin===c.origin&&f!=null?n=f+u.search+u.hash:l=!0}catch{Ms(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:l,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var hb=["POST","PUT","PATCH","DELETE"];new Set(hb);var __=["GET",...hb];new Set(__);var Fi=S.createContext(null);Fi.displayName="DataRouter";var Cc=S.createContext(null);Cc.displayName="DataRouterState";var w_=S.createContext(!1),mb=S.createContext({isTransitioning:!1});mb.displayName="ViewTransition";var N_=S.createContext(new Map);N_.displayName="Fetchers";var S_=S.createContext(null);S_.displayName="Await";var rs=S.createContext(null);rs.displayName="Navigation";var fl=S.createContext(null);fl.displayName="Location";var js=S.createContext({outlet:null,matches:[],isDataRoute:!1});js.displayName="Route";var hh=S.createContext(null);hh.displayName="RouteError";var pb="REACT_ROUTER_ERROR",C_="REDIRECT",M_="ROUTE_ERROR_RESPONSE";function E_(t){if(t.startsWith(`${pb}:${C_}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function k_(t){if(t.startsWith(`${pb}:${M_}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new b_(e.status,e.statusText,e.data)}catch{}}function T_(t,{relative:e}={}){Qe(qi(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=S.useContext(rs),{hash:l,pathname:c,search:u}=hl(t,{relative:e}),f=c;return n!=="/"&&(f=c==="/"?n:xn([n,c])),i.createHref({pathname:f,search:u,hash:l})}function qi(){return S.useContext(fl)!=null}function Fs(){return Qe(qi(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(fl).location}var gb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xb(t){S.useContext(rs).static||S.useLayoutEffect(t)}function Va(){let{isDataRoute:t}=S.useContext(js);return t?Y_():A_()}function A_(){Qe(qi(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(Fi),{basename:e,navigator:n}=S.useContext(rs),{matches:i}=S.useContext(js),{pathname:l}=Fs(),c=JSON.stringify(dh(i)),u=S.useRef(!1);return xb(()=>{u.current=!0}),S.useCallback((h,m={})=>{if(Ms(u.current,gb),!u.current)return;if(typeof h=="number"){n.go(h);return}let y=fh(h,JSON.parse(c),l,m.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:xn([e,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[e,n,c,l,t])}var D_=S.createContext(null);function O_(t){let e=S.useContext(js).outlet;return S.useMemo(()=>e&&S.createElement(D_.Provider,{value:t},e),[e,t])}function Mc(){let{matches:t}=S.useContext(js),e=t[t.length-1];return e?e.params:{}}function hl(t,{relative:e}={}){let{matches:n}=S.useContext(js),{pathname:i}=Fs(),l=JSON.stringify(dh(n));return S.useMemo(()=>fh(t,JSON.parse(l),i,e==="path"),[t,l,i,e])}function R_(t,e){return yb(t,e)}function yb(t,e,n,i,l){Qe(qi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=S.useContext(rs),{matches:u}=S.useContext(js),f=u[u.length-1],h=f?f.params:{},m=f?f.pathname:"/",y=f?f.pathnameBase:"/",g=f&&f.route;{let E=g&&g.path||"";vb(m,!g||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let b=Fs(),w;if(e){let E=typeof e=="string"?Pi(e):e;Qe(y==="/"||E.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${E.pathname}" was given in the \`location\` prop.`),w=E}else w=b;let v=w.pathname||"/",j=v;if(y!=="/"){let E=y.replace(/^\//,"").split("/");j="/"+v.replace(/^\//,"").split("/").slice(E.length).join("/")}let N=ob(t,{pathname:j});Ms(g||N!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Ms(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=U_(N&&N.map(E=>Object.assign({},E,{params:Object.assign({},h,E.params),pathname:xn([y,c.encodeLocation?c.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?y:xn([y,c.encodeLocation?c.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),u,n,i,l);return e&&M?S.createElement(fl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},M):M}function z_(){let t=$_(),e=v_(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:c},"ErrorBoundary")," or"," ",S.createElement("code",{style:c},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:l},n):null,u)}var L_=S.createElement(z_,null),bb=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=k_(t.digest);n&&(t=n)}let e=t!==void 0?S.createElement(js.Provider,{value:this.props.routeContext},S.createElement(hh.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?S.createElement(B_,{error:t},e):e}};bb.contextType=w_;var _f=new WeakMap;function B_({children:t,error:e}){let{basename:n}=S.useContext(rs);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=E_(e.digest);if(i){let l=_f.get(e);if(l)throw l;let c=fb(i.location,n);if(db&&!_f.get(e))if(c.isExternal||i.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:i.replace}));throw _f.set(e,u),u}return S.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return t}function H_({routeContext:t,match:e,children:n}){let i=S.useContext(Fi);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(js.Provider,{value:t},n)}function U_(t,e=[],n=null,i=null,l=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,u=n?.errors;if(u!=null){let y=c.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);Qe(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,y+1))}let f=!1,h=-1;if(n)for(let y=0;y<c.length;y++){let g=c[y];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=y),g.route.id){let{loaderData:b,errors:w}=n,v=g.route.loader&&!b.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||v){f=!0,h>=0?c=c.slice(0,h+1):c=[c[0]];break}}}let m=n&&i?(y,g)=>{i(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:j_(n.matches),errorInfo:g})}:void 0;return c.reduceRight((y,g,b)=>{let w,v=!1,j=null,N=null;n&&(w=u&&g.route.id?u[g.route.id]:void 0,j=g.route.errorElement||L_,f&&(h<0&&b===0?(vb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,N=null):h===b&&(v=!0,N=g.route.hydrateFallbackElement||null)));let M=e.concat(c.slice(0,b+1)),E=()=>{let k;return w?k=j:v?k=N:g.route.Component?k=S.createElement(g.route.Component,null):g.route.element?k=g.route.element:k=y,S.createElement(H_,{match:g,routeContext:{outlet:y,matches:M,isDataRoute:n!=null},children:k})};return n&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?S.createElement(bb,{location:n.location,revalidation:n.revalidation,component:j,error:w,children:E(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:m}):E()},null)}function mh(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function P_(t){let e=S.useContext(Fi);return Qe(e,mh(t)),e}function F_(t){let e=S.useContext(Cc);return Qe(e,mh(t)),e}function q_(t){let e=S.useContext(js);return Qe(e,mh(t)),e}function ph(t){let e=q_(t),n=e.matches[e.matches.length-1];return Qe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function V_(){return ph("useRouteId")}function $_(){let t=S.useContext(hh),e=F_("useRouteError"),n=ph("useRouteError");return t!==void 0?t:e.errors?.[n]}function Y_(){let{router:t}=P_("useNavigate"),e=ph("useNavigate"),n=S.useRef(!1);return xb(()=>{n.current=!0}),S.useCallback(async(l,c={})=>{Ms(n.current,gb),n.current&&(typeof l=="number"?await t.navigate(l):await t.navigate(l,{fromRouteId:e,...c}))},[t,e])}var ox={};function vb(t,e,n){!e&&!ox[t]&&(ox[t]=!0,Ms(!1,n))}S.memo(X_);function X_({routes:t,future:e,state:n,onError:i}){return yb(t,void 0,n,i,e)}function gh({to:t,replace:e,state:n,relative:i}){Qe(qi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=S.useContext(rs);Ms(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=S.useContext(js),{pathname:u}=Fs(),f=Va(),h=fh(t,dh(c),u,i==="path"),m=JSON.stringify(h);return S.useEffect(()=>{f(JSON.parse(m),{replace:e,state:n,relative:i})},[f,m,i,e,n]),null}function Ec(t){return O_(t.context)}function Ce(t){Qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function G_({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:l,static:c=!1,unstable_useTransitions:u}){Qe(!qi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),h=S.useMemo(()=>({basename:f,navigator:l,static:c,unstable_useTransitions:u,future:{}}),[f,l,c,u]);typeof n=="string"&&(n=Pi(n));let{pathname:m="/",search:y="",hash:g="",state:b=null,key:w="default"}=n,v=S.useMemo(()=>{let j=jn(m,f);return j==null?null:{location:{pathname:j,search:y,hash:g,state:b,key:w},navigationType:i}},[f,m,y,g,b,w,i]);return Ms(v!=null,`<Router basename="${f}"> is not able to match the URL "${m}${y}${g}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:S.createElement(rs.Provider,{value:h},S.createElement(fl.Provider,{children:e,value:v}))}function W_({children:t,location:e}){return R_(Yf(t),e)}function Yf(t,e=[]){let n=[];return S.Children.forEach(t,(i,l)=>{if(!S.isValidElement(i))return;let c=[...e,l];if(i.type===S.Fragment){n.push.apply(n,Yf(i.props.children,c));return}Qe(i.type===Ce,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qe(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Yf(i.props.children,c)),n.push(u)}),n}var ac="get",ic="application/x-www-form-urlencoded";function kc(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function Q_(t){return kc(t)&&t.tagName.toLowerCase()==="button"}function Z_(t){return kc(t)&&t.tagName.toLowerCase()==="form"}function K_(t){return kc(t)&&t.tagName.toLowerCase()==="input"}function I_(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function J_(t,e){return t.button===0&&(!e||e==="_self")&&!I_(t)}var Uo=null;function ew(){if(Uo===null)try{new FormData(document.createElement("form"),0),Uo=!1}catch{Uo=!0}return Uo}var tw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wf(t){return t!=null&&!tw.has(t)?(Ms(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ic}"`),null):t}function sw(t,e){let n,i,l,c,u;if(Z_(t)){let f=t.getAttribute("action");i=f?jn(f,e):null,n=t.getAttribute("method")||ac,l=wf(t.getAttribute("enctype"))||ic,c=new FormData(t)}else if(Q_(t)||K_(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||f.getAttribute("action");if(i=h?jn(h,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||ac,l=wf(t.getAttribute("formenctype"))||wf(f.getAttribute("enctype"))||ic,c=new FormData(f,t),!ew()){let{name:m,type:y,value:g}=t;if(y==="image"){let b=m?`${m}.`:"";c.append(`${b}x`,"0"),c.append(`${b}y`,"0")}else m&&c.append(m,g)}}else{if(kc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ac,i=null,l=ic,u=t}return c&&l==="text/plain"&&(u=c,c=void 0),{action:i,method:n.toLowerCase(),encType:l,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function xh(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function nw(t,e,n,i){let l=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${i}`:l.pathname=`${l.pathname}.${i}`:l.pathname==="/"?l.pathname=`_root.${i}`:e&&jn(l.pathname,e)==="/"?l.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${i}`,l}async function aw(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iw(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function rw(t,e,n){let i=await Promise.all(t.map(async l=>{let c=e.routes[l.route.id];if(c){let u=await aw(c,n);return u.links?u.links():[]}return[]}));return uw(i.flat(1).filter(iw).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function cx(t,e,n,i,l,c){let u=(h,m)=>n[m]?h.route.id!==n[m].route.id:!0,f=(h,m)=>n[m].pathname!==h.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==h.params["*"];return c==="assets"?e.filter((h,m)=>u(h,m)||f(h,m)):c==="data"?e.filter((h,m)=>{let y=i.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(u(h,m)||f(h,m))return!0;if(h.route.shouldRevalidate){let g=h.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function lw(t,e,{includeHydrateFallback:n}={}){return ow(t.map(i=>{let l=e.routes[i.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function ow(t){return[...new Set(t)]}function cw(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function uw(t,e){let n=new Set;return new Set(e),t.reduce((i,l)=>{let c=JSON.stringify(cw(l));return n.has(c)||(n.add(c),i.push({key:c,link:l})),i},[])}function jb(){let t=S.useContext(Fi);return xh(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function dw(){let t=S.useContext(Cc);return xh(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var yh=S.createContext(void 0);yh.displayName="FrameworkContext";function _b(){let t=S.useContext(yh);return xh(t,"You must render this element inside a <HydratedRouter> element"),t}function fw(t,e){let n=S.useContext(yh),[i,l]=S.useState(!1),[c,u]=S.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:m,onMouseLeave:y,onTouchStart:g}=e,b=S.useRef(null);S.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let j=M=>{M.forEach(E=>{u(E.isIntersecting)})},N=new IntersectionObserver(j,{threshold:.5});return b.current&&N.observe(b.current),()=>{N.disconnect()}}},[t]),S.useEffect(()=>{if(i){let j=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(j)}}},[i]);let w=()=>{l(!0)},v=()=>{l(!1),u(!1)};return n?t!=="intent"?[c,b,{}]:[c,b,{onFocus:Pr(f,w),onBlur:Pr(h,v),onMouseEnter:Pr(m,w),onMouseLeave:Pr(y,v),onTouchStart:Pr(g,w)}]:[!1,b,{}]}function Pr(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function hw({page:t,...e}){let{router:n}=jb(),i=S.useMemo(()=>ob(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?S.createElement(pw,{page:t,matches:i,...e}):null}function mw(t){let{manifest:e,routeModules:n}=_b(),[i,l]=S.useState([]);return S.useEffect(()=>{let c=!1;return rw(t,e,n).then(u=>{c||l(u)}),()=>{c=!0}},[t,e,n]),i}function pw({page:t,matches:e,...n}){let i=Fs(),{future:l,manifest:c,routeModules:u}=_b(),{basename:f}=jb(),{loaderData:h,matches:m}=dw(),y=S.useMemo(()=>cx(t,e,m,c,i,"data"),[t,e,m,c,i]),g=S.useMemo(()=>cx(t,e,m,c,i,"assets"),[t,e,m,c,i]),b=S.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let j=new Set,N=!1;if(e.forEach(E=>{let k=c.routes[E.route.id];!k||!k.hasLoader||(!y.some(U=>U.route.id===E.route.id)&&E.route.id in h&&u[E.route.id]?.shouldRevalidate||k.hasClientLoader?N=!0:j.add(E.route.id))}),j.size===0)return[];let M=nw(t,f,l.unstable_trailingSlashAwareDataRequests,"data");return N&&j.size>0&&M.searchParams.set("_routes",e.filter(E=>j.has(E.route.id)).map(E=>E.route.id).join(",")),[M.pathname+M.search]},[f,l.unstable_trailingSlashAwareDataRequests,h,i,c,y,e,t,u]),w=S.useMemo(()=>lw(g,c),[g,c]),v=mw(g);return S.createElement(S.Fragment,null,b.map(j=>S.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),w.map(j=>S.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),v.map(({key:j,link:N})=>S.createElement("link",{key:j,nonce:n.nonce,...N,crossOrigin:N.crossOrigin??n.crossOrigin})))}function gw(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var xw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xw&&(window.__reactRouterVersion="7.13.0")}catch{}function yw({basename:t,children:e,unstable_useTransitions:n,window:i}){let l=S.useRef();l.current==null&&(l.current=Z2({window:i,v5Compat:!0}));let c=l.current,[u,f]=S.useState({action:c.action,location:c.location}),h=S.useCallback(m=>{n===!1?f(m):S.startTransition(()=>f(m))},[n]);return S.useLayoutEffect(()=>c.listen(h),[c,h]),S.createElement(G_,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:c,unstable_useTransitions:n})}var wb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Le=S.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:l,reloadDocument:c,replace:u,state:f,target:h,to:m,preventScrollReset:y,viewTransition:g,unstable_defaultShouldRevalidate:b,...w},v){let{basename:j,unstable_useTransitions:N}=S.useContext(rs),M=typeof m=="string"&&wb.test(m),E=fb(m,j);m=E.to;let k=T_(m,{relative:l}),[U,B,I]=fw(i,w),R=jw(m,{replace:u,state:f,target:h,preventScrollReset:y,relative:l,viewTransition:g,unstable_defaultShouldRevalidate:b,unstable_useTransitions:N});function q(P){e&&e(P),P.defaultPrevented||R(P)}let z=S.createElement("a",{...w,...I,href:E.absoluteURL||k,onClick:E.isExternal||c?e:q,ref:gw(v,B),target:h,"data-discover":!M&&n==="render"?"true":void 0});return U&&!M?S.createElement(S.Fragment,null,z,S.createElement(hw,{page:k})):z});Le.displayName="Link";var Nb=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:l=!1,style:c,to:u,viewTransition:f,children:h,...m},y){let g=hl(u,{relative:m.relative}),b=Fs(),w=S.useContext(Cc),{navigator:v,basename:j}=S.useContext(rs),N=w!=null&&Cw(g)&&f===!0,M=v.encodeLocation?v.encodeLocation(g).pathname:g.pathname,E=b.pathname,k=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(E=E.toLowerCase(),k=k?k.toLowerCase():null,M=M.toLowerCase()),k&&j&&(k=jn(k,j)||k);const U=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let B=E===M||!l&&E.startsWith(M)&&E.charAt(U)==="/",I=k!=null&&(k===M||!l&&k.startsWith(M)&&k.charAt(M.length)==="/"),R={isActive:B,isPending:I,isTransitioning:N},q=B?e:void 0,z;typeof i=="function"?z=i(R):z=[i,B?"active":null,I?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let P=typeof c=="function"?c(R):c;return S.createElement(Le,{...m,"aria-current":q,className:z,ref:y,style:P,to:u,viewTransition:f},typeof h=="function"?h(R):h)});Nb.displayName="NavLink";var bw=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:l,state:c,method:u=ac,action:f,onSubmit:h,relative:m,preventScrollReset:y,viewTransition:g,unstable_defaultShouldRevalidate:b,...w},v)=>{let{unstable_useTransitions:j}=S.useContext(rs),N=Nw(),M=Sw(f,{relative:m}),E=u.toLowerCase()==="get"?"get":"post",k=typeof f=="string"&&wb.test(f),U=B=>{if(h&&h(B),B.defaultPrevented)return;B.preventDefault();let I=B.nativeEvent.submitter,R=I?.getAttribute("formmethod")||u,q=()=>N(I||B.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:l,state:c,relative:m,preventScrollReset:y,viewTransition:g,unstable_defaultShouldRevalidate:b});j&&n!==!1?S.startTransition(()=>q()):q()};return S.createElement("form",{ref:v,method:E,action:M,onSubmit:i?h:U,...w,"data-discover":!k&&t==="render"?"true":void 0})});bw.displayName="Form";function vw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sb(t){let e=S.useContext(Fi);return Qe(e,vw(t)),e}function jw(t,{target:e,replace:n,state:i,preventScrollReset:l,relative:c,viewTransition:u,unstable_defaultShouldRevalidate:f,unstable_useTransitions:h}={}){let m=Va(),y=Fs(),g=hl(t,{relative:c});return S.useCallback(b=>{if(J_(b,e)){b.preventDefault();let w=n!==void 0?n:nl(y)===nl(g),v=()=>m(t,{replace:w,state:i,preventScrollReset:l,relative:c,viewTransition:u,unstable_defaultShouldRevalidate:f});h?S.startTransition(()=>v()):v()}},[y,m,g,n,i,e,t,l,c,u,f,h])}var _w=0,ww=()=>`__${String(++_w)}__`;function Nw(){let{router:t}=Sb("useSubmit"),{basename:e}=S.useContext(rs),n=V_(),i=t.fetch,l=t.navigate;return S.useCallback(async(c,u={})=>{let{action:f,method:h,encType:m,formData:y,body:g}=sw(c,e);if(u.navigate===!1){let b=u.fetcherKey||ww();await i(b,n,u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:g,formMethod:u.method||h,formEncType:u.encType||m,flushSync:u.flushSync})}else await l(u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:y,body:g,formMethod:u.method||h,formEncType:u.encType||m,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,l,e,n])}function Sw(t,{relative:e}={}){let{basename:n}=S.useContext(rs),i=S.useContext(js);Qe(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),c={...hl(t||".",{relative:e})},u=Fs();if(t==null){c.search=u.search;let f=new URLSearchParams(c.search),h=f.getAll("index");if(h.some(y=>y==="")){f.delete("index"),h.filter(g=>g).forEach(g=>f.append("index",g));let y=f.toString();c.search=y?`?${y}`:""}}return(!t||t===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:xn([n,c.pathname])),nl(c)}function Cw(t,{relative:e}={}){let n=S.useContext(mb);Qe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Sb("useViewTransitionState"),l=hl(t,{relative:e});if(!n.isTransitioning)return!1;let c=jn(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=jn(n.nextLocation.pathname,i)||n.nextLocation.pathname;return fc(l.pathname,u)!=null||fc(l.pathname,c)!=null}function Cb(t,e){return function(){return t.apply(e,arguments)}}const{toString:Mw}=Object.prototype,{getPrototypeOf:bh}=Object,{iterator:Tc,toStringTag:Mb}=Symbol,Ac=(t=>e=>{const n=Mw.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ks=t=>(t=t.toLowerCase(),e=>Ac(e)===t),Dc=t=>e=>typeof e===t,{isArray:Vi}=Array,Li=Dc("undefined");function ml(t){return t!==null&&!Li(t)&&t.constructor!==null&&!Li(t.constructor)&&qt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Eb=ks("ArrayBuffer");function Ew(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Eb(t.buffer),e}const kw=Dc("string"),qt=Dc("function"),kb=Dc("number"),pl=t=>t!==null&&typeof t=="object",Tw=t=>t===!0||t===!1,rc=t=>{if(Ac(t)!=="object")return!1;const e=bh(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Mb in t)&&!(Tc in t)},Aw=t=>{if(!pl(t)||ml(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Dw=ks("Date"),Ow=ks("File"),Rw=ks("Blob"),zw=ks("FileList"),Lw=t=>pl(t)&&qt(t.pipe),Bw=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||qt(t.append)&&((e=Ac(t))==="formdata"||e==="object"&&qt(t.toString)&&t.toString()==="[object FormData]"))},Hw=ks("URLSearchParams"),[Uw,Pw,Fw,qw]=["ReadableStream","Request","Response","Headers"].map(ks),Vw=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function gl(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,l;if(typeof t!="object"&&(t=[t]),Vi(t))for(i=0,l=t.length;i<l;i++)e.call(null,t[i],i,t);else{if(ml(t))return;const c=n?Object.getOwnPropertyNames(t):Object.keys(t),u=c.length;let f;for(i=0;i<u;i++)f=c[i],e.call(null,t[f],f,t)}}function Tb(t,e){if(ml(t))return null;e=e.toLowerCase();const n=Object.keys(t);let i=n.length,l;for(;i-- >0;)if(l=n[i],e===l.toLowerCase())return l;return null}const Ra=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ab=t=>!Li(t)&&t!==Ra;function Xf(){const{caseless:t,skipUndefined:e}=Ab(this)&&this||{},n={},i=(l,c)=>{if(c==="__proto__"||c==="constructor"||c==="prototype")return;const u=t&&Tb(n,c)||c;rc(n[u])&&rc(l)?n[u]=Xf(n[u],l):rc(l)?n[u]=Xf({},l):Vi(l)?n[u]=l.slice():(!e||!Li(l))&&(n[u]=l)};for(let l=0,c=arguments.length;l<c;l++)arguments[l]&&gl(arguments[l],i);return n}const $w=(t,e,n,{allOwnKeys:i}={})=>(gl(e,(l,c)=>{n&&qt(l)?Object.defineProperty(t,c,{value:Cb(l,n),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(t,c,{value:l,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:i}),t),Yw=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Xw=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Gw=(t,e,n,i)=>{let l,c,u;const f={};if(e=e||{},t==null)return e;do{for(l=Object.getOwnPropertyNames(t),c=l.length;c-- >0;)u=l[c],(!i||i(u,t,e))&&!f[u]&&(e[u]=t[u],f[u]=!0);t=n!==!1&&bh(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Ww=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},Qw=t=>{if(!t)return null;if(Vi(t))return t;let e=t.length;if(!kb(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Zw=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&bh(Uint8Array)),Kw=(t,e)=>{const i=(t&&t[Tc]).call(t);let l;for(;(l=i.next())&&!l.done;){const c=l.value;e.call(t,c[0],c[1])}},Iw=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},Jw=ks("HTMLFormElement"),eN=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,l){return i.toUpperCase()+l}),ux=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),tN=ks("RegExp"),Db=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};gl(n,(l,c)=>{let u;(u=e(l,c,t))!==!1&&(i[c]=u||l)}),Object.defineProperties(t,i)},sN=t=>{Db(t,(e,n)=>{if(qt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(qt(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},nN=(t,e)=>{const n={},i=l=>{l.forEach(c=>{n[c]=!0})};return Vi(t)?i(t):i(String(t).split(e)),n},aN=()=>{},iN=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function rN(t){return!!(t&&qt(t.append)&&t[Mb]==="FormData"&&t[Tc])}const lN=t=>{const e=new Array(10),n=(i,l)=>{if(pl(i)){if(e.indexOf(i)>=0)return;if(ml(i))return i;if(!("toJSON"in i)){e[l]=i;const c=Vi(i)?[]:{};return gl(i,(u,f)=>{const h=n(u,l+1);!Li(h)&&(c[f]=h)}),e[l]=void 0,c}}return i};return n(t,0)},oN=ks("AsyncFunction"),cN=t=>t&&(pl(t)||qt(t))&&qt(t.then)&&qt(t.catch),Ob=((t,e)=>t?setImmediate:e?((n,i)=>(Ra.addEventListener("message",({source:l,data:c})=>{l===Ra&&c===n&&i.length&&i.shift()()},!1),l=>{i.push(l),Ra.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",qt(Ra.postMessage)),uN=typeof queueMicrotask<"u"?queueMicrotask.bind(Ra):typeof process<"u"&&process.nextTick||Ob,dN=t=>t!=null&&qt(t[Tc]),Y={isArray:Vi,isArrayBuffer:Eb,isBuffer:ml,isFormData:Bw,isArrayBufferView:Ew,isString:kw,isNumber:kb,isBoolean:Tw,isObject:pl,isPlainObject:rc,isEmptyObject:Aw,isReadableStream:Uw,isRequest:Pw,isResponse:Fw,isHeaders:qw,isUndefined:Li,isDate:Dw,isFile:Ow,isBlob:Rw,isRegExp:tN,isFunction:qt,isStream:Lw,isURLSearchParams:Hw,isTypedArray:Zw,isFileList:zw,forEach:gl,merge:Xf,extend:$w,trim:Vw,stripBOM:Yw,inherits:Xw,toFlatObject:Gw,kindOf:Ac,kindOfTest:ks,endsWith:Ww,toArray:Qw,forEachEntry:Kw,matchAll:Iw,isHTMLForm:Jw,hasOwnProperty:ux,hasOwnProp:ux,reduceDescriptors:Db,freezeMethods:sN,toObjectSet:nN,toCamelCase:eN,noop:aN,toFiniteNumber:iN,findKey:Tb,global:Ra,isContextDefined:Ab,isSpecCompliantForm:rN,toJSONObject:lN,isAsyncFn:oN,isThenable:cN,setImmediate:Ob,asap:uN,isIterable:dN};let me=class Rb extends Error{static from(e,n,i,l,c,u){const f=new Rb(e.message,n||e.code,i,l,c);return f.cause=e,f.name=e.name,u&&Object.assign(f,u),f}constructor(e,n,i,l,c){super(e),this.name="AxiosError",this.isAxiosError=!0,n&&(this.code=n),i&&(this.config=i),l&&(this.request=l),c&&(this.response=c,this.status=c.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}};me.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";me.ERR_BAD_OPTION="ERR_BAD_OPTION";me.ECONNABORTED="ECONNABORTED";me.ETIMEDOUT="ETIMEDOUT";me.ERR_NETWORK="ERR_NETWORK";me.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";me.ERR_DEPRECATED="ERR_DEPRECATED";me.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";me.ERR_BAD_REQUEST="ERR_BAD_REQUEST";me.ERR_CANCELED="ERR_CANCELED";me.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";me.ERR_INVALID_URL="ERR_INVALID_URL";const fN=null;function Gf(t){return Y.isPlainObject(t)||Y.isArray(t)}function zb(t){return Y.endsWith(t,"[]")?t.slice(0,-2):t}function dx(t,e,n){return t?t.concat(e).map(function(l,c){return l=zb(l),!n&&c?"["+l+"]":l}).join(n?".":""):e}function hN(t){return Y.isArray(t)&&!t.some(Gf)}const mN=Y.toFlatObject(Y,{},null,function(e){return/^is[A-Z]/.test(e)});function Oc(t,e,n){if(!Y.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Y.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,N){return!Y.isUndefined(N[j])});const i=n.metaTokens,l=n.visitor||y,c=n.dots,u=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(e);if(!Y.isFunction(l))throw new TypeError("visitor must be a function");function m(v){if(v===null)return"";if(Y.isDate(v))return v.toISOString();if(Y.isBoolean(v))return v.toString();if(!h&&Y.isBlob(v))throw new me("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(v)||Y.isTypedArray(v)?h&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function y(v,j,N){let M=v;if(v&&!N&&typeof v=="object"){if(Y.endsWith(j,"{}"))j=i?j:j.slice(0,-2),v=JSON.stringify(v);else if(Y.isArray(v)&&hN(v)||(Y.isFileList(v)||Y.endsWith(j,"[]"))&&(M=Y.toArray(v)))return j=zb(j),M.forEach(function(k,U){!(Y.isUndefined(k)||k===null)&&e.append(u===!0?dx([j],U,c):u===null?j:j+"[]",m(k))}),!1}return Gf(v)?!0:(e.append(dx(N,j,c),m(v)),!1)}const g=[],b=Object.assign(mN,{defaultVisitor:y,convertValue:m,isVisitable:Gf});function w(v,j){if(!Y.isUndefined(v)){if(g.indexOf(v)!==-1)throw Error("Circular reference detected in "+j.join("."));g.push(v),Y.forEach(v,function(M,E){(!(Y.isUndefined(M)||M===null)&&l.call(e,M,Y.isString(E)?E.trim():E,j,b))===!0&&w(M,j?j.concat(E):[E])}),g.pop()}}if(!Y.isObject(t))throw new TypeError("data must be an object");return w(t),e}function fx(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function vh(t,e){this._pairs=[],t&&Oc(t,this,e)}const Lb=vh.prototype;Lb.append=function(e,n){this._pairs.push([e,n])};Lb.toString=function(e){const n=e?function(i){return e.call(this,i,fx)}:fx;return this._pairs.map(function(l){return n(l[0])+"="+n(l[1])},"").join("&")};function pN(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Bb(t,e,n){if(!e)return t;const i=n&&n.encode||pN,l=Y.isFunction(n)?{serialize:n}:n,c=l&&l.serialize;let u;if(c?u=c(e,l):u=Y.isURLSearchParams(e)?e.toString():new vh(e,l).toString(i),u){const f=t.indexOf("#");f!==-1&&(t=t.slice(0,f)),t+=(t.indexOf("?")===-1?"?":"&")+u}return t}class hx{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Y.forEach(this.handlers,function(i){i!==null&&e(i)})}}const jh={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},gN=typeof URLSearchParams<"u"?URLSearchParams:vh,xN=typeof FormData<"u"?FormData:null,yN=typeof Blob<"u"?Blob:null,bN={isBrowser:!0,classes:{URLSearchParams:gN,FormData:xN,Blob:yN},protocols:["http","https","file","blob","url","data"]},_h=typeof window<"u"&&typeof document<"u",Wf=typeof navigator=="object"&&navigator||void 0,vN=_h&&(!Wf||["ReactNative","NativeScript","NS"].indexOf(Wf.product)<0),jN=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",_N=_h&&window.location.href||"http://localhost",wN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:_h,hasStandardBrowserEnv:vN,hasStandardBrowserWebWorkerEnv:jN,navigator:Wf,origin:_N},Symbol.toStringTag,{value:"Module"})),St={...wN,...bN};function NN(t,e){return Oc(t,new St.classes.URLSearchParams,{visitor:function(n,i,l,c){return St.isNode&&Y.isBuffer(n)?(this.append(i,n.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)},...e})}function SN(t){return Y.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function CN(t){const e={},n=Object.keys(t);let i;const l=n.length;let c;for(i=0;i<l;i++)c=n[i],e[c]=t[c];return e}function Hb(t){function e(n,i,l,c){let u=n[c++];if(u==="__proto__")return!0;const f=Number.isFinite(+u),h=c>=n.length;return u=!u&&Y.isArray(l)?l.length:u,h?(Y.hasOwnProp(l,u)?l[u]=[l[u],i]:l[u]=i,!f):((!l[u]||!Y.isObject(l[u]))&&(l[u]=[]),e(n,i,l[u],c)&&Y.isArray(l[u])&&(l[u]=CN(l[u])),!f)}if(Y.isFormData(t)&&Y.isFunction(t.entries)){const n={};return Y.forEachEntry(t,(i,l)=>{e(SN(i),l,n,0)}),n}return null}function MN(t,e,n){if(Y.isString(t))try{return(e||JSON.parse)(t),Y.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const xl={transitional:jh,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",l=i.indexOf("application/json")>-1,c=Y.isObject(e);if(c&&Y.isHTMLForm(e)&&(e=new FormData(e)),Y.isFormData(e))return l?JSON.stringify(Hb(e)):e;if(Y.isArrayBuffer(e)||Y.isBuffer(e)||Y.isStream(e)||Y.isFile(e)||Y.isBlob(e)||Y.isReadableStream(e))return e;if(Y.isArrayBufferView(e))return e.buffer;if(Y.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let f;if(c){if(i.indexOf("application/x-www-form-urlencoded")>-1)return NN(e,this.formSerializer).toString();if((f=Y.isFileList(e))||i.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Oc(f?{"files[]":e}:e,h&&new h,this.formSerializer)}}return c||l?(n.setContentType("application/json",!1),MN(e)):e}],transformResponse:[function(e){const n=this.transitional||xl.transitional,i=n&&n.forcedJSONParsing,l=this.responseType==="json";if(Y.isResponse(e)||Y.isReadableStream(e))return e;if(e&&Y.isString(e)&&(i&&!this.responseType||l)){const u=!(n&&n.silentJSONParsing)&&l;try{return JSON.parse(e,this.parseReviver)}catch(f){if(u)throw f.name==="SyntaxError"?me.from(f,me.ERR_BAD_RESPONSE,this,null,this.response):f}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:St.classes.FormData,Blob:St.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],t=>{xl.headers[t]={}});const EN=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),kN=t=>{const e={};let n,i,l;return t&&t.split(`
`).forEach(function(u){l=u.indexOf(":"),n=u.substring(0,l).trim().toLowerCase(),i=u.substring(l+1).trim(),!(!n||e[n]&&EN[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},mx=Symbol("internals");function Fr(t){return t&&String(t).trim().toLowerCase()}function lc(t){return t===!1||t==null?t:Y.isArray(t)?t.map(lc):String(t)}function TN(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const AN=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Nf(t,e,n,i,l){if(Y.isFunction(i))return i.call(this,e,n);if(l&&(e=n),!!Y.isString(e)){if(Y.isString(i))return e.indexOf(i)!==-1;if(Y.isRegExp(i))return i.test(e)}}function DN(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function ON(t,e){const n=Y.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(l,c,u){return this[i].call(this,e,l,c,u)},configurable:!0})})}let Vt=class{constructor(e){e&&this.set(e)}set(e,n,i){const l=this;function c(f,h,m){const y=Fr(h);if(!y)throw new Error("header name must be a non-empty string");const g=Y.findKey(l,y);(!g||l[g]===void 0||m===!0||m===void 0&&l[g]!==!1)&&(l[g||h]=lc(f))}const u=(f,h)=>Y.forEach(f,(m,y)=>c(m,y,h));if(Y.isPlainObject(e)||e instanceof this.constructor)u(e,n);else if(Y.isString(e)&&(e=e.trim())&&!AN(e))u(kN(e),n);else if(Y.isObject(e)&&Y.isIterable(e)){let f={},h,m;for(const y of e){if(!Y.isArray(y))throw TypeError("Object iterator must return a key-value pair");f[m=y[0]]=(h=f[m])?Y.isArray(h)?[...h,y[1]]:[h,y[1]]:y[1]}u(f,n)}else e!=null&&c(n,e,i);return this}get(e,n){if(e=Fr(e),e){const i=Y.findKey(this,e);if(i){const l=this[i];if(!n)return l;if(n===!0)return TN(l);if(Y.isFunction(n))return n.call(this,l,i);if(Y.isRegExp(n))return n.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Fr(e),e){const i=Y.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||Nf(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let l=!1;function c(u){if(u=Fr(u),u){const f=Y.findKey(i,u);f&&(!n||Nf(i,i[f],f,n))&&(delete i[f],l=!0)}}return Y.isArray(e)?e.forEach(c):c(e),l}clear(e){const n=Object.keys(this);let i=n.length,l=!1;for(;i--;){const c=n[i];(!e||Nf(this,this[c],c,e,!0))&&(delete this[c],l=!0)}return l}normalize(e){const n=this,i={};return Y.forEach(this,(l,c)=>{const u=Y.findKey(i,c);if(u){n[u]=lc(l),delete n[c];return}const f=e?DN(c):String(c).trim();f!==c&&delete n[c],n[f]=lc(l),i[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Y.forEach(this,(i,l)=>{i!=null&&i!==!1&&(n[l]=e&&Y.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(l=>i.set(l)),i}static accessor(e){const i=(this[mx]=this[mx]={accessors:{}}).accessors,l=this.prototype;function c(u){const f=Fr(u);i[f]||(ON(l,u),i[f]=!0)}return Y.isArray(e)?e.forEach(c):c(e),this}};Vt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(Vt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});Y.freezeMethods(Vt);function Sf(t,e){const n=this||xl,i=e||n,l=Vt.from(i.headers);let c=i.data;return Y.forEach(t,function(f){c=f.call(n,c,l.normalize(),e?e.status:void 0)}),l.normalize(),c}function Ub(t){return!!(t&&t.__CANCEL__)}let yl=class extends me{constructor(e,n,i){super(e??"canceled",me.ERR_CANCELED,n,i),this.name="CanceledError",this.__CANCEL__=!0}};function Pb(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new me("Request failed with status code "+n.status,[me.ERR_BAD_REQUEST,me.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function RN(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function zN(t,e){t=t||10;const n=new Array(t),i=new Array(t);let l=0,c=0,u;return e=e!==void 0?e:1e3,function(h){const m=Date.now(),y=i[c];u||(u=m),n[l]=h,i[l]=m;let g=c,b=0;for(;g!==l;)b+=n[g++],g=g%t;if(l=(l+1)%t,l===c&&(c=(c+1)%t),m-u<e)return;const w=y&&m-y;return w?Math.round(b*1e3/w):void 0}}function LN(t,e){let n=0,i=1e3/e,l,c;const u=(m,y=Date.now())=>{n=y,l=null,c&&(clearTimeout(c),c=null),t(...m)};return[(...m)=>{const y=Date.now(),g=y-n;g>=i?u(m,y):(l=m,c||(c=setTimeout(()=>{c=null,u(l)},i-g)))},()=>l&&u(l)]}const hc=(t,e,n=3)=>{let i=0;const l=zN(50,250);return LN(c=>{const u=c.loaded,f=c.lengthComputable?c.total:void 0,h=u-i,m=l(h),y=u<=f;i=u;const g={loaded:u,total:f,progress:f?u/f:void 0,bytes:h,rate:m||void 0,estimated:m&&f&&y?(f-u)/m:void 0,event:c,lengthComputable:f!=null,[e?"download":"upload"]:!0};t(g)},n)},px=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},gx=t=>(...e)=>Y.asap(()=>t(...e)),BN=St.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,St.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(St.origin),St.navigator&&/(msie|trident)/i.test(St.navigator.userAgent)):()=>!0,HN=St.hasStandardBrowserEnv?{write(t,e,n,i,l,c,u){if(typeof document>"u")return;const f=[`${t}=${encodeURIComponent(e)}`];Y.isNumber(n)&&f.push(`expires=${new Date(n).toUTCString()}`),Y.isString(i)&&f.push(`path=${i}`),Y.isString(l)&&f.push(`domain=${l}`),c===!0&&f.push("secure"),Y.isString(u)&&f.push(`SameSite=${u}`),document.cookie=f.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function UN(t){return typeof t!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function PN(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Fb(t,e,n){let i=!UN(e);return t&&(i||n==!1)?PN(t,e):e}const xx=t=>t instanceof Vt?{...t}:t;function Pa(t,e){e=e||{};const n={};function i(m,y,g,b){return Y.isPlainObject(m)&&Y.isPlainObject(y)?Y.merge.call({caseless:b},m,y):Y.isPlainObject(y)?Y.merge({},y):Y.isArray(y)?y.slice():y}function l(m,y,g,b){if(Y.isUndefined(y)){if(!Y.isUndefined(m))return i(void 0,m,g,b)}else return i(m,y,g,b)}function c(m,y){if(!Y.isUndefined(y))return i(void 0,y)}function u(m,y){if(Y.isUndefined(y)){if(!Y.isUndefined(m))return i(void 0,m)}else return i(void 0,y)}function f(m,y,g){if(g in e)return i(m,y);if(g in t)return i(void 0,m)}const h={url:c,method:c,data:c,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:f,headers:(m,y,g)=>l(xx(m),xx(y),g,!0)};return Y.forEach(Object.keys({...t,...e}),function(y){if(y==="__proto__"||y==="constructor"||y==="prototype")return;const g=Y.hasOwnProp(h,y)?h[y]:l,b=g(t[y],e[y],y);Y.isUndefined(b)&&g!==f||(n[y]=b)}),n}const qb=t=>{const e=Pa({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:l,xsrfCookieName:c,headers:u,auth:f}=e;if(e.headers=u=Vt.from(u),e.url=Bb(Fb(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),f&&u.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):""))),Y.isFormData(n)){if(St.hasStandardBrowserEnv||St.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if(Y.isFunction(n.getHeaders)){const h=n.getHeaders(),m=["content-type","content-length"];Object.entries(h).forEach(([y,g])=>{m.includes(y.toLowerCase())&&u.set(y,g)})}}if(St.hasStandardBrowserEnv&&(i&&Y.isFunction(i)&&(i=i(e)),i||i!==!1&&BN(e.url))){const h=l&&c&&HN.read(c);h&&u.set(l,h)}return e},FN=typeof XMLHttpRequest<"u",qN=FN&&function(t){return new Promise(function(n,i){const l=qb(t);let c=l.data;const u=Vt.from(l.headers).normalize();let{responseType:f,onUploadProgress:h,onDownloadProgress:m}=l,y,g,b,w,v;function j(){w&&w(),v&&v(),l.cancelToken&&l.cancelToken.unsubscribe(y),l.signal&&l.signal.removeEventListener("abort",y)}let N=new XMLHttpRequest;N.open(l.method.toUpperCase(),l.url,!0),N.timeout=l.timeout;function M(){if(!N)return;const k=Vt.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),B={data:!f||f==="text"||f==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:k,config:t,request:N};Pb(function(R){n(R),j()},function(R){i(R),j()},B),N=null}"onloadend"in N?N.onloadend=M:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(M)},N.onabort=function(){N&&(i(new me("Request aborted",me.ECONNABORTED,t,N)),N=null)},N.onerror=function(U){const B=U&&U.message?U.message:"Network Error",I=new me(B,me.ERR_NETWORK,t,N);I.event=U||null,i(I),N=null},N.ontimeout=function(){let U=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const B=l.transitional||jh;l.timeoutErrorMessage&&(U=l.timeoutErrorMessage),i(new me(U,B.clarifyTimeoutError?me.ETIMEDOUT:me.ECONNABORTED,t,N)),N=null},c===void 0&&u.setContentType(null),"setRequestHeader"in N&&Y.forEach(u.toJSON(),function(U,B){N.setRequestHeader(B,U)}),Y.isUndefined(l.withCredentials)||(N.withCredentials=!!l.withCredentials),f&&f!=="json"&&(N.responseType=l.responseType),m&&([b,v]=hc(m,!0),N.addEventListener("progress",b)),h&&N.upload&&([g,w]=hc(h),N.upload.addEventListener("progress",g),N.upload.addEventListener("loadend",w)),(l.cancelToken||l.signal)&&(y=k=>{N&&(i(!k||k.type?new yl(null,t,N):k),N.abort(),N=null)},l.cancelToken&&l.cancelToken.subscribe(y),l.signal&&(l.signal.aborted?y():l.signal.addEventListener("abort",y)));const E=RN(l.url);if(E&&St.protocols.indexOf(E)===-1){i(new me("Unsupported protocol "+E+":",me.ERR_BAD_REQUEST,t));return}N.send(c||null)})},VN=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,l;const c=function(m){if(!l){l=!0,f();const y=m instanceof Error?m:this.reason;i.abort(y instanceof me?y:new yl(y instanceof Error?y.message:y))}};let u=e&&setTimeout(()=>{u=null,c(new me(`timeout of ${e}ms exceeded`,me.ETIMEDOUT))},e);const f=()=>{t&&(u&&clearTimeout(u),u=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(c):m.removeEventListener("abort",c)}),t=null)};t.forEach(m=>m.addEventListener("abort",c));const{signal:h}=i;return h.unsubscribe=()=>Y.asap(f),h}},$N=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,l;for(;i<n;)l=i+e,yield t.slice(i,l),i=l},YN=async function*(t,e){for await(const n of XN(t))yield*$N(n,e)},XN=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},yx=(t,e,n,i)=>{const l=YN(t,e);let c=0,u,f=h=>{u||(u=!0,i&&i(h))};return new ReadableStream({async pull(h){try{const{done:m,value:y}=await l.next();if(m){f(),h.close();return}let g=y.byteLength;if(n){let b=c+=g;n(b)}h.enqueue(new Uint8Array(y))}catch(m){throw f(m),m}},cancel(h){return f(h),l.return()}},{highWaterMark:2})},bx=64*1024,{isFunction:Po}=Y,GN=(({Request:t,Response:e})=>({Request:t,Response:e}))(Y.global),{ReadableStream:vx,TextEncoder:jx}=Y.global,_x=(t,...e)=>{try{return!!t(...e)}catch{return!1}},WN=t=>{t=Y.merge.call({skipUndefined:!0},GN,t);const{fetch:e,Request:n,Response:i}=t,l=e?Po(e):typeof fetch=="function",c=Po(n),u=Po(i);if(!l)return!1;const f=l&&Po(vx),h=l&&(typeof jx=="function"?(v=>j=>v.encode(j))(new jx):async v=>new Uint8Array(await new n(v).arrayBuffer())),m=c&&f&&_x(()=>{let v=!1;const j=new n(St.origin,{body:new vx,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!j}),y=u&&f&&_x(()=>Y.isReadableStream(new i("").body)),g={stream:y&&(v=>v.body)};l&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!g[v]&&(g[v]=(j,N)=>{let M=j&&j[v];if(M)return M.call(j);throw new me(`Response type '${v}' is not supported`,me.ERR_NOT_SUPPORT,N)})});const b=async v=>{if(v==null)return 0;if(Y.isBlob(v))return v.size;if(Y.isSpecCompliantForm(v))return(await new n(St.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(v)||Y.isArrayBuffer(v))return v.byteLength;if(Y.isURLSearchParams(v)&&(v=v+""),Y.isString(v))return(await h(v)).byteLength},w=async(v,j)=>{const N=Y.toFiniteNumber(v.getContentLength());return N??b(j)};return async v=>{let{url:j,method:N,data:M,signal:E,cancelToken:k,timeout:U,onDownloadProgress:B,onUploadProgress:I,responseType:R,headers:q,withCredentials:z="same-origin",fetchOptions:P}=qb(v),K=e||fetch;R=R?(R+"").toLowerCase():"text";let le=VN([E,k&&k.toAbortSignal()],U),_e=null;const we=le&&le.unsubscribe&&(()=>{le.unsubscribe()});let ue;try{if(I&&m&&N!=="get"&&N!=="head"&&(ue=await w(q,M))!==0){let A=new n(j,{method:"POST",body:M,duplex:"half"}),W;if(Y.isFormData(M)&&(W=A.headers.get("content-type"))&&q.setContentType(W),A.body){const[ae,ie]=px(ue,hc(gx(I)));M=yx(A.body,bx,ae,ie)}}Y.isString(z)||(z=z?"include":"omit");const H=c&&"credentials"in n.prototype,ee={...P,signal:le,method:N.toUpperCase(),headers:q.normalize().toJSON(),body:M,duplex:"half",credentials:H?z:void 0};_e=c&&new n(j,ee);let re=await(c?K(_e,P):K(j,ee));const fe=y&&(R==="stream"||R==="response");if(y&&(B||fe&&we)){const A={};["status","statusText","headers"].forEach(D=>{A[D]=re[D]});const W=Y.toFiniteNumber(re.headers.get("content-length")),[ae,ie]=B&&px(W,hc(gx(B),!0))||[];re=new i(yx(re.body,bx,ae,()=>{ie&&ie(),we&&we()}),A)}R=R||"text";let ve=await g[Y.findKey(g,R)||"text"](re,v);return!fe&&we&&we(),await new Promise((A,W)=>{Pb(A,W,{data:ve,headers:Vt.from(re.headers),status:re.status,statusText:re.statusText,config:v,request:_e})})}catch(H){throw we&&we(),H&&H.name==="TypeError"&&/Load failed|fetch/i.test(H.message)?Object.assign(new me("Network Error",me.ERR_NETWORK,v,_e,H&&H.response),{cause:H.cause||H}):me.from(H,H&&H.code,v,_e,H&&H.response)}}},QN=new Map,Vb=t=>{let e=t&&t.env||{};const{fetch:n,Request:i,Response:l}=e,c=[i,l,n];let u=c.length,f=u,h,m,y=QN;for(;f--;)h=c[f],m=y.get(h),m===void 0&&y.set(h,m=f?new Map:WN(e)),y=m;return m};Vb();const wh={http:fN,xhr:qN,fetch:{get:Vb}};Y.forEach(wh,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const wx=t=>`- ${t}`,ZN=t=>Y.isFunction(t)||t===null||t===!1;function KN(t,e){t=Y.isArray(t)?t:[t];const{length:n}=t;let i,l;const c={};for(let u=0;u<n;u++){i=t[u];let f;if(l=i,!ZN(i)&&(l=wh[(f=String(i)).toLowerCase()],l===void 0))throw new me(`Unknown adapter '${f}'`);if(l&&(Y.isFunction(l)||(l=l.get(e))))break;c[f||"#"+u]=l}if(!l){const u=Object.entries(c).map(([h,m])=>`adapter ${h} `+(m===!1?"is not supported by the environment":"is not available in the build"));let f=n?u.length>1?`since :
`+u.map(wx).join(`
`):" "+wx(u[0]):"as no adapter specified";throw new me("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return l}const $b={getAdapter:KN,adapters:wh};function Cf(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new yl(null,t)}function Nx(t){return Cf(t),t.headers=Vt.from(t.headers),t.data=Sf.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),$b.getAdapter(t.adapter||xl.adapter,t)(t).then(function(i){return Cf(t),i.data=Sf.call(t,t.transformResponse,i),i.headers=Vt.from(i.headers),i},function(i){return Ub(i)||(Cf(t),i&&i.response&&(i.response.data=Sf.call(t,t.transformResponse,i.response),i.response.headers=Vt.from(i.response.headers))),Promise.reject(i)})}const Yb="1.13.5",Rc={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Rc[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const Sx={};Rc.transitional=function(e,n,i){function l(c,u){return"[Axios v"+Yb+"] Transitional option '"+c+"'"+u+(i?". "+i:"")}return(c,u,f)=>{if(e===!1)throw new me(l(u," has been removed"+(n?" in "+n:"")),me.ERR_DEPRECATED);return n&&!Sx[u]&&(Sx[u]=!0,console.warn(l(u," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(c,u,f):!0}};Rc.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function IN(t,e,n){if(typeof t!="object")throw new me("options must be an object",me.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let l=i.length;for(;l-- >0;){const c=i[l],u=e[c];if(u){const f=t[c],h=f===void 0||u(f,c,t);if(h!==!0)throw new me("option "+c+" must be "+h,me.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new me("Unknown option "+c,me.ERR_BAD_OPTION)}}const oc={assertOptions:IN,validators:Rc},ys=oc.validators;let Ha=class{constructor(e){this.defaults=e||{},this.interceptors={request:new hx,response:new hx}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const c=l.stack?l.stack.replace(/^.+\n/,""):"";try{i.stack?c&&!String(i.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+c):i.stack=c}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Pa(this.defaults,n);const{transitional:i,paramsSerializer:l,headers:c}=n;i!==void 0&&oc.assertOptions(i,{silentJSONParsing:ys.transitional(ys.boolean),forcedJSONParsing:ys.transitional(ys.boolean),clarifyTimeoutError:ys.transitional(ys.boolean),legacyInterceptorReqResOrdering:ys.transitional(ys.boolean)},!1),l!=null&&(Y.isFunction(l)?n.paramsSerializer={serialize:l}:oc.assertOptions(l,{encode:ys.function,serialize:ys.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),oc.assertOptions(n,{baseUrl:ys.spelling("baseURL"),withXsrfToken:ys.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let u=c&&Y.merge(c.common,c[n.method]);c&&Y.forEach(["delete","get","head","post","put","patch","common"],v=>{delete c[v]}),n.headers=Vt.concat(u,c);const f=[];let h=!0;this.interceptors.request.forEach(function(j){if(typeof j.runWhen=="function"&&j.runWhen(n)===!1)return;h=h&&j.synchronous;const N=n.transitional||jh;N&&N.legacyInterceptorReqResOrdering?f.unshift(j.fulfilled,j.rejected):f.push(j.fulfilled,j.rejected)});const m=[];this.interceptors.response.forEach(function(j){m.push(j.fulfilled,j.rejected)});let y,g=0,b;if(!h){const v=[Nx.bind(this),void 0];for(v.unshift(...f),v.push(...m),b=v.length,y=Promise.resolve(n);g<b;)y=y.then(v[g++],v[g++]);return y}b=f.length;let w=n;for(;g<b;){const v=f[g++],j=f[g++];try{w=v(w)}catch(N){j.call(this,N);break}}try{y=Nx.call(this,w)}catch(v){return Promise.reject(v)}for(g=0,b=m.length;g<b;)y=y.then(m[g++],m[g++]);return y}getUri(e){e=Pa(this.defaults,e);const n=Fb(e.baseURL,e.url,e.allowAbsoluteUrls);return Bb(n,e.params,e.paramsSerializer)}};Y.forEach(["delete","get","head","options"],function(e){Ha.prototype[e]=function(n,i){return this.request(Pa(i||{},{method:e,url:n,data:(i||{}).data}))}});Y.forEach(["post","put","patch"],function(e){function n(i){return function(c,u,f){return this.request(Pa(f||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:c,data:u}))}}Ha.prototype[e]=n(),Ha.prototype[e+"Form"]=n(!0)});let JN=class Xb{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(c){n=c});const i=this;this.promise.then(l=>{if(!i._listeners)return;let c=i._listeners.length;for(;c-- >0;)i._listeners[c](l);i._listeners=null}),this.promise.then=l=>{let c;const u=new Promise(f=>{i.subscribe(f),c=f}).then(l);return u.cancel=function(){i.unsubscribe(c)},u},e(function(c,u,f){i.reason||(i.reason=new yl(c,u,f),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Xb(function(l){e=l}),cancel:e}}};function eS(t){return function(n){return t.apply(null,n)}}function tS(t){return Y.isObject(t)&&t.isAxiosError===!0}const Qf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Qf).forEach(([t,e])=>{Qf[e]=t});function Gb(t){const e=new Ha(t),n=Cb(Ha.prototype.request,e);return Y.extend(n,Ha.prototype,e,{allOwnKeys:!0}),Y.extend(n,e,null,{allOwnKeys:!0}),n.create=function(l){return Gb(Pa(t,l))},n}const Je=Gb(xl);Je.Axios=Ha;Je.CanceledError=yl;Je.CancelToken=JN;Je.isCancel=Ub;Je.VERSION=Yb;Je.toFormData=Oc;Je.AxiosError=me;Je.Cancel=Je.CanceledError;Je.all=function(e){return Promise.all(e)};Je.spread=eS;Je.isAxiosError=tS;Je.mergeConfig=Pa;Je.AxiosHeaders=Vt;Je.formToJSON=t=>Hb(Y.isHTMLForm(t)?new FormData(t):t);Je.getAdapter=$b.getAdapter;Je.HttpStatusCode=Qf;Je.default=Je;const{Axios:qk,AxiosError:Vk,CanceledError:$k,isCancel:Yk,CancelToken:Xk,VERSION:Gk,all:Wk,Cancel:Qk,isAxiosError:Zk,spread:Kk,toFormData:Ik,AxiosHeaders:Jk,HttpStatusCode:e6,formToJSON:t6,getAdapter:s6,mergeConfig:n6}=Je,te=Je.create({baseURL:"/api",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"},withCredentials:!0,withXSRFToken:!0});te.interceptors.response.use(t=>t,t=>(t.response?.status===419&&window.location.reload(),Promise.reject(t)));const Cx=()=>Je.get("/sanctum/csrf-cookie",{withCredentials:!0}),Wr={async login(t){return await Cx(),(await te.post("/login",t)).data},async register(t){return await Cx(),(await te.post("/register",t)).data},async logout(){return(await te.post("/logout")).data},async getUser(){return(await te.get("/user")).data}},Wb=S.createContext(null);function sS({children:t}){const[e,n]=S.useState(null),[i,l]=S.useState(!0),c=S.useCallback(async()=>{try{const j=await Wr.getUser();n(j.data)}catch{n(null)}finally{l(!1)}},[]);S.useEffect(()=>{c()},[c]);const u=async j=>{const N=await Wr.login(j);return n(N.data),N},f=async j=>{const N=await Wr.register(j);return n(N.data),N},h=async()=>{await Wr.logout(),n(null)},m=S.useCallback(j=>e?.roles?.includes(j)??!1,[e]),y=S.useCallback(j=>j.some(N=>e?.roles?.includes(N)),[e]),g=S.useCallback(j=>e?e.roles?.includes("Admin & HR")?!0:e.permissions?.includes(j)??!1:!1,[e]),b=S.useCallback(j=>j.some(N=>g(N)),[g]),w=S.useCallback(j=>j.every(N=>g(N)),[g]),v=S.useMemo(()=>({user:e,loading:i,login:u,register:f,logout:h,isAuthenticated:!!e,hasRole:m,hasAnyRole:y,can:g,canAny:b,canAll:w}),[e,i,m,y,g,b,w]);return r.jsx(Wb.Provider,{value:v,children:t})}function At(){const t=S.useContext(Wb);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}let nS={data:""},aS=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||nS},iS=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,rS=/\/\*[^]*?\*\/|  +/g,Mx=/\n+/g,Qn=(t,e)=>{let n="",i="",l="";for(let c in t){let u=t[c];c[0]=="@"?c[1]=="i"?n=c+" "+u+";":i+=c[1]=="f"?Qn(u,c):c+"{"+Qn(u,c[1]=="k"?"":e)+"}":typeof u=="object"?i+=Qn(u,e?e.replace(/([^,])+/g,f=>c.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,f):f?f+" "+h:h)):c):u!=null&&(c=/^--/.test(c)?c:c.replace(/[A-Z]/g,"-$&").toLowerCase(),l+=Qn.p?Qn.p(c,u):c+":"+u+";")}return n+(e&&l?e+"{"+l+"}":l)+i},ln={},Qb=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Qb(t[n]);return e}return t},lS=(t,e,n,i,l)=>{let c=Qb(t),u=ln[c]||(ln[c]=(h=>{let m=0,y=11;for(;m<h.length;)y=101*y+h.charCodeAt(m++)>>>0;return"go"+y})(c));if(!ln[u]){let h=c!==t?t:(m=>{let y,g,b=[{}];for(;y=iS.exec(m.replace(rS,""));)y[4]?b.shift():y[3]?(g=y[3].replace(Mx," ").trim(),b.unshift(b[0][g]=b[0][g]||{})):b[0][y[1]]=y[2].replace(Mx," ").trim();return b[0]})(t);ln[u]=Qn(l?{["@keyframes "+u]:h}:h,n?"":"."+u)}let f=n&&ln.g?ln.g:null;return n&&(ln.g=ln[u]),((h,m,y,g)=>{g?m.data=m.data.replace(g,h):m.data.indexOf(h)===-1&&(m.data=y?h+m.data:m.data+h)})(ln[u],e,i,f),u},oS=(t,e,n)=>t.reduce((i,l,c)=>{let u=e[c];if(u&&u.call){let f=u(n),h=f&&f.props&&f.props.className||/^go/.test(f)&&f;u=h?"."+h:f&&typeof f=="object"?f.props?"":Qn(f,""):f===!1?"":f}return i+l+(u??"")},"");function zc(t){let e=this||{},n=t.call?t(e.p):t;return lS(n.unshift?n.raw?oS(n,[].slice.call(arguments,1),e.p):n.reduce((i,l)=>Object.assign(i,l&&l.call?l(e.p):l),{}):n,aS(e.target),e.g,e.o,e.k)}let Zb,Zf,Kf;zc.bind({g:1});let _n=zc.bind({k:1});function cS(t,e,n,i){Qn.p=e,Zb=t,Zf=n,Kf=i}function aa(t,e){let n=this||{};return function(){let i=arguments;function l(c,u){let f=Object.assign({},c),h=f.className||l.className;n.p=Object.assign({theme:Zf&&Zf()},f),n.o=/ *go\d+/.test(h),f.className=zc.apply(n,i)+(h?" "+h:"");let m=t;return t[0]&&(m=f.as||t,delete f.as),Kf&&m[0]&&Kf(f),Zb(m,f)}return l}}var uS=t=>typeof t=="function",mc=(t,e)=>uS(t)?t(e):t,dS=(()=>{let t=0;return()=>(++t).toString()})(),Kb=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),fS=20,Nh="default",Ib=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(u=>u.id===e.toast.id?{...u,...e.toast}:u)};case 2:let{toast:i}=e;return Ib(t,{type:t.toasts.find(u=>u.id===i.id)?1:0,toast:i});case 3:let{toastId:l}=e;return{...t,toasts:t.toasts.map(u=>u.id===l||l===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(u=>u.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let c=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+c}))}}},cc=[],Jb={toasts:[],pausedAt:void 0,settings:{toastLimit:fS}},Hs={},ev=(t,e=Nh)=>{Hs[e]=Ib(Hs[e]||Jb,t),cc.forEach(([n,i])=>{n===e&&i(Hs[e])})},tv=t=>Object.keys(Hs).forEach(e=>ev(t,e)),hS=t=>Object.keys(Hs).find(e=>Hs[e].toasts.some(n=>n.id===t)),Lc=(t=Nh)=>e=>{ev(e,t)},mS={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},pS=(t={},e=Nh)=>{let[n,i]=S.useState(Hs[e]||Jb),l=S.useRef(Hs[e]);S.useEffect(()=>(l.current!==Hs[e]&&i(Hs[e]),cc.push([e,i]),()=>{let u=cc.findIndex(([f])=>f===e);u>-1&&cc.splice(u,1)}),[e]);let c=n.toasts.map(u=>{var f,h,m;return{...t,...t[u.type],...u,removeDelay:u.removeDelay||((f=t[u.type])==null?void 0:f.removeDelay)||t?.removeDelay,duration:u.duration||((h=t[u.type])==null?void 0:h.duration)||t?.duration||mS[u.type],style:{...t.style,...(m=t[u.type])==null?void 0:m.style,...u.style}}});return{...n,toasts:c}},gS=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||dS()}),bl=t=>(e,n)=>{let i=gS(e,t,n);return Lc(i.toasterId||hS(i.id))({type:2,toast:i}),i.id},dt=(t,e)=>bl("blank")(t,e);dt.error=bl("error");dt.success=bl("success");dt.loading=bl("loading");dt.custom=bl("custom");dt.dismiss=(t,e)=>{let n={type:3,toastId:t};e?Lc(e)(n):tv(n)};dt.dismissAll=t=>dt.dismiss(void 0,t);dt.remove=(t,e)=>{let n={type:4,toastId:t};e?Lc(e)(n):tv(n)};dt.removeAll=t=>dt.remove(void 0,t);dt.promise=(t,e,n)=>{let i=dt.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(l=>{let c=e.success?mc(e.success,l):void 0;return c?dt.success(c,{id:i,...n,...n?.success}):dt.dismiss(i),l}).catch(l=>{let c=e.error?mc(e.error,l):void 0;c?dt.error(c,{id:i,...n,...n?.error}):dt.dismiss(i)}),t};var xS=1e3,yS=(t,e="default")=>{let{toasts:n,pausedAt:i}=pS(t,e),l=S.useRef(new Map).current,c=S.useCallback((g,b=xS)=>{if(l.has(g))return;let w=setTimeout(()=>{l.delete(g),u({type:4,toastId:g})},b);l.set(g,w)},[]);S.useEffect(()=>{if(i)return;let g=Date.now(),b=n.map(w=>{if(w.duration===1/0)return;let v=(w.duration||0)+w.pauseDuration-(g-w.createdAt);if(v<0){w.visible&&dt.dismiss(w.id);return}return setTimeout(()=>dt.dismiss(w.id,e),v)});return()=>{b.forEach(w=>w&&clearTimeout(w))}},[n,i,e]);let u=S.useCallback(Lc(e),[e]),f=S.useCallback(()=>{u({type:5,time:Date.now()})},[u]),h=S.useCallback((g,b)=>{u({type:1,toast:{id:g,height:b}})},[u]),m=S.useCallback(()=>{i&&u({type:6,time:Date.now()})},[i,u]),y=S.useCallback((g,b)=>{let{reverseOrder:w=!1,gutter:v=8,defaultPosition:j}=b||{},N=n.filter(k=>(k.position||j)===(g.position||j)&&k.height),M=N.findIndex(k=>k.id===g.id),E=N.filter((k,U)=>U<M&&k.visible).length;return N.filter(k=>k.visible).slice(...w?[E+1]:[0,E]).reduce((k,U)=>k+(U.height||0)+v,0)},[n]);return S.useEffect(()=>{n.forEach(g=>{if(g.dismissed)c(g.id,g.removeDelay);else{let b=l.get(g.id);b&&(clearTimeout(b),l.delete(g.id))}})},[n,c]),{toasts:n,handlers:{updateHeight:h,startPause:f,endPause:m,calculateOffset:y}}},bS=_n`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,vS=_n`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,jS=_n`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,_S=aa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${bS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${vS} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${jS} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,wS=_n`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,NS=aa("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${wS} 1s linear infinite;
`,SS=_n`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,CS=_n`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,MS=aa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${SS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${CS} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ES=aa("div")`
  position: absolute;
`,kS=aa("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,TS=_n`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,AS=aa("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${TS} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,DS=({toast:t})=>{let{icon:e,type:n,iconTheme:i}=t;return e!==void 0?typeof e=="string"?S.createElement(AS,null,e):e:n==="blank"?null:S.createElement(kS,null,S.createElement(NS,{...i}),n!=="loading"&&S.createElement(ES,null,n==="error"?S.createElement(_S,{...i}):S.createElement(MS,{...i})))},OS=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,RS=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,zS="0%{opacity:0;} 100%{opacity:1;}",LS="0%{opacity:1;} 100%{opacity:0;}",BS=aa("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,HS=aa("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,US=(t,e)=>{let n=t.includes("top")?1:-1,[i,l]=Kb()?[zS,LS]:[OS(n),RS(n)];return{animation:e?`${_n(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${_n(l)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},PS=S.memo(({toast:t,position:e,style:n,children:i})=>{let l=t.height?US(t.position||e||"top-center",t.visible):{opacity:0},c=S.createElement(DS,{toast:t}),u=S.createElement(HS,{...t.ariaProps},mc(t.message,t));return S.createElement(BS,{className:t.className,style:{...l,...n,...t.style}},typeof i=="function"?i({icon:c,message:u}):S.createElement(S.Fragment,null,c,u))});cS(S.createElement);var FS=({id:t,className:e,style:n,onHeightUpdate:i,children:l})=>{let c=S.useCallback(u=>{if(u){let f=()=>{let h=u.getBoundingClientRect().height;i(t,h)};f(),new MutationObserver(f).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[t,i]);return S.createElement("div",{ref:c,className:e,style:n},l)},qS=(t,e)=>{let n=t.includes("top"),i=n?{top:0}:{bottom:0},l=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Kb()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...i,...l}},VS=zc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Fo=16,$S=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:i,children:l,toasterId:c,containerStyle:u,containerClassName:f})=>{let{toasts:h,handlers:m}=yS(n,c);return S.createElement("div",{"data-rht-toaster":c||"",style:{position:"fixed",zIndex:9999,top:Fo,left:Fo,right:Fo,bottom:Fo,pointerEvents:"none",...u},className:f,onMouseEnter:m.startPause,onMouseLeave:m.endPause},h.map(y=>{let g=y.position||e,b=m.calculateOffset(y,{reverseOrder:t,gutter:i,defaultPosition:e}),w=qS(g,b);return S.createElement(FS,{id:y.id,key:y.id,onHeightUpdate:m.updateHeight,className:y.visible?VS:"",style:w},y.type==="custom"?mc(y.message,y):l?l(y):S.createElement(PS,{toast:y,position:g}))}))},se=dt;function mt({fullScreen:t=!1,size:e="md"}){const n={sm:"h-5 w-5",md:"h-8 w-8",lg:"h-12 w-12"},i=r.jsx("div",{className:`${n[e]} animate-spin rounded-full border-2 border-gray-300 border-t-primary-600`});return t?r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50",children:i}):r.jsx("div",{className:"flex items-center justify-center py-12",children:i})}function YS(){const{isAuthenticated:t,loading:e}=At(),n=Fs();return e?r.jsx(mt,{fullScreen:!0}):t?r.jsx(Ec,{}):r.jsx(gh,{to:"/login",state:{from:n},replace:!0})}function XS(){const{isAuthenticated:t,loading:e}=At();return e?r.jsx(mt,{fullScreen:!0}):t?r.jsx(gh,{to:"/dashboard",replace:!0}):r.jsx(Ec,{})}function Ea({permission:t,permissions:e,role:n,roles:i}){const{can:l,canAny:c,hasRole:u,hasAnyRole:f}=At();let h=!1;return t?h=l(t):e?h=c(e):n?h=u(n):i?h=f(i):h=!0,h?r.jsx(Ec,{}):r.jsx(gh,{to:"/unauthorized",replace:!0})}function GS({size:t=40,showText:e=!1,variant:n="dark",className:i=""}){const l=n==="light",c=l?"#bef264":"#15803d",u=l?"#bef264":"#84cc16";return r.jsxs("div",{className:`flex items-center gap-2.5 ${i}`,children:[r.jsxs("svg",{width:t,height:t,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("ellipse",{cx:"20",cy:"22",rx:"18",ry:"14",stroke:u,strokeWidth:"2.5",className:l?"opacity-90":"opacity-60"}),r.jsx("path",{d:"M12 24C12 20 9 17 9 17C9 17 6 20 6 24C6 28 9 29 9 29C9 29 12 28 12 24Z",fill:c}),r.jsx("path",{d:"M23 21C23 16 20 13 20 13C20 13 17 16 17 21C17 26 20 29 20 29C20 29 23 26 23 21Z",fill:c}),r.jsx("path",{d:"M34 24C34 20 31 17 31 17C31 17 28 20 28 24C28 28 31 29 31 29C31 29 34 28 34 24Z",fill:c})]}),e&&r.jsx("span",{className:`text-lg font-bold tracking-tight ${l?"text-white":"text-primary-700"}`,children:"MGE-PMS"})]})}var sv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ex=Ba.createContext&&Ba.createContext(sv),WS=["attr","size","title"];function QS(t,e){if(t==null)return{};var n=ZS(t,e),i,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(l=0;l<c.length;l++)i=c[l],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function ZS(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function pc(){return pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},pc.apply(this,arguments)}function kx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),n.push.apply(n,i)}return n}function gc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kx(Object(n),!0).forEach(function(i){KS(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kx(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function KS(t,e,n){return e=IS(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IS(t){var e=JS(t,"string");return typeof e=="symbol"?e:e+""}function JS(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nv(t){return t&&t.map((e,n)=>Ba.createElement(e.tag,gc({key:n},e.attr),nv(e.child)))}function pe(t){return e=>Ba.createElement(e5,pc({attr:gc({},t.attr)},e),nv(t.child))}function e5(t){var e=n=>{var{attr:i,size:l,title:c}=t,u=QS(t,WS),f=l||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),Ba.createElement("svg",pc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,u,{className:h,style:gc(gc({color:t.color||n.color},n.style),t.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),c&&Ba.createElement("title",null,c),t.children)};return Ex!==void 0?Ba.createElement(Ex.Consumer,null,n=>e(n)):e(sv)}function Bc(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 19l-7-7m0 0l7-7m-7 7h18"},child:[]}]})(t)}function Tx(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7l5 5m0 0l-5 5m5-5H6"},child:[]}]})(t)}function xc(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},child:[]}]})(t)}function Sh(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"},child:[]}]})(t)}function Hc(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"},child:[]}]})(t)}function If(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"},child:[]}]})(t)}function t5(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"},child:[]}]})(t)}function s5(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"},child:[]}]})(t)}function $a(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"},child:[]}]})(t)}function av(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"},child:[]}]})(t)}function iv(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"},child:[]}]})(t)}function al(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"},child:[]}]})(t)}function rv(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},child:[]}]})(t)}function $i(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},child:[]}]})(t)}function lv(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},child:[]}]})(t)}function Ya(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},child:[]}]})(t)}function $t(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"},child:[]}]})(t)}function Ch(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},child:[]}]})(t)}function ov(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},child:[]},{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},child:[]}]})(t)}function cv(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"},child:[]}]})(t)}function uv(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},child:[]}]})(t)}function n5(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"},child:[]}]})(t)}function Jf(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"},child:[]}]})(t)}function a5(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 10V3L4 14h7v7l9-11h-7z"},child:[]}]})(t)}function i5(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"},child:[]},{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"},child:[]}]})(t)}function r5(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"},child:[]}]})(t)}function l5(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},child:[]}]})(t)}function o5(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"},child:[]}]})(t)}function dv(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"},child:[]}]})(t)}function Uc(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"},child:[]}]})(t)}function eh(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"},child:[]}]})(t)}function fv(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"},child:[]}]})(t)}function Mh(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"},child:[]}]})(t)}function Yt(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"},child:[]}]})(t)}function Eh(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 14l6-6m-5.5.5h.01m4.99 5h.01M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l3.5-2 3.5 2 3.5-2 3.5 2zM10 8.5a.5.5 0 11-1 0 .5.5 0 011 0zm5 5a.5.5 0 11-1 0 .5.5 0 011 0z"},child:[]}]})(t)}function c5(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"},child:[]}]})(t)}function ia(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},child:[]}]})(t)}function th(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"},child:[]}]})(t)}function hv(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.618 5.984A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016zM12 9v2m0 4h.01"},child:[]}]})(t)}function mv(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"},child:[]}]})(t)}function ra(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},child:[]}]})(t)}function u5(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"},child:[]}]})(t)}function d5(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"},child:[]}]})(t)}function Pc(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"},child:[]}]})(t)}function Ax(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},child:[]}]})(t)}function f5(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"},child:[]}]})(t)}function Us(t){return pe({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"},child:[]}]})(t)}const h5=[{name:"Dashboard",href:"/dashboard",icon:n5,permission:null},{name:"Projects",href:"/projects",icon:xc,permission:"projects.view"},{name:"Tasks",href:"/tasks",icon:al,permission:"tasks.view"},{name:"Clients",href:"/clients",icon:dv,permission:"clients.view"},{name:"Finance",href:"/finance",icon:$i,permission:"finance.view"},{name:"Safety",href:"/safety",icon:th,permission:"safety.view"},{name:"Environmental",href:"/environmental",icon:uv,permission:"environmental.view"},{name:"Chat",href:"/chat",icon:If,permission:null},{name:"Email",href:"/email",icon:l5,permission:null},{name:"Users",href:"/users",icon:Pc,permission:"users.view"}];function m5(){const{user:t,logout:e,can:n}=At(),i=Va(),[l,c]=S.useState(!1),[u,f]=S.useState(!1),h=async()=>{try{await e(),se.success("Logged out successfully"),i("/login")}catch{se.error("Logout failed")}},m=({isActive:g})=>`group flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-colors ${g?"bg-accent-400/10 text-accent-400":"text-primary-300 hover:bg-white/5 hover:text-white"}`,y=h5.filter(g=>g.permission===null||n(g.permission));return r.jsxs("div",{className:"min-h-screen bg-primary-100",children:[l&&r.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 lg:hidden",onClick:()=>c(!1)}),r.jsxs("aside",{className:`fixed inset-y-0 left-0 z-50 w-64 transform bg-primary-700 transition-transform duration-200 lg:translate-x-0 ${l?"translate-x-0":"-translate-x-full"}`,children:[r.jsxs("div",{className:"flex h-20 items-center justify-between border-b border-white/10 px-4",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsx(GS,{variant:"light",size:32,showText:!0}),r.jsx("span",{className:"ml-10 text-[10px] font-medium tracking-widest text-primary-400 uppercase",children:"Project Management System"})]}),r.jsx("button",{onClick:()=>c(!1),className:"rounded-lg p-1 text-primary-400 hover:text-white lg:hidden",children:r.jsx(Us,{className:"h-6 w-6"})})]}),r.jsx("nav",{className:"flex-1 space-y-1 p-4",children:y.map(g=>r.jsxs(Nb,{to:g.href,className:m,onClick:()=>c(!1),children:[r.jsx(g.icon,{className:"h-5 w-5 shrink-0"}),g.name]},g.name))})]}),r.jsxs("div",{className:"lg:pl-64",children:[r.jsxs("header",{className:"sticky top-0 z-30 flex h-16 items-center justify-between border-b border-primary-200 bg-white px-4 shadow-sm lg:px-6",children:[r.jsx("button",{onClick:()=>c(!0),className:"rounded-lg p-2 text-primary-400 hover:text-primary-600 lg:hidden",children:r.jsx(o5,{className:"h-6 w-6"})}),r.jsx("div",{className:"flex-1"}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>f(!u),className:"flex items-center gap-2 rounded-lg px-3 py-2 text-sm text-primary-500 hover:bg-primary-50",children:[r.jsxs("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary-700 text-sm font-medium text-white",children:[t?.first_name?.[0],t?.last_name?.[0]]}),r.jsx("span",{className:"hidden md:block",children:t?.full_name}),r.jsx(s5,{className:"h-4 w-4"})]}),u&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>f(!1)}),r.jsxs("div",{className:"absolute right-0 z-50 mt-1 w-56 rounded-lg border border-primary-200 bg-white py-1 shadow-lg",children:[r.jsxs("div",{className:"border-b border-primary-200 px-4 py-3",children:[r.jsx("p",{className:"text-sm font-medium text-primary-700",children:t?.full_name}),r.jsx("p",{className:"text-xs text-primary-400",children:t?.email}),t?.roles?.[0]&&r.jsx("span",{className:"mt-1 inline-block rounded-full bg-accent-400/10 px-2 py-0.5 text-xs font-medium text-accent-600",children:t.roles[0]})]}),r.jsxs("button",{onClick:h,className:"flex w-full items-center gap-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[r.jsx(r5,{className:"h-4 w-4"}),"Sign out"]})]})]})]})]}),r.jsx("main",{className:"p-4 lg:p-6",children:r.jsx(Ec,{})})]})]})}function p5(){return r.jsxs("div",{className:"relative hidden lg:flex lg:w-1/2 flex-col bg-gradient-to-br from-primary-900 via-primary-800 to-primary-700 overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 -mr-16 -mt-16 w-64 h-64 rounded-full bg-accent-400/10 blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 left-0 -ml-16 -mb-16 w-96 h-96 rounded-full bg-primary-500/10 blur-3xl"}),r.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2v-4h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2v-4h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),r.jsxs("div",{className:"relative z-10 flex flex-1 flex-col p-16",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-white/10 backdrop-blur-md ring-1 ring-white/20",children:r.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("ellipse",{cx:"20",cy:"22",rx:"18",ry:"14",stroke:"#bef264",strokeWidth:"2.5"}),r.jsx("path",{d:"M12 24C12 20 9 17 9 17C9 17 6 20 6 24C6 28 9 29 9 29C9 29 12 28 12 24Z",fill:"#bef264"}),r.jsx("path",{d:"M23 21C23 16 20 13 20 13C20 13 17 16 17 21C17 26 20 29 20 29C20 29 23 26 23 21Z",fill:"#bef264"}),r.jsx("path",{d:"M34 24C34 20 31 17 31 17C31 17 28 20 28 24C28 28 31 29 31 29C31 29 34 28 34 24Z",fill:"#bef264"})]})}),r.jsxs("div",{children:[r.jsx("span",{className:"block text-2xl font-black tracking-tighter text-white",children:"MGE-PMS"}),r.jsx("span",{className:"block text-[10px] font-bold uppercase tracking-[0.2em] text-accent-300/80",children:"Engineering Excellence"})]})]}),r.jsxs("div",{className:"mb-auto mt-auto max-w-lg",children:[r.jsxs("div",{className:"mb-6 inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-4 py-1.5 backdrop-blur-sm",children:[r.jsxs("span",{className:"relative flex h-2 w-2",children:[r.jsx("span",{className:"absolute inline-flex h-full w-full animate-ping rounded-full bg-accent-400 opacity-75"}),r.jsx("span",{className:"relative inline-flex h-2 w-2 rounded-full bg-accent-400"})]}),r.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-white/90",children:"v2.0 Enterprise Release"})]}),r.jsxs("h1",{className:"text-5xl font-black leading-[1.1] text-white",children:["Constructing the ",r.jsx("br",{}),r.jsx("span",{className:"bg-gradient-to-r from-accent-300 to-accent-500 bg-clip-text text-transparent",children:"Digital Future."})]}),r.jsx("p",{className:"mt-6 text-lg leading-relaxed text-primary-100/80",children:"Seamlessly manage civil engineering projects, track resources, and ensure safety compliance with our integrated PMS."}),r.jsx("div",{className:"mt-10 grid grid-cols-2 gap-6",children:[{label:"Efficiency",desc:"Optimized workflows"},{label:"Compliance",desc:"ISO 9001 standards"}].map(t=>r.jsxs("div",{className:"border-l-2 border-accent-400/30 pl-4",children:[r.jsx("div",{className:"text-sm font-bold text-white",children:t.label}),r.jsx("div",{className:"text-xs text-primary-200/60",children:t.desc})]},t.label))})]}),r.jsxs("div",{className:"flex items-center justify-between border-t border-white/10 pt-8",children:[r.jsxs("p",{className:"text-xs font-medium text-primary-300",children:[" ",new Date().getFullYear()," Multi Green Engineering Sdn. Bhd."]}),r.jsxs("div",{className:"flex gap-4 text-[10px] font-bold uppercase tracking-widest text-primary-400",children:[r.jsx("span",{children:"Privacy"}),r.jsx("span",{children:"Terms"})]})]})]})]})}function g5(){const{login:t}=At(),e=Va(),i=Fs().state?.from?.pathname||"/dashboard",[l,c]=S.useState({email:"",password:""}),[u,f]=S.useState({}),[h,m]=S.useState(!1),[y,g]=S.useState(!1),b=E=>{c({...l,[E.target.name]:E.target.value}),f({...u,[E.target.name]:""})},w=async E=>{E.preventDefault(),m(!0),f({});try{await t(l),se.success("Access Granted. Welcome back."),e(i,{replace:!0})}catch(k){k.response?.status===422?f(k.response.data.errors||{}):se.error(k.response?.data?.message||"Authentication failed")}finally{m(!1)}},v=E=>{c({email:E,password:"password"}),f({})},j="w-full rounded-xl border px-4 py-3.5 text-sm transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-primary-500/10 focus:ring-offset-0",N=`${j} border-primary-100 bg-white text-primary-900 placeholder-primary-300 hover:border-primary-300 focus:border-primary-600 shadow-sm`,M=`${j} border-red-200 bg-red-50 text-red-900 placeholder-red-300 focus:border-red-500 shadow-sm`;return r.jsxs("div",{className:"flex min-h-screen bg-white",children:[r.jsx(p5,{}),r.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center px-8 py-12 lg:px-20",children:[r.jsxs("div",{className:"mb-12 flex flex-col items-center lg:hidden",children:[r.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-2xl bg-primary-700 shadow-lg shadow-primary-700/20",children:r.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("ellipse",{cx:"20",cy:"22",rx:"18",ry:"14",stroke:"#bef264",strokeWidth:"2.5"}),r.jsx("path",{d:"M12 24C12 20 9 17 9 17C9 17 6 20 6 24C6 28 9 29 9 29C9 29 12 28 12 24Z",fill:"#bef264"}),r.jsx("path",{d:"M23 21C23 16 20 13 20 13C20 13 17 16 17 21C17 26 20 29 20 29C20 29 23 26 23 21Z",fill:"#bef264"}),r.jsx("path",{d:"M34 24C34 20 31 17 31 17C31 17 28 20 28 24C28 28 31 29 31 29C31 29 34 28 34 24Z",fill:"#bef264"})]})}),r.jsx("span",{className:"mt-4 text-2xl font-black tracking-tighter text-primary-900",children:"MGE-PMS"})]}),r.jsxs("div",{className:"w-full max-w-[400px]",children:[r.jsxs("div",{className:"mb-10 text-center lg:text-left",children:[r.jsx("h2",{className:"text-3xl font-black tracking-tight text-primary-900",children:"Portal Login"}),r.jsx("p",{className:"mt-2 text-sm font-medium text-primary-500",children:"Enter your credentials to manage infrastructure projects"})]}),r.jsxs("form",{onSubmit:w,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{htmlFor:"email",className:"text-xs font-bold uppercase tracking-widest text-primary-700",children:"Corporate Email"}),r.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:l.email,onChange:b,className:u.email?M:N,placeholder:"name@mge-eng.com"}),u.email&&r.jsx("p",{className:"mt-1.5 text-[11px] font-bold text-red-600",children:u.email[0]})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{htmlFor:"password",className:"text-xs font-bold uppercase tracking-widest text-primary-700",children:"Access Code"}),r.jsx(Le,{to:"/forgot-password",className:"text-[11px] font-bold text-primary-500 hover:text-primary-900 transition-colors",children:"Recovery Access"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"password",name:"password",type:y?"text":"password",autoComplete:"current-password",required:!0,value:l.password,onChange:b,className:`${u.password?M:N} pr-12`,placeholder:""}),r.jsx("button",{type:"button",onClick:()=>g(!y),className:"absolute right-4 top-1/2 -translate-y-1/2 text-primary-400 hover:text-primary-600",tabIndex:-1,children:y?r.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):r.jsxs("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),u.password&&r.jsx("p",{className:"mt-1.5 text-[11px] font-bold text-red-600",children:u.password[0]})]}),r.jsx("button",{type:"submit",disabled:h,className:"group relative flex w-full items-center justify-center overflow-hidden rounded-xl bg-primary-800 px-4 py-4 text-sm font-bold text-white shadow-xl shadow-primary-900/10 transition-all hover:bg-primary-900 hover:shadow-primary-900/20 active:scale-[0.98] disabled:opacity-70",children:r.jsx("span",{className:"relative z-10 flex items-center gap-2",children:h?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Authenticating..."]}):r.jsxs(r.Fragment,{children:["Sign In to Portal",r.jsx("svg",{className:"h-4 w-4 transition-transform group-hover:translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})})})]}),r.jsxs("div",{className:"mt-10",children:[r.jsxs("div",{className:"relative flex items-center py-4",children:[r.jsx("div",{className:"flex-grow border-t border-primary-100"}),r.jsx("span",{className:"mx-4 flex-shrink text-[10px] font-black uppercase tracking-[0.2em] text-primary-300",children:"Quick Access Tools"}),r.jsx("div",{className:"flex-grow border-t border-primary-100"})]}),r.jsx("div",{className:"mt-6 grid grid-cols-1 gap-3",children:[{role:"Project Director",email:"admin@mge-pms.test",icon:""},{role:"Safety Inspector",email:"pm@mge-pms.test",icon:""},{role:"Finance Control",email:"finance@mge-pms.test",icon:""}].map(E=>r.jsxs("button",{type:"button",onClick:()=>v(E.email),className:"group flex w-full items-center gap-4 rounded-xl border border-primary-50 bg-white p-3.5 text-left transition-all hover:border-accent-400 hover:bg-accent-50/30 hover:shadow-md active:scale-[0.99]",children:[r.jsx("span",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-primary-50 text-lg transition-colors group-hover:bg-accent-100",children:E.icon}),r.jsxs("div",{className:"flex-1 overflow-hidden",children:[r.jsx("div",{className:"text-sm font-bold text-primary-900",children:E.role}),r.jsx("div",{className:"truncate text-xs text-primary-400",children:E.email})]}),r.jsx("svg",{className:"h-4 w-4 opacity-0 transition-all group-hover:translate-x-1 group-hover:opacity-100 text-accent-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M9 5l7 7-7 7"})})]},E.email))})]}),r.jsxs("p",{className:"mt-10 text-center text-sm font-medium text-primary-500",children:["Unauthorized access is prohibited."," ",r.jsx(Le,{to:"/register",className:"font-bold text-primary-900 underline decoration-accent-400 decoration-2 underline-offset-4 hover:text-accent-700",children:"Request Credentials"})]})]})]})]})}function x5(){return r.jsxs("div",{className:"relative hidden lg:flex lg:w-1/2 flex-col bg-gradient-to-br from-primary-900 via-primary-800 to-primary-700 overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 -mr-16 -mt-16 w-64 h-64 rounded-full bg-accent-400/10 blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 left-0 -ml-16 -mb-16 w-96 h-96 rounded-full bg-primary-500/10 blur-3xl"}),r.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2v-4h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2v-4h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),r.jsxs("div",{className:"relative z-10 flex flex-1 flex-col p-16",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-white/10 backdrop-blur-md ring-1 ring-white/20",children:r.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("ellipse",{cx:"20",cy:"22",rx:"18",ry:"14",stroke:"#bef264",strokeWidth:"2.5"}),r.jsx("path",{d:"M12 24C12 20 9 17 9 17C9 17 6 20 6 24C6 28 9 29 9 29C9 29 12 28 12 24Z",fill:"#bef264"}),r.jsx("path",{d:"M23 21C23 16 20 13 20 13C20 13 17 16 17 21C17 26 20 29 20 29C20 29 23 26 23 21Z",fill:"#bef264"}),r.jsx("path",{d:"M34 24C34 20 31 17 31 17C31 17 28 20 28 24C28 28 31 29 31 29C31 29 34 28 34 24Z",fill:"#bef264"})]})}),r.jsxs("div",{children:[r.jsx("span",{className:"block text-2xl font-black tracking-tighter text-white",children:"MGE-PMS"}),r.jsx("span",{className:"block text-[10px] font-bold uppercase tracking-[0.2em] text-accent-300/80",children:"Join the Force"})]})]}),r.jsxs("div",{className:"mb-auto mt-auto max-w-lg",children:[r.jsx("div",{className:"mb-6 inline-flex items-center gap-2 rounded-full border border-white/10 bg-white/5 px-4 py-1.5 backdrop-blur-sm",children:r.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-white/90",children:"Workforce Enrollment"})}),r.jsxs("h1",{className:"text-5xl font-black leading-[1.1] text-white",children:["Empowering ",r.jsx("br",{}),r.jsx("span",{className:"bg-gradient-to-r from-accent-300 to-accent-500 bg-clip-text text-transparent",children:"Engineering Talent."})]}),r.jsx("p",{className:"mt-6 text-lg leading-relaxed text-primary-100/80",children:"Become part of Malaysia's leading civil engineering team. Access specialized tools for project oversight and safety management."}),r.jsx("div",{className:"mt-10 space-y-4",children:[{icon:"",text:"Centralized Project Control"},{icon:"",text:"Automated Safety Reporting"},{icon:"",text:"Real-time Financial Analytics"}].map(t=>r.jsxs("div",{className:"flex items-center gap-4 group",children:[r.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-white/5 ring-1 ring-white/10 transition-all group-hover:bg-accent-400/20 group-hover:ring-accent-400/40",children:t.icon}),r.jsx("span",{className:"text-sm font-bold text-primary-100/90",children:t.text})]},t.text))})]}),r.jsx("div",{className:"flex items-center justify-between border-t border-white/10 pt-8",children:r.jsxs("p",{className:"text-xs font-medium text-primary-300",children:[" ",new Date().getFullYear()," Multi Green Engineering Sdn. Bhd."]})})]})]})}function y5(){const[t,e]=S.useState({first_name:"",last_name:"",email:"",password:"",password_confirmation:"",phone:""}),[n,i]=S.useState({}),[l,c]=S.useState(!1),[u,f]=S.useState(!1),[h,m]=S.useState(!1),y=N=>{e({...t,[N.target.name]:N.target.value}),i({...n,[N.target.name]:""})},g=async N=>{N.preventDefault(),c(!0),i({});try{await Wr.register(t),f(!0)}catch(M){M.response?.status===422?i(M.response.data.errors||{}):se.error(M.response?.data?.message||"Registration failed")}finally{c(!1)}},b="w-full rounded-xl border px-4 py-3 text-sm transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-primary-500/10 focus:ring-offset-0",w=`${b} border-primary-100 bg-white text-primary-900 placeholder-primary-300 hover:border-primary-300 focus:border-primary-600 shadow-sm`,v=`${b} border-red-200 bg-red-50 text-red-900 placeholder-red-300 focus:border-red-500 shadow-sm`,j=N=>n[N]?v:w;return u?r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6 py-12",children:r.jsxs("div",{className:"w-full max-w-md text-center",children:[r.jsx("div",{className:"mx-auto mb-8 flex h-24 w-24 items-center justify-center rounded-3xl bg-green-100 shadow-xl shadow-green-200/50",children:r.jsx("svg",{className:"h-12 w-12 text-green-600",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2.5",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r.jsx("h2",{className:"text-3xl font-black tracking-tight text-primary-900",children:"Request Received"}),r.jsxs("p",{className:"mt-4 text-base leading-relaxed text-primary-500",children:["Your account ",r.jsxs("span",{className:"font-bold text-primary-700",children:["(",t.email,")"]})," has been submitted for verification. You will be notified once a System Administrator approves your access."]}),r.jsx("div",{className:"mt-10",children:r.jsxs(Le,{to:"/login",className:"inline-flex items-center gap-2 rounded-xl bg-primary-800 px-8 py-4 text-sm font-bold text-white shadow-xl shadow-primary-900/10 transition-all hover:bg-primary-900 hover:shadow-primary-900/20 active:scale-[0.98]",children:["Return to Secure Login",r.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})})]})}):r.jsxs("div",{className:"flex min-h-screen bg-white",children:[r.jsx(x5,{}),r.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center px-8 py-12 lg:px-20 overflow-y-auto",children:[r.jsx("div",{className:"mb-12 flex flex-col items-center lg:hidden",children:r.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-primary-700 shadow-lg shadow-primary-700/20",children:r.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("ellipse",{cx:"20",cy:"22",rx:"18",ry:"14",stroke:"#bef264",strokeWidth:"2.5"}),r.jsx("path",{d:"M12 24C12 20 9 17 9 17C9 17 6 20 6 24C6 28 9 29 9 29C9 29 12 28 12 24Z",fill:"#bef264"}),r.jsx("path",{d:"M23 21C23 16 20 13 20 13C20 13 17 16 17 21C17 26 20 29 20 29C20 29 23 26 23 21Z",fill:"#bef264"}),r.jsx("path",{d:"M34 24C34 20 31 17 31 17C31 17 28 20 28 24C28 28 31 29 31 29C31 29 34 28 34 24Z",fill:"#bef264"})]})})}),r.jsxs("div",{className:"w-full max-w-[440px]",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h2",{className:"text-3xl font-black tracking-tight text-primary-900",children:"Get Started"}),r.jsx("p",{className:"mt-2 text-sm font-medium text-primary-500",children:"Submit your professional details for system access"})]}),r.jsxs("form",{onSubmit:g,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{htmlFor:"first_name",className:"text-[10px] font-bold uppercase tracking-widest text-primary-700",children:"First Name"}),r.jsx("input",{id:"first_name",name:"first_name",type:"text",required:!0,value:t.first_name,onChange:y,className:j("first_name"),placeholder:"Ahmad"}),n.first_name&&r.jsx("p",{className:"mt-1 text-[10px] font-bold text-red-600",children:n.first_name[0]})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{htmlFor:"last_name",className:"text-[10px] font-bold uppercase tracking-widest text-primary-700",children:"Last Name"}),r.jsx("input",{id:"last_name",name:"last_name",type:"text",required:!0,value:t.last_name,onChange:y,className:j("last_name"),placeholder:"Razif"}),n.last_name&&r.jsx("p",{className:"mt-1 text-[10px] font-bold text-red-600",children:n.last_name[0]})]})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{htmlFor:"email",className:"text-[10px] font-bold uppercase tracking-widest text-primary-700",children:"Work Email"}),r.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t.email,onChange:y,className:j("email"),placeholder:"name@mge-eng.com"}),n.email&&r.jsx("p",{className:"mt-1 text-[10px] font-bold text-red-600",children:n.email[0]})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{htmlFor:"phone",className:"text-[10px] font-bold uppercase tracking-widest text-primary-700",children:"Contact Number"}),r.jsx("input",{id:"phone",name:"phone",type:"tel",value:t.phone,onChange:y,className:j("phone"),placeholder:"+60 1x-xxx xxxx"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{htmlFor:"password",className:"text-[10px] font-bold uppercase tracking-widest text-primary-700",children:"Security Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"password",name:"password",type:h?"text":"password",required:!0,value:t.password,onChange:y,className:`${j("password")} pr-12`,placeholder:"Min. 8 characters"}),r.jsx("button",{type:"button",onClick:()=>m(!h),className:"absolute right-4 top-1/2 -translate-y-1/2 text-primary-400 hover:text-primary-600",tabIndex:-1,children:h?r.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):r.jsxs("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),n.password&&r.jsx("p",{className:"mt-1 text-[10px] font-bold text-red-600",children:n.password[0]})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{htmlFor:"password_confirmation",className:"text-[10px] font-bold uppercase tracking-widest text-primary-700",children:"Verify Password"}),r.jsx("input",{id:"password_confirmation",name:"password_confirmation",type:h?"text":"password",required:!0,value:t.password_confirmation,onChange:y,className:j("password_confirmation"),placeholder:"Repeat password"}),n.password_confirmation&&r.jsx("p",{className:"mt-1 text-[10px] font-bold text-red-600",children:n.password_confirmation[0]})]}),r.jsxs("div",{className:"rounded-xl border border-primary-100 bg-primary-50 px-4 py-3 text-[11px] font-medium leading-relaxed text-primary-600",children:["Note: Registration requests are subject to ",r.jsx("span",{className:"font-bold text-primary-900 underline decoration-accent-400",children:"manual verification"})," by the HR department."]}),r.jsx("button",{type:"submit",disabled:l,className:"group relative flex w-full items-center justify-center overflow-hidden rounded-xl bg-primary-800 px-4 py-4 text-sm font-bold text-white shadow-xl shadow-primary-900/10 transition-all hover:bg-primary-900 hover:shadow-primary-900/20 active:scale-[0.98] disabled:opacity-70",children:r.jsx("span",{className:"relative z-10 flex items-center gap-2",children:l?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Processing..."]}):r.jsxs(r.Fragment,{children:["Submit Registration",r.jsx("svg",{className:"h-4 w-4 transition-transform group-hover:translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})})})]}),r.jsxs("p",{className:"mt-8 text-center text-sm font-medium text-primary-500",children:["Already have access?"," ",r.jsx(Le,{to:"/login",className:"font-bold text-primary-900 underline decoration-accent-400 decoration-2 underline-offset-4 hover:text-accent-700",children:"Sign In"})]})]})]})]})}function b5(){const[t,e]=S.useState(""),[n,i]=S.useState(!1),[l,c]=S.useState(!1),[u,f]=S.useState(""),h=async m=>{m.preventDefault(),i(!0),f("");try{await te.post("/forgot-password",{email:t}),c(!0)}catch(y){y.response?.status===422?f(y.response.data.errors?.email?.[0]||"Invalid corporate email."):y.response?.status===404?c(!0):se.error(y.response?.data?.message||"Security system error. Try again.")}finally{i(!1)}};return r.jsx("div",{className:"flex min-h-screen flex-col items-center justify-center bg-slate-50 px-6 py-12",children:r.jsxs("div",{className:"w-full max-w-[440px]",children:[r.jsx("div",{className:"mb-10 flex flex-col items-center",children:r.jsxs(Le,{to:"/login",className:"group flex flex-col items-center gap-4 transition-transform active:scale-95",children:[r.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-3xl bg-primary-800 shadow-xl shadow-primary-900/20 group-hover:bg-primary-900 transition-colors",children:r.jsxs("svg",{width:"36",height:"36",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("ellipse",{cx:"20",cy:"22",rx:"18",ry:"14",stroke:"#bef264",strokeWidth:"2.5"}),r.jsx("path",{d:"M12 24C12 20 9 17 9 17C9 17 6 20 6 24C6 28 9 29 9 29C9 29 12 28 12 24Z",fill:"#bef264"}),r.jsx("path",{d:"M23 21C23 16 20 13 20 13C20 13 17 16 17 21C17 26 20 29 20 29C20 29 23 26 23 21Z",fill:"#bef264"}),r.jsx("path",{d:"M34 24C34 20 31 17 31 17C31 17 28 20 28 24C28 28 31 29 31 29C31 29 34 28 34 24Z",fill:"#bef264"})]})}),r.jsxs("div",{className:"text-center",children:[r.jsx("span",{className:"block text-2xl font-black tracking-tighter text-primary-900",children:"MGE-PMS"}),r.jsx("span",{className:"block text-[10px] font-black uppercase tracking-[0.3em] text-primary-400",children:"Security Gate"})]})]})}),l?r.jsxs("div",{className:"overflow-hidden rounded-[2.5rem] bg-white p-10 shadow-2xl shadow-primary-900/5 ring-1 ring-primary-100 text-center",children:[r.jsx("div",{className:"mx-auto mb-8 flex h-20 w-20 items-center justify-center rounded-full bg-green-50 ring-8 ring-green-50/50",children:r.jsx("svg",{className:"h-10 w-10 text-green-600",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2.5",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})})}),r.jsx("h2",{className:"text-2xl font-black tracking-tight text-primary-900",children:"Transmission Sent"}),r.jsxs("p",{className:"mt-4 text-base leading-relaxed text-primary-500",children:["If ",r.jsx("span",{className:"font-bold text-primary-800",children:t})," matches our corporate records, a recovery link has been dispatched."]}),r.jsxs("div",{className:"mt-10 flex flex-col gap-3",children:[r.jsxs(Le,{to:"/login",className:"flex items-center justify-center gap-2 rounded-2xl bg-primary-800 px-6 py-4 text-sm font-bold text-white shadow-xl shadow-primary-900/10 transition-all hover:bg-primary-900",children:[r.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M15 19l-7-7 7-7"})}),"Back to Portal Login"]}),r.jsx("button",{type:"button",onClick:()=>{c(!1),e("")},className:"text-xs font-bold uppercase tracking-widest text-primary-400 hover:text-primary-900 transition-colors py-2",children:"Try Alternate Email"})]})]}):r.jsxs("div",{className:"overflow-hidden rounded-[2.5rem] bg-white p-10 shadow-2xl shadow-primary-900/5 ring-1 ring-primary-100",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("div",{className:"mb-6 inline-flex h-12 w-12 items-center justify-center rounded-2xl bg-accent-50 text-accent-600 ring-1 ring-accent-200",children:r.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),r.jsx("h2",{className:"text-3xl font-black tracking-tight text-primary-900",children:"Account Recovery"}),r.jsx("p",{className:"mt-2 text-sm font-medium text-primary-500",children:"Enter your verified corporate email to initiate the reset protocol."})]}),r.jsxs("form",{onSubmit:h,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{htmlFor:"email",className:"text-[10px] font-bold uppercase tracking-widest text-primary-700",children:"System Email"}),r.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:m=>{e(m.target.value),f("")},className:`w-full rounded-2xl border px-5 py-4 text-sm transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-primary-500/10 ${u?"border-red-200 bg-red-50 text-red-900 focus:border-red-500":"border-primary-100 bg-white text-primary-900 placeholder-primary-300 hover:border-primary-300 focus:border-primary-600 shadow-sm"}`,placeholder:"name@mge-eng.com"}),u&&r.jsx("p",{className:"mt-1.5 text-[11px] font-bold text-red-600",children:u})]}),r.jsx("button",{type:"submit",disabled:n,className:"group relative flex w-full items-center justify-center overflow-hidden rounded-2xl bg-primary-800 px-4 py-4 text-sm font-bold text-white shadow-xl shadow-primary-900/10 transition-all hover:bg-primary-900 hover:shadow-primary-900/20 active:scale-[0.98] disabled:opacity-70",children:r.jsx("span",{className:"relative z-10 flex items-center gap-2",children:n?r.jsxs(r.Fragment,{children:[r.jsxs("svg",{className:"h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Verifying..."]}):r.jsxs(r.Fragment,{children:["Request Reset Link",r.jsx("svg",{className:"h-4 w-4 transition-transform group-hover:translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})})})]}),r.jsx("div",{className:"mt-8 flex items-center justify-center gap-2 border-t border-primary-50 pt-6",children:r.jsx(Le,{to:"/login",className:"text-xs font-bold uppercase tracking-widest text-primary-400 hover:text-primary-900 transition-colors",children:"Return to Credentials Entry"})})]}),r.jsx("p",{className:"mt-10 text-center text-[11px] font-medium leading-relaxed text-primary-400 px-8",children:"Contact System Support if you have lost access to your corporate inbox or need further assistance."})]})})}const v5={async getData(){return(await te.get("/dashboard")).data}};function vl(t){return t+.5|0}const Zn=(t,e,n)=>Math.max(Math.min(t,n),e);function Qr(t){return Zn(vl(t*2.55),0,255)}function ta(t){return Zn(vl(t*255),0,255)}function hn(t){return Zn(vl(t/2.55)/100,0,1)}function Dx(t){return Zn(vl(t*100),0,100)}const bs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},sh=[..."0123456789ABCDEF"],j5=t=>sh[t&15],_5=t=>sh[(t&240)>>4]+sh[t&15],qo=t=>(t&240)>>4===(t&15),w5=t=>qo(t.r)&&qo(t.g)&&qo(t.b)&&qo(t.a);function N5(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&bs[t[1]]*17,g:255&bs[t[2]]*17,b:255&bs[t[3]]*17,a:e===5?bs[t[4]]*17:255}:(e===7||e===9)&&(n={r:bs[t[1]]<<4|bs[t[2]],g:bs[t[3]]<<4|bs[t[4]],b:bs[t[5]]<<4|bs[t[6]],a:e===9?bs[t[7]]<<4|bs[t[8]]:255})),n}const S5=(t,e)=>t<255?e(t):"";function C5(t){var e=w5(t)?j5:_5;return t?"#"+e(t.r)+e(t.g)+e(t.b)+S5(t.a,e):void 0}const M5=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function pv(t,e,n){const i=e*Math.min(n,1-n),l=(c,u=(c+t/30)%12)=>n-i*Math.max(Math.min(u-3,9-u,1),-1);return[l(0),l(8),l(4)]}function E5(t,e,n){const i=(l,c=(l+t/60)%6)=>n-n*e*Math.max(Math.min(c,4-c,1),0);return[i(5),i(3),i(1)]}function k5(t,e,n){const i=pv(t,1,.5);let l;for(e+n>1&&(l=1/(e+n),e*=l,n*=l),l=0;l<3;l++)i[l]*=1-e-n,i[l]+=e;return i}function T5(t,e,n,i,l){return t===l?(e-n)/i+(e<n?6:0):e===l?(n-t)/i+2:(t-e)/i+4}function kh(t){const n=t.r/255,i=t.g/255,l=t.b/255,c=Math.max(n,i,l),u=Math.min(n,i,l),f=(c+u)/2;let h,m,y;return c!==u&&(y=c-u,m=f>.5?y/(2-c-u):y/(c+u),h=T5(n,i,l,y,c),h=h*60+.5),[h|0,m||0,f]}function Th(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(ta)}function Ah(t,e,n){return Th(pv,t,e,n)}function A5(t,e,n){return Th(k5,t,e,n)}function D5(t,e,n){return Th(E5,t,e,n)}function gv(t){return(t%360+360)%360}function O5(t){const e=M5.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?Qr(+e[5]):ta(+e[5]));const l=gv(+e[2]),c=+e[3]/100,u=+e[4]/100;return e[1]==="hwb"?i=A5(l,c,u):e[1]==="hsv"?i=D5(l,c,u):i=Ah(l,c,u),{r:i[0],g:i[1],b:i[2],a:n}}function R5(t,e){var n=kh(t);n[0]=gv(n[0]+e),n=Ah(n),t.r=n[0],t.g=n[1],t.b=n[2]}function z5(t){if(!t)return;const e=kh(t),n=e[0],i=Dx(e[1]),l=Dx(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${l}%, ${hn(t.a)})`:`hsl(${n}, ${i}%, ${l}%)`}const Ox={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Rx={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function L5(){const t={},e=Object.keys(Rx),n=Object.keys(Ox);let i,l,c,u,f;for(i=0;i<e.length;i++){for(u=f=e[i],l=0;l<n.length;l++)c=n[l],f=f.replace(c,Ox[c]);c=parseInt(Rx[u],16),t[f]=[c>>16&255,c>>8&255,c&255]}return t}let Vo;function B5(t){Vo||(Vo=L5(),Vo.transparent=[0,0,0,0]);const e=Vo[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const H5=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function U5(t){const e=H5.exec(t);let n=255,i,l,c;if(e){if(e[7]!==i){const u=+e[7];n=e[8]?Qr(u):Zn(u*255,0,255)}return i=+e[1],l=+e[3],c=+e[5],i=255&(e[2]?Qr(i):Zn(i,0,255)),l=255&(e[4]?Qr(l):Zn(l,0,255)),c=255&(e[6]?Qr(c):Zn(c,0,255)),{r:i,g:l,b:c,a:n}}}function P5(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${hn(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Mf=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Di=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function F5(t,e,n){const i=Di(hn(t.r)),l=Di(hn(t.g)),c=Di(hn(t.b));return{r:ta(Mf(i+n*(Di(hn(e.r))-i))),g:ta(Mf(l+n*(Di(hn(e.g))-l))),b:ta(Mf(c+n*(Di(hn(e.b))-c))),a:t.a+n*(e.a-t.a)}}function $o(t,e,n){if(t){let i=kh(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=Ah(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function xv(t,e){return t&&Object.assign(e||{},t)}function zx(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ta(t[3]))):(e=xv(t,{r:0,g:0,b:0,a:1}),e.a=ta(e.a)),e}function q5(t){return t.charAt(0)==="r"?U5(t):O5(t)}class il{constructor(e){if(e instanceof il)return e;const n=typeof e;let i;n==="object"?i=zx(e):n==="string"&&(i=N5(e)||B5(e)||q5(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=xv(this._rgb);return e&&(e.a=hn(e.a)),e}set rgb(e){this._rgb=zx(e)}rgbString(){return this._valid?P5(this._rgb):void 0}hexString(){return this._valid?C5(this._rgb):void 0}hslString(){return this._valid?z5(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,l=e.rgb;let c;const u=n===c?.5:n,f=2*u-1,h=i.a-l.a,m=((f*h===-1?f:(f+h)/(1+f*h))+1)/2;c=1-m,i.r=255&m*i.r+c*l.r+.5,i.g=255&m*i.g+c*l.g+.5,i.b=255&m*i.b+c*l.b+.5,i.a=u*i.a+(1-u)*l.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=F5(this._rgb,e._rgb,n)),this}clone(){return new il(this.rgb)}alpha(e){return this._rgb.a=ta(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=vl(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return $o(this._rgb,2,e),this}darken(e){return $o(this._rgb,2,-e),this}saturate(e){return $o(this._rgb,1,e),this}desaturate(e){return $o(this._rgb,1,-e),this}rotate(e){return R5(this._rgb,e),this}}function on(){}const V5=(()=>{let t=0;return()=>t++})();function ze(t){return t==null}function ft(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Te(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Mt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Rs(t,e){return Mt(t)?t:e}function je(t,e){return typeof t>"u"?e:t}const $5=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,yv=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ge(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Ue(t,e,n,i){let l,c,u;if(ft(t))for(c=t.length,l=0;l<c;l++)e.call(n,t[l],l);else if(Te(t))for(u=Object.keys(t),c=u.length,l=0;l<c;l++)e.call(n,t[u[l]],u[l])}function yc(t,e){let n,i,l,c;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(l=t[n],c=e[n],l.datasetIndex!==c.datasetIndex||l.index!==c.index)return!1;return!0}function bc(t){if(ft(t))return t.map(bc);if(Te(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let l=0;for(;l<i;++l)e[n[l]]=bc(t[n[l]]);return e}return t}function bv(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Y5(t,e,n,i){if(!bv(t))return;const l=e[t],c=n[t];Te(l)&&Te(c)?rl(l,c,i):e[t]=bc(c)}function rl(t,e,n){const i=ft(e)?e:[e],l=i.length;if(!Te(t))return t;n=n||{};const c=n.merger||Y5;let u;for(let f=0;f<l;++f){if(u=i[f],!Te(u))continue;const h=Object.keys(u);for(let m=0,y=h.length;m<y;++m)c(h[m],t,u,n)}return t}function Jr(t,e){return rl(t,e,{merger:X5})}function X5(t,e,n){if(!bv(t))return;const i=e[t],l=n[t];Te(i)&&Te(l)?Jr(i,l):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=bc(l))}const Lx={"":t=>t,x:t=>t.x,y:t=>t.y};function G5(t){const e=t.split("."),n=[];let i="";for(const l of e)i+=l,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function W5(t){const e=G5(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function Fa(t,e){return(Lx[e]||(Lx[e]=W5(e)))(t)}function Dh(t){return t.charAt(0).toUpperCase()+t.slice(1)}const ll=t=>typeof t<"u",sa=t=>typeof t=="function",Bx=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function Q5(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const $e=Math.PI,Ze=2*$e,Z5=Ze+$e,vc=Number.POSITIVE_INFINITY,K5=$e/180,ht=$e/2,ka=$e/4,Hx=$e*2/3,vv=Math.log10,Ps=Math.sign;function el(t,e,n){return Math.abs(t-e)<n}function Ux(t){const e=Math.round(t);t=el(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(vv(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function I5(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((l,c)=>l-c).pop(),e}function J5(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function ol(t){return!J5(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function e4(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function t4(t,e,n){let i,l,c;for(i=0,l=t.length;i<l;i++)c=t[i][n],isNaN(c)||(e.min=Math.min(e.min,c),e.max=Math.max(e.max,c))}function pn(t){return t*($e/180)}function s4(t){return t*(180/$e)}function Px(t){if(!Mt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function jv(t,e){const n=e.x-t.x,i=e.y-t.y,l=Math.sqrt(n*n+i*i);let c=Math.atan2(i,n);return c<-.5*$e&&(c+=Ze),{angle:c,distance:l}}function nh(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function n4(t,e){return(t-e+Z5)%Ze-$e}function as(t){return(t%Ze+Ze)%Ze}function cl(t,e,n,i){const l=as(t),c=as(e),u=as(n),f=as(c-l),h=as(u-l),m=as(l-c),y=as(l-u);return l===c||l===u||i&&c===u||f>h&&m<y}function Ct(t,e,n){return Math.max(e,Math.min(n,t))}function a4(t){return Ct(t,-32768,32767)}function gn(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function Oh(t,e,n){n=n||(u=>t[u]<e);let i=t.length-1,l=0,c;for(;i-l>1;)c=l+i>>1,n(c)?l=c:i=c;return{lo:l,hi:i}}const za=(t,e,n,i)=>Oh(t,n,i?l=>{const c=t[l][e];return c<n||c===n&&t[l+1][e]===n}:l=>t[l][e]<n),i4=(t,e,n)=>Oh(t,n,i=>t[i][e]>=n);function r4(t,e,n){let i=0,l=t.length;for(;i<l&&t[i]<e;)i++;for(;l>i&&t[l-1]>n;)l--;return i>0||l<t.length?t.slice(i,l):t}const _v=["push","pop","shift","splice","unshift"];function l4(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),_v.forEach(n=>{const i="_onData"+Dh(n),l=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...c){const u=l.apply(this,c);return t._chartjs.listeners.forEach(f=>{typeof f[i]=="function"&&f[i](...c)}),u}})})}function Fx(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,l=i.indexOf(e);l!==-1&&i.splice(l,1),!(i.length>0)&&(_v.forEach(c=>{delete t[c]}),delete t._chartjs)}function wv(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Nv=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function Sv(t,e){let n=[],i=!1;return function(...l){n=l,i||(i=!0,Nv.call(window,()=>{i=!1,t.apply(e,n)}))}}function o4(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const Cv=t=>t==="start"?"left":t==="end"?"right":"center",ns=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,c4=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function u4(t,e,n){const i=e.length;let l=0,c=i;if(t._sorted){const{iScale:u,vScale:f,_parsed:h}=t,m=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,y=u.axis,{min:g,max:b,minDefined:w,maxDefined:v}=u.getUserBounds();if(w){if(l=Math.min(za(h,y,g).lo,n?i:za(e,y,u.getPixelForValue(g)).lo),m){const j=h.slice(0,l+1).reverse().findIndex(N=>!ze(N[f.axis]));l-=Math.max(0,j)}l=Ct(l,0,i-1)}if(v){let j=Math.max(za(h,u.axis,b,!0).hi+1,n?0:za(e,y,u.getPixelForValue(b),!0).hi+1);if(m){const N=h.slice(j-1).findIndex(M=>!ze(M[f.axis]));j+=Math.max(0,N)}c=Ct(j,l,i)-l}else c=i-l}return{start:l,count:c}}function d4(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,l={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=l,!0;const c=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,l),c}const Yo=t=>t===0||t===1,qx=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ze/n)),Vx=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ze/n)+1,tl={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*ht)+1,easeOutSine:t=>Math.sin(t*ht),easeInOutSine:t=>-.5*(Math.cos($e*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Yo(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Yo(t)?t:qx(t,.075,.3),easeOutElastic:t=>Yo(t)?t:Vx(t,.075,.3),easeInOutElastic(t){return Yo(t)?t:t<.5?.5*qx(t*2,.1125,.45):.5+.5*Vx(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-tl.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?tl.easeInBounce(t*2)*.5:tl.easeOutBounce(t*2-1)*.5+.5};function Rh(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function $x(t){return Rh(t)?t:new il(t)}function Ef(t){return Rh(t)?t:new il(t).saturate(.5).darken(.1).hexString()}const f4=["x","y","borderWidth","radius","tension"],h4=["color","borderColor","backgroundColor"];function m4(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:h4},numbers:{type:"number",properties:f4}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function p4(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Yx=new Map;function g4(t,e){e=e||{};const n=t+JSON.stringify(e);let i=Yx.get(n);return i||(i=new Intl.NumberFormat(t,e),Yx.set(n,i)),i}function zh(t,e,n){return g4(e,n).format(t)}const x4={values(t){return ft(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let l,c=t;if(n.length>1){const m=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(m<1e-4||m>1e15)&&(l="scientific"),c=y4(t,n)}const u=vv(Math.abs(c)),f=isNaN(u)?1:Math.max(Math.min(-1*Math.floor(u),20),0),h={notation:l,minimumFractionDigits:f,maximumFractionDigits:f};return Object.assign(h,this.options.ticks.format),zh(t,i,h)}};function y4(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Mv={formatters:x4};function b4(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Mv.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const qa=Object.create(null),ah=Object.create(null);function sl(t,e){if(!e)return t;const n=e.split(".");for(let i=0,l=n.length;i<l;++i){const c=n[i];t=t[c]||(t[c]=Object.create(null))}return t}function kf(t,e,n){return typeof e=="string"?rl(sl(t,e),n):rl(sl(t,""),e)}class v4{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,l)=>Ef(l.backgroundColor),this.hoverBorderColor=(i,l)=>Ef(l.borderColor),this.hoverColor=(i,l)=>Ef(l.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return kf(this,e,n)}get(e){return sl(this,e)}describe(e,n){return kf(ah,e,n)}override(e,n){return kf(qa,e,n)}route(e,n,i,l){const c=sl(this,e),u=sl(this,i),f="_"+n;Object.defineProperties(c,{[f]:{value:c[n],writable:!0},[n]:{enumerable:!0,get(){const h=this[f],m=u[l];return Te(h)?Object.assign({},m,h):je(h,m)},set(h){this[f]=h}}})}apply(e){e.forEach(n=>n(this))}}var nt=new v4({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[m4,p4,b4]);function j4(t){return!t||ze(t.size)||ze(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Xx(t,e,n,i,l){let c=e[l];return c||(c=e[l]=t.measureText(l).width,n.push(l)),c>i&&(i=c),i}function Ta(t,e,n){const i=t.currentDevicePixelRatio,l=n!==0?Math.max(n/2,.5):0;return Math.round((e-l)*i)/i+l}function Gx(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function ih(t,e,n,i){Ev(t,e,n,i,null)}function Ev(t,e,n,i,l){let c,u,f,h,m,y,g,b;const w=e.pointStyle,v=e.rotation,j=e.radius;let N=(v||0)*K5;if(w&&typeof w=="object"&&(c=w.toString(),c==="[object HTMLImageElement]"||c==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(N),t.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),t.restore();return}if(!(isNaN(j)||j<=0)){switch(t.beginPath(),w){default:l?t.ellipse(n,i,l/2,j,0,0,Ze):t.arc(n,i,j,0,Ze),t.closePath();break;case"triangle":y=l?l/2:j,t.moveTo(n+Math.sin(N)*y,i-Math.cos(N)*j),N+=Hx,t.lineTo(n+Math.sin(N)*y,i-Math.cos(N)*j),N+=Hx,t.lineTo(n+Math.sin(N)*y,i-Math.cos(N)*j),t.closePath();break;case"rectRounded":m=j*.516,h=j-m,u=Math.cos(N+ka)*h,g=Math.cos(N+ka)*(l?l/2-m:h),f=Math.sin(N+ka)*h,b=Math.sin(N+ka)*(l?l/2-m:h),t.arc(n-g,i-f,m,N-$e,N-ht),t.arc(n+b,i-u,m,N-ht,N),t.arc(n+g,i+f,m,N,N+ht),t.arc(n-b,i+u,m,N+ht,N+$e),t.closePath();break;case"rect":if(!v){h=Math.SQRT1_2*j,y=l?l/2:h,t.rect(n-y,i-h,2*y,2*h);break}N+=ka;case"rectRot":g=Math.cos(N)*(l?l/2:j),u=Math.cos(N)*j,f=Math.sin(N)*j,b=Math.sin(N)*(l?l/2:j),t.moveTo(n-g,i-f),t.lineTo(n+b,i-u),t.lineTo(n+g,i+f),t.lineTo(n-b,i+u),t.closePath();break;case"crossRot":N+=ka;case"cross":g=Math.cos(N)*(l?l/2:j),u=Math.cos(N)*j,f=Math.sin(N)*j,b=Math.sin(N)*(l?l/2:j),t.moveTo(n-g,i-f),t.lineTo(n+g,i+f),t.moveTo(n+b,i-u),t.lineTo(n-b,i+u);break;case"star":g=Math.cos(N)*(l?l/2:j),u=Math.cos(N)*j,f=Math.sin(N)*j,b=Math.sin(N)*(l?l/2:j),t.moveTo(n-g,i-f),t.lineTo(n+g,i+f),t.moveTo(n+b,i-u),t.lineTo(n-b,i+u),N+=ka,g=Math.cos(N)*(l?l/2:j),u=Math.cos(N)*j,f=Math.sin(N)*j,b=Math.sin(N)*(l?l/2:j),t.moveTo(n-g,i-f),t.lineTo(n+g,i+f),t.moveTo(n+b,i-u),t.lineTo(n-b,i+u);break;case"line":u=l?l/2:Math.cos(N)*j,f=Math.sin(N)*j,t.moveTo(n-u,i-f),t.lineTo(n+u,i+f);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(N)*(l?l/2:j),i+Math.sin(N)*j);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function ul(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Fc(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function qc(t){t.restore()}function _4(t,e,n,i,l){if(!e)return t.lineTo(n.x,n.y);if(l==="middle"){const c=(e.x+n.x)/2;t.lineTo(c,e.y),t.lineTo(c,n.y)}else l==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function w4(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function N4(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ze(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function S4(t,e,n,i,l){if(l.strikethrough||l.underline){const c=t.measureText(i),u=e-c.actualBoundingBoxLeft,f=e+c.actualBoundingBoxRight,h=n-c.actualBoundingBoxAscent,m=n+c.actualBoundingBoxDescent,y=l.strikethrough?(h+m)/2:m;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=l.decorationWidth||2,t.moveTo(u,y),t.lineTo(f,y),t.stroke()}}function C4(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function jc(t,e,n,i,l,c={}){const u=ft(e)?e:[e],f=c.strokeWidth>0&&c.strokeColor!=="";let h,m;for(t.save(),t.font=l.string,N4(t,c),h=0;h<u.length;++h)m=u[h],c.backdrop&&C4(t,c.backdrop),f&&(c.strokeColor&&(t.strokeStyle=c.strokeColor),ze(c.strokeWidth)||(t.lineWidth=c.strokeWidth),t.strokeText(m,n,i,c.maxWidth)),t.fillText(m,n,i,c.maxWidth),S4(t,n,i,m,c),i+=Number(l.lineHeight);t.restore()}function _c(t,e){const{x:n,y:i,w:l,h:c,radius:u}=e;t.arc(n+u.topLeft,i+u.topLeft,u.topLeft,1.5*$e,$e,!0),t.lineTo(n,i+c-u.bottomLeft),t.arc(n+u.bottomLeft,i+c-u.bottomLeft,u.bottomLeft,$e,ht,!0),t.lineTo(n+l-u.bottomRight,i+c),t.arc(n+l-u.bottomRight,i+c-u.bottomRight,u.bottomRight,ht,0,!0),t.lineTo(n+l,i+u.topRight),t.arc(n+l-u.topRight,i+u.topRight,u.topRight,0,-ht,!0),t.lineTo(n+u.topLeft,i)}const M4=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,E4=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function k4(t,e){const n=(""+t).match(M4);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const T4=t=>+t||0;function Lh(t,e){const n={},i=Te(e),l=i?Object.keys(e):e,c=Te(t)?i?u=>je(t[u],t[e[u]]):u=>t[u]:()=>t;for(const u of l)n[u]=T4(c(u));return n}function kv(t){return Lh(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ri(t){return Lh(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Es(t){const e=kv(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ft(t,e){t=t||{},e=e||nt.font;let n=je(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=je(t.style,e.style);i&&!(""+i).match(E4)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const l={family:je(t.family,e.family),lineHeight:k4(je(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:je(t.weight,e.weight),string:""};return l.string=j4(l),l}function Xo(t,e,n,i){let l,c,u;for(l=0,c=t.length;l<c;++l)if(u=t[l],u!==void 0&&u!==void 0)return u}function A4(t,e,n){const{min:i,max:l}=t,c=yv(e,(l-i)/2),u=(f,h)=>n&&f===0?0:f+h;return{min:u(i,-Math.abs(c)),max:u(l,c)}}function Xa(t,e){return Object.assign(Object.create(t),e)}function Bh(t,e=[""],n,i,l=()=>t[0]){const c=n||t;typeof i>"u"&&(i=Ov("_fallback",t));const u={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:c,_fallback:i,_getTarget:l,override:f=>Bh([f,...t],e,c,i)};return new Proxy(u,{deleteProperty(f,h){return delete f[h],delete f._keys,delete t[0][h],!0},get(f,h){return Av(f,h,()=>U4(h,e,t,f))},getOwnPropertyDescriptor(f,h){return Reflect.getOwnPropertyDescriptor(f._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(f,h){return Qx(f).includes(h)},ownKeys(f){return Qx(f)},set(f,h,m){const y=f._storage||(f._storage=l());return f[h]=y[h]=m,delete f._keys,!0}})}function Bi(t,e,n,i){const l={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Tv(t,i),setContext:c=>Bi(t,c,n,i),override:c=>Bi(t.override(c),e,n,i)};return new Proxy(l,{deleteProperty(c,u){return delete c[u],delete t[u],!0},get(c,u,f){return Av(c,u,()=>O4(c,u,f))},getOwnPropertyDescriptor(c,u){return c._descriptors.allKeys?Reflect.has(t,u)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,u)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(c,u){return Reflect.has(t,u)},ownKeys(){return Reflect.ownKeys(t)},set(c,u,f){return t[u]=f,delete c[u],!0}})}function Tv(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:l=e.allKeys}=t;return{allKeys:l,scriptable:n,indexable:i,isScriptable:sa(n)?n:()=>n,isIndexable:sa(i)?i:()=>i}}const D4=(t,e)=>t?t+Dh(e):e,Hh=(t,e)=>Te(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Av(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function O4(t,e,n){const{_proxy:i,_context:l,_subProxy:c,_descriptors:u}=t;let f=i[e];return sa(f)&&u.isScriptable(e)&&(f=R4(e,f,t,n)),ft(f)&&f.length&&(f=z4(e,f,t,u.isIndexable)),Hh(e,f)&&(f=Bi(f,l,c&&c[e],u)),f}function R4(t,e,n,i){const{_proxy:l,_context:c,_subProxy:u,_stack:f}=n;if(f.has(t))throw new Error("Recursion detected: "+Array.from(f).join("->")+"->"+t);f.add(t);let h=e(c,u||i);return f.delete(t),Hh(t,h)&&(h=Uh(l._scopes,l,t,h)),h}function z4(t,e,n,i){const{_proxy:l,_context:c,_subProxy:u,_descriptors:f}=n;if(typeof c.index<"u"&&i(t))return e[c.index%e.length];if(Te(e[0])){const h=e,m=l._scopes.filter(y=>y!==h);e=[];for(const y of h){const g=Uh(m,l,t,y);e.push(Bi(g,c,u&&u[t],f))}}return e}function Dv(t,e,n){return sa(t)?t(e,n):t}const L4=(t,e)=>t===!0?e:typeof t=="string"?Fa(e,t):void 0;function B4(t,e,n,i,l){for(const c of e){const u=L4(n,c);if(u){t.add(u);const f=Dv(u._fallback,n,l);if(typeof f<"u"&&f!==n&&f!==i)return f}else if(u===!1&&typeof i<"u"&&n!==i)return null}return!1}function Uh(t,e,n,i){const l=e._rootScopes,c=Dv(e._fallback,n,i),u=[...t,...l],f=new Set;f.add(i);let h=Wx(f,u,n,c||n,i);return h===null||typeof c<"u"&&c!==n&&(h=Wx(f,u,c,h,i),h===null)?!1:Bh(Array.from(f),[""],l,c,()=>H4(e,n,i))}function Wx(t,e,n,i,l){for(;n;)n=B4(t,e,n,i,l);return n}function H4(t,e,n){const i=t._getTarget();e in i||(i[e]={});const l=i[e];return ft(l)&&Te(n)?n:l||{}}function U4(t,e,n,i){let l;for(const c of e)if(l=Ov(D4(c,t),n),typeof l<"u")return Hh(t,l)?Uh(n,i,t,l):l}function Ov(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function Qx(t){let e=t._keys;return e||(e=t._keys=P4(t._scopes)),e}function P4(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(l=>!l.startsWith("_")))e.add(i);return Array.from(e)}const F4=Number.EPSILON||1e-14,Hi=(t,e)=>e<t.length&&!t[e].skip&&t[e],Rv=t=>t==="x"?"y":"x";function q4(t,e,n,i){const l=t.skip?e:t,c=e,u=n.skip?e:n,f=nh(c,l),h=nh(u,c);let m=f/(f+h),y=h/(f+h);m=isNaN(m)?0:m,y=isNaN(y)?0:y;const g=i*m,b=i*y;return{previous:{x:c.x-g*(u.x-l.x),y:c.y-g*(u.y-l.y)},next:{x:c.x+b*(u.x-l.x),y:c.y+b*(u.y-l.y)}}}function V4(t,e,n){const i=t.length;let l,c,u,f,h,m=Hi(t,0);for(let y=0;y<i-1;++y)if(h=m,m=Hi(t,y+1),!(!h||!m)){if(el(e[y],0,F4)){n[y]=n[y+1]=0;continue}l=n[y]/e[y],c=n[y+1]/e[y],f=Math.pow(l,2)+Math.pow(c,2),!(f<=9)&&(u=3/Math.sqrt(f),n[y]=l*u*e[y],n[y+1]=c*u*e[y])}}function $4(t,e,n="x"){const i=Rv(n),l=t.length;let c,u,f,h=Hi(t,0);for(let m=0;m<l;++m){if(u=f,f=h,h=Hi(t,m+1),!f)continue;const y=f[n],g=f[i];u&&(c=(y-u[n])/3,f[`cp1${n}`]=y-c,f[`cp1${i}`]=g-c*e[m]),h&&(c=(h[n]-y)/3,f[`cp2${n}`]=y+c,f[`cp2${i}`]=g+c*e[m])}}function Y4(t,e="x"){const n=Rv(e),i=t.length,l=Array(i).fill(0),c=Array(i);let u,f,h,m=Hi(t,0);for(u=0;u<i;++u)if(f=h,h=m,m=Hi(t,u+1),!!h){if(m){const y=m[e]-h[e];l[u]=y!==0?(m[n]-h[n])/y:0}c[u]=f?m?Ps(l[u-1])!==Ps(l[u])?0:(l[u-1]+l[u])/2:l[u-1]:l[u]}V4(t,l,c),$4(t,c,e)}function Go(t,e,n){return Math.max(Math.min(t,n),e)}function X4(t,e){let n,i,l,c,u,f=ul(t[0],e);for(n=0,i=t.length;n<i;++n)u=c,c=f,f=n<i-1&&ul(t[n+1],e),c&&(l=t[n],u&&(l.cp1x=Go(l.cp1x,e.left,e.right),l.cp1y=Go(l.cp1y,e.top,e.bottom)),f&&(l.cp2x=Go(l.cp2x,e.left,e.right),l.cp2y=Go(l.cp2y,e.top,e.bottom)))}function G4(t,e,n,i,l){let c,u,f,h;if(e.spanGaps&&(t=t.filter(m=>!m.skip)),e.cubicInterpolationMode==="monotone")Y4(t,l);else{let m=i?t[t.length-1]:t[0];for(c=0,u=t.length;c<u;++c)f=t[c],h=q4(m,f,t[Math.min(c+1,u-(i?0:1))%u],e.tension),f.cp1x=h.previous.x,f.cp1y=h.previous.y,f.cp2x=h.next.x,f.cp2y=h.next.y,m=f}e.capBezierPoints&&X4(t,n)}function Ph(){return typeof window<"u"&&typeof document<"u"}function Fh(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function wc(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const Vc=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function W4(t,e){return Vc(t).getPropertyValue(e)}const Q4=["top","right","bottom","left"];function Ua(t,e,n){const i={};n=n?"-"+n:"";for(let l=0;l<4;l++){const c=Q4[l];i[c]=parseFloat(t[e+"-"+c+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Z4=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function K4(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:l,offsetY:c}=i;let u=!1,f,h;if(Z4(l,c,t.target))f=l,h=c;else{const m=e.getBoundingClientRect();f=i.clientX-m.left,h=i.clientY-m.top,u=!0}return{x:f,y:h,box:u}}function Da(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,l=Vc(n),c=l.boxSizing==="border-box",u=Ua(l,"padding"),f=Ua(l,"border","width"),{x:h,y:m,box:y}=K4(t,n),g=u.left+(y&&f.left),b=u.top+(y&&f.top);let{width:w,height:v}=e;return c&&(w-=u.width+f.width,v-=u.height+f.height),{x:Math.round((h-g)/w*n.width/i),y:Math.round((m-b)/v*n.height/i)}}function I4(t,e,n){let i,l;if(e===void 0||n===void 0){const c=t&&Fh(t);if(!c)e=t.clientWidth,n=t.clientHeight;else{const u=c.getBoundingClientRect(),f=Vc(c),h=Ua(f,"border","width"),m=Ua(f,"padding");e=u.width-m.width-h.width,n=u.height-m.height-h.height,i=wc(f.maxWidth,c,"clientWidth"),l=wc(f.maxHeight,c,"clientHeight")}}return{width:e,height:n,maxWidth:i||vc,maxHeight:l||vc}}const Kn=t=>Math.round(t*10)/10;function J4(t,e,n,i){const l=Vc(t),c=Ua(l,"margin"),u=wc(l.maxWidth,t,"clientWidth")||vc,f=wc(l.maxHeight,t,"clientHeight")||vc,h=I4(t,e,n);let{width:m,height:y}=h;if(l.boxSizing==="content-box"){const b=Ua(l,"border","width"),w=Ua(l,"padding");m-=w.width+b.width,y-=w.height+b.height}return m=Math.max(0,m-c.width),y=Math.max(0,i?m/i:y-c.height),m=Kn(Math.min(m,u,h.maxWidth)),y=Kn(Math.min(y,f,h.maxHeight)),m&&!y&&(y=Kn(m/2)),(e!==void 0||n!==void 0)&&i&&h.height&&y>h.height&&(y=h.height,m=Kn(Math.floor(y*i))),{width:m,height:y}}function Zx(t,e,n){const i=e||1,l=Kn(t.height*i),c=Kn(t.width*i);t.height=Kn(t.height),t.width=Kn(t.width);const u=t.canvas;return u.style&&(n||!u.style.height&&!u.style.width)&&(u.style.height=`${t.height}px`,u.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||u.height!==l||u.width!==c?(t.currentDevicePixelRatio=i,u.height=l,u.width=c,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const e3=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Ph()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function Kx(t,e){const n=W4(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Oa(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function t3(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function s3(t,e,n,i){const l={x:t.cp2x,y:t.cp2y},c={x:e.cp1x,y:e.cp1y},u=Oa(t,l,n),f=Oa(l,c,n),h=Oa(c,e,n),m=Oa(u,f,n),y=Oa(f,h,n);return Oa(m,y,n)}const n3=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},a3=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function zi(t,e,n){return t?n3(e,n):a3()}function zv(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function Lv(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Bv(t){return t==="angle"?{between:cl,compare:n4,normalize:as}:{between:gn,compare:(e,n)=>e-n,normalize:e=>e}}function Ix({start:t,end:e,count:n,loop:i,style:l}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:l}}function i3(t,e,n){const{property:i,start:l,end:c}=n,{between:u,normalize:f}=Bv(i),h=e.length;let{start:m,end:y,loop:g}=t,b,w;if(g){for(m+=h,y+=h,b=0,w=h;b<w&&u(f(e[m%h][i]),l,c);++b)m--,y--;m%=h,y%=h}return y<m&&(y+=h),{start:m,end:y,loop:g,style:t.style}}function Hv(t,e,n){if(!n)return[t];const{property:i,start:l,end:c}=n,u=e.length,{compare:f,between:h,normalize:m}=Bv(i),{start:y,end:g,loop:b,style:w}=i3(t,e,n),v=[];let j=!1,N=null,M,E,k;const U=()=>h(l,k,M)&&f(l,k)!==0,B=()=>f(c,M)===0||h(c,k,M),I=()=>j||U(),R=()=>!j||B();for(let q=y,z=y;q<=g;++q)E=e[q%u],!E.skip&&(M=m(E[i]),M!==k&&(j=h(M,l,c),N===null&&I()&&(N=f(M,l)===0?q:z),N!==null&&R()&&(v.push(Ix({start:N,end:q,loop:b,count:u,style:w})),N=null),z=q,k=M));return N!==null&&v.push(Ix({start:N,end:g,loop:b,count:u,style:w})),v}function Uv(t,e){const n=[],i=t.segments;for(let l=0;l<i.length;l++){const c=Hv(i[l],t.points,e);c.length&&n.push(...c)}return n}function r3(t,e,n,i){let l=0,c=e-1;if(n&&!i)for(;l<e&&!t[l].skip;)l++;for(;l<e&&t[l].skip;)l++;for(l%=e,n&&(c+=l);c>l&&t[c%e].skip;)c--;return c%=e,{start:l,end:c}}function l3(t,e,n,i){const l=t.length,c=[];let u=e,f=t[e],h;for(h=e+1;h<=n;++h){const m=t[h%l];m.skip||m.stop?f.skip||(i=!1,c.push({start:e%l,end:(h-1)%l,loop:i}),e=u=m.stop?h:null):(u=h,f.skip&&(e=h)),f=m}return u!==null&&c.push({start:e%l,end:u%l,loop:i}),c}function o3(t,e){const n=t.points,i=t.options.spanGaps,l=n.length;if(!l)return[];const c=!!t._loop,{start:u,end:f}=r3(n,l,c,i);if(i===!0)return Jx(t,[{start:u,end:f,loop:c}],n,e);const h=f<u?f+l:f,m=!!t._fullLoop&&u===0&&f===l-1;return Jx(t,l3(n,u,h,m),n,e)}function Jx(t,e,n,i){return!i||!i.setContext||!n?e:c3(t,e,n,i)}function c3(t,e,n,i){const l=t._chart.getContext(),c=ey(t.options),{_datasetIndex:u,options:{spanGaps:f}}=t,h=n.length,m=[];let y=c,g=e[0].start,b=g;function w(v,j,N,M){const E=f?-1:1;if(v!==j){for(v+=h;n[v%h].skip;)v-=E;for(;n[j%h].skip;)j+=E;v%h!==j%h&&(m.push({start:v%h,end:j%h,loop:N,style:M}),y=M,g=j%h)}}for(const v of e){g=f?g:v.start;let j=n[g%h],N;for(b=g+1;b<=v.end;b++){const M=n[b%h];N=ey(i.setContext(Xa(l,{type:"segment",p0:j,p1:M,p0DataIndex:(b-1)%h,p1DataIndex:b%h,datasetIndex:u}))),u3(N,y)&&w(g,b-1,v.loop,y),j=M,y=N}g<b-1&&w(g,b-1,v.loop,y)}return m}function ey(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function u3(t,e){if(!e)return!1;const n=[],i=function(l,c){return Rh(c)?(n.includes(c)||n.push(c),n.indexOf(c)):c};return JSON.stringify(t,i)!==JSON.stringify(e,i)}function Wo(t,e,n){return t.options.clip?t[n]:e[n]}function d3(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Wo(n,e,"left"),right:Wo(n,e,"right"),top:Wo(i,e,"top"),bottom:Wo(i,e,"bottom")}:e}function Pv(t,e){const n=e._clip;if(n.disabled)return!1;const i=d3(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}class f3{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,l){const c=n.listeners[l],u=n.duration;c.forEach(f=>f({chart:e,initial:n.initial,numSteps:u,currentStep:Math.min(i-n.start,u)}))}_refresh(){this._request||(this._running=!0,this._request=Nv.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,l)=>{if(!i.running||!i.items.length)return;const c=i.items;let u=c.length-1,f=!1,h;for(;u>=0;--u)h=c[u],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(e),f=!0):(c[u]=c[c.length-1],c.pop());f&&(l.draw(),this._notify(l,i,e,"progress")),c.length||(i.running=!1,this._notify(l,i,e,"complete"),i.initial=!1),n+=c.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,l)=>Math.max(i,l._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let l=i.length-1;for(;l>=0;--l)i[l].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var dn=new f3;const ty="transparent",h3={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=$x(t||ty),l=i.valid&&$x(e||ty);return l&&l.valid?l.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class m3{constructor(e,n,i,l){const c=n[i];l=Xo([e.to,l,c,e.from]);const u=Xo([e.from,c,l]);this._active=!0,this._fn=e.fn||h3[e.type||typeof u],this._easing=tl[e.easing]||tl.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=u,this._to=l,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const l=this._target[this._prop],c=i-this._start,u=this._duration-c;this._start=i,this._duration=Math.floor(Math.max(u,e.duration)),this._total+=c,this._loop=!!e.loop,this._to=Xo([e.to,n,l,e.from]),this._from=Xo([e.from,l,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,l=this._prop,c=this._from,u=this._loop,f=this._to;let h;if(this._active=c!==f&&(u||n<i),!this._active){this._target[l]=f,this._notify(!0);return}if(n<0){this._target[l]=c;return}h=n/i%2,h=u&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[l]=this._fn(c,f,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let l=0;l<i.length;l++)i[l][n]()}}class Fv{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Te(e))return;const n=Object.keys(nt.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(l=>{const c=e[l];if(!Te(c))return;const u={};for(const f of n)u[f]=c[f];(ft(c.properties)&&c.properties||[l]).forEach(f=>{(f===l||!i.has(f))&&i.set(f,u)})})}_animateOptions(e,n){const i=n.options,l=g3(e,i);if(!l)return[];const c=this._createAnimations(l,i);return i.$shared&&p3(e.options.$animations,i).then(()=>{e.options=i},()=>{}),c}_createAnimations(e,n){const i=this._properties,l=[],c=e.$animations||(e.$animations={}),u=Object.keys(n),f=Date.now();let h;for(h=u.length-1;h>=0;--h){const m=u[h];if(m.charAt(0)==="$")continue;if(m==="options"){l.push(...this._animateOptions(e,n));continue}const y=n[m];let g=c[m];const b=i.get(m);if(g)if(b&&g.active()){g.update(b,y,f);continue}else g.cancel();if(!b||!b.duration){e[m]=y;continue}c[m]=g=new m3(b,e,m,y),l.push(g)}return l}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return dn.add(this._chart,i),!0}}function p3(t,e){const n=[],i=Object.keys(e);for(let l=0;l<i.length;l++){const c=t[i[l]];c&&c.active()&&n.push(c.wait())}return Promise.all(n)}function g3(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function sy(t,e){const n=t&&t.options||{},i=n.reverse,l=n.min===void 0?e:0,c=n.max===void 0?e:0;return{start:i?c:l,end:i?l:c}}function x3(t,e,n){if(n===!1)return!1;const i=sy(t,n),l=sy(e,n);return{top:l.end,right:i.end,bottom:l.start,left:i.start}}function y3(t){let e,n,i,l;return Te(t)?(e=t.top,n=t.right,i=t.bottom,l=t.left):e=n=i=l=t,{top:e,right:n,bottom:i,left:l,disabled:t===!1}}function qv(t,e){const n=[],i=t._getSortedDatasetMetas(e);let l,c;for(l=0,c=i.length;l<c;++l)n.push(i[l].index);return n}function ny(t,e,n,i={}){const l=t.keys,c=i.mode==="single";let u,f,h,m;if(e===null)return;let y=!1;for(u=0,f=l.length;u<f;++u){if(h=+l[u],h===n){if(y=!0,i.all)continue;break}m=t.values[h],Mt(m)&&(c||e===0||Ps(e)===Ps(m))&&(e+=m)}return!y&&!i.all?0:e}function b3(t,e){const{iScale:n,vScale:i}=e,l=n.axis==="x"?"x":"y",c=i.axis==="x"?"x":"y",u=Object.keys(t),f=new Array(u.length);let h,m,y;for(h=0,m=u.length;h<m;++h)y=u[h],f[h]={[l]:y,[c]:t[y]};return f}function Tf(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function v3(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function j3(t){const{min:e,max:n,minDefined:i,maxDefined:l}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:l?n:Number.POSITIVE_INFINITY}}function _3(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function ay(t,e,n,i){for(const l of e.getMatchingVisibleMetas(i).reverse()){const c=t[l.index];if(n&&c>0||!n&&c<0)return l.index}return null}function iy(t,e){const{chart:n,_cachedMeta:i}=t,l=n._stacks||(n._stacks={}),{iScale:c,vScale:u,index:f}=i,h=c.axis,m=u.axis,y=v3(c,u,i),g=e.length;let b;for(let w=0;w<g;++w){const v=e[w],{[h]:j,[m]:N}=v,M=v._stacks||(v._stacks={});b=M[m]=_3(l,y,j),b[f]=N,b._top=ay(b,u,!0,i.type),b._bottom=ay(b,u,!1,i.type);const E=b._visualValues||(b._visualValues={});E[f]=N}}function Af(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function w3(t,e){return Xa(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function N3(t,e,n){return Xa(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function qr(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const l of e){const c=l._stacks;if(!c||c[i]===void 0||c[i][n]===void 0)return;delete c[i][n],c[i]._visualValues!==void 0&&c[i]._visualValues[n]!==void 0&&delete c[i]._visualValues[n]}}}const Df=t=>t==="reset"||t==="none",ry=(t,e)=>e?t:Object.assign({},t),S3=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:qv(n,!0),values:null};class $c{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Tf(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&qr(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),l=(g,b,w,v)=>g==="x"?b:g==="r"?v:w,c=n.xAxisID=je(i.xAxisID,Af(e,"x")),u=n.yAxisID=je(i.yAxisID,Af(e,"y")),f=n.rAxisID=je(i.rAxisID,Af(e,"r")),h=n.indexAxis,m=n.iAxisID=l(h,c,u,f),y=n.vAxisID=l(h,u,c,f);n.xScale=this.getScaleForId(c),n.yScale=this.getScaleForId(u),n.rScale=this.getScaleForId(f),n.iScale=this.getScaleForId(m),n.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Fx(this._data,this),e._stacked&&qr(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(Te(n)){const l=this._cachedMeta;this._data=b3(n,l)}else if(i!==n){if(i){Fx(i,this);const l=this._cachedMeta;qr(l),l._parsed=[]}n&&Object.isExtensible(n)&&l4(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let l=!1;this._dataCheck();const c=n._stacked;n._stacked=Tf(n.vScale,n),n.stack!==i.stack&&(l=!0,qr(n),n.stack=i.stack),this._resyncElements(e),(l||c!==n._stacked)&&(iy(this,n._parsed),n._stacked=Tf(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:l}=this,{iScale:c,_stacked:u}=i,f=c.axis;let h=e===0&&n===l.length?!0:i._sorted,m=e>0&&i._parsed[e-1],y,g,b;if(this._parsing===!1)i._parsed=l,i._sorted=!0,b=l;else{ft(l[e])?b=this.parseArrayData(i,l,e,n):Te(l[e])?b=this.parseObjectData(i,l,e,n):b=this.parsePrimitiveData(i,l,e,n);const w=()=>g[f]===null||m&&g[f]<m[f];for(y=0;y<n;++y)i._parsed[y+e]=g=b[y],h&&(w()&&(h=!1),m=g);i._sorted=h}u&&iy(this,b)}parsePrimitiveData(e,n,i,l){const{iScale:c,vScale:u}=e,f=c.axis,h=u.axis,m=c.getLabels(),y=c===u,g=new Array(l);let b,w,v;for(b=0,w=l;b<w;++b)v=b+i,g[b]={[f]:y||c.parse(m[v],v),[h]:u.parse(n[v],v)};return g}parseArrayData(e,n,i,l){const{xScale:c,yScale:u}=e,f=new Array(l);let h,m,y,g;for(h=0,m=l;h<m;++h)y=h+i,g=n[y],f[h]={x:c.parse(g[0],y),y:u.parse(g[1],y)};return f}parseObjectData(e,n,i,l){const{xScale:c,yScale:u}=e,{xAxisKey:f="x",yAxisKey:h="y"}=this._parsing,m=new Array(l);let y,g,b,w;for(y=0,g=l;y<g;++y)b=y+i,w=n[b],m[y]={x:c.parse(Fa(w,f),b),y:u.parse(Fa(w,h),b)};return m}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const l=this.chart,c=this._cachedMeta,u=n[e.axis],f={keys:qv(l,!0),values:n._stacks[e.axis]._visualValues};return ny(f,u,c.index,{mode:i})}updateRangeFromParsed(e,n,i,l){const c=i[n.axis];let u=c===null?NaN:c;const f=l&&i._stacks[n.axis];l&&f&&(l.values=f,u=ny(l,c,this._cachedMeta.index)),e.min=Math.min(e.min,u),e.max=Math.max(e.max,u)}getMinMax(e,n){const i=this._cachedMeta,l=i._parsed,c=i._sorted&&e===i.iScale,u=l.length,f=this._getOtherScale(e),h=S3(n,i,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:g}=j3(f);let b,w;function v(){w=l[b];const j=w[f.axis];return!Mt(w[e.axis])||y>j||g<j}for(b=0;b<u&&!(!v()&&(this.updateRangeFromParsed(m,e,w,h),c));++b);if(c){for(b=u-1;b>=0;--b)if(!v()){this.updateRangeFromParsed(m,e,w,h);break}}return m}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let l,c,u;for(l=0,c=n.length;l<c;++l)u=n[l][e.axis],Mt(u)&&i.push(u);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,l=n.vScale,c=this.getParsed(e);return{label:i?""+i.getLabelForValue(c[i.axis]):"",value:l?""+l.getLabelForValue(c[l.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=y3(je(this.options.clip,x3(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,l=i.data||[],c=n.chartArea,u=[],f=this._drawStart||0,h=this._drawCount||l.length-f,m=this.options.drawActiveElementsOnTop;let y;for(i.dataset&&i.dataset.draw(e,c,f,h),y=f;y<f+h;++y){const g=l[y];g.hidden||(g.active&&m?u.push(g):g.draw(e,c))}for(y=0;y<u.length;++y)u[y].draw(e,c)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const l=this.getDataset();let c;if(e>=0&&e<this._cachedMeta.data.length){const u=this._cachedMeta.data[e];c=u.$context||(u.$context=N3(this.getContext(),e,u)),c.parsed=this.getParsed(e),c.raw=l.data[e],c.index=c.dataIndex=e}else c=this.$context||(this.$context=w3(this.chart.getContext(),this.index)),c.dataset=l,c.index=c.datasetIndex=this.index;return c.active=!!n,c.mode=i,c}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const l=n==="active",c=this._cachedDataOpts,u=e+"-"+n,f=c[u],h=this.enableOptionSharing&&ll(i);if(f)return ry(f,h);const m=this.chart.config,y=m.datasetElementScopeKeys(this._type,e),g=l?[`${e}Hover`,"hover",e,""]:[e,""],b=m.getOptionScopes(this.getDataset(),y),w=Object.keys(nt.elements[e]),v=()=>this.getContext(i,l,n),j=m.resolveNamedOptions(b,w,v,g);return j.$shared&&(j.$shared=h,c[u]=Object.freeze(ry(j,h))),j}_resolveAnimations(e,n,i){const l=this.chart,c=this._cachedDataOpts,u=`animation-${n}`,f=c[u];if(f)return f;let h;if(l.options.animation!==!1){const y=this.chart.config,g=y.datasetAnimationScopeKeys(this._type,n),b=y.getOptionScopes(this.getDataset(),g);h=y.createResolver(b,this.getContext(e,i,n))}const m=new Fv(l,h&&h.animations);return h&&h._cacheable&&(c[u]=Object.freeze(m)),m}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Df(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),l=this._sharedOptions,c=this.getSharedOptions(i),u=this.includeOptions(n,c)||c!==l;return this.updateSharedOptions(c,n,i),{sharedOptions:c,includeOptions:u}}updateElement(e,n,i,l){Df(l)?Object.assign(e,i):this._resolveAnimations(n,l).update(e,i)}updateSharedOptions(e,n,i){e&&!Df(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,l){e.active=l;const c=this.getStyle(n,l);this._resolveAnimations(n,i,l).update(e,{options:!l&&this.getSharedOptions(c)||c})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[f,h,m]of this._syncList)this[f](h,m);this._syncList=[];const l=i.length,c=n.length,u=Math.min(c,l);u&&this.parse(0,u),c>l?this._insertElements(l,c-l,e):c<l&&this._removeElements(c,l-c)}_insertElements(e,n,i=!0){const l=this._cachedMeta,c=l.data,u=e+n;let f;const h=m=>{for(m.length+=n,f=m.length-1;f>=u;f--)m[f]=m[f-n]};for(h(c),f=e;f<u;++f)c[f]=new this.dataElementType;this._parsing&&h(l._parsed),this.parse(e,n),i&&this.updateElements(c,e,n,"reset")}updateElements(e,n,i,l){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const l=i._parsed.splice(e,n);i._stacked&&qr(i,l)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,l]=e;this[n](i,l)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function C3(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let l=0,c=n.length;l<c;l++)i=i.concat(n[l].controller.getAllParsedValues(t));t._cache.$bar=wv(i.sort((l,c)=>l-c))}return t._cache.$bar}function M3(t){const e=t.iScale,n=C3(e,t.type);let i=e._length,l,c,u,f;const h=()=>{u===32767||u===-32768||(ll(f)&&(i=Math.min(i,Math.abs(u-f)||i)),f=u)};for(l=0,c=n.length;l<c;++l)u=e.getPixelForValue(n[l]),h();for(f=void 0,l=0,c=e.ticks.length;l<c;++l)u=e.getPixelForTick(l),h();return i}function E3(t,e,n,i){const l=n.barThickness;let c,u;return ze(l)?(c=e.min*n.categoryPercentage,u=n.barPercentage):(c=l*i,u=1),{chunk:c/i,ratio:u,start:e.pixels[t]-c/2}}function k3(t,e,n,i){const l=e.pixels,c=l[t];let u=t>0?l[t-1]:null,f=t<l.length-1?l[t+1]:null;const h=n.categoryPercentage;u===null&&(u=c-(f===null?e.end-e.start:f-c)),f===null&&(f=c+c-u);const m=c-(c-Math.min(u,f))/2*h;return{chunk:Math.abs(f-u)/2*h/i,ratio:n.barPercentage,start:m}}function T3(t,e,n,i){const l=n.parse(t[0],i),c=n.parse(t[1],i),u=Math.min(l,c),f=Math.max(l,c);let h=u,m=f;Math.abs(u)>Math.abs(f)&&(h=f,m=u),e[n.axis]=m,e._custom={barStart:h,barEnd:m,start:l,end:c,min:u,max:f}}function Vv(t,e,n,i){return ft(t)?T3(t,e,n,i):e[n.axis]=n.parse(t,i),e}function ly(t,e,n,i){const l=t.iScale,c=t.vScale,u=l.getLabels(),f=l===c,h=[];let m,y,g,b;for(m=n,y=n+i;m<y;++m)b=e[m],g={},g[l.axis]=f||l.parse(u[m],m),h.push(Vv(b,g,c,m));return h}function Of(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function A3(t,e,n){return t!==0?Ps(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function D3(t){let e,n,i,l,c;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(l="end",c="start"):(l="start",c="end"),{start:n,end:i,reverse:e,top:l,bottom:c}}function O3(t,e,n,i){let l=e.borderSkipped;const c={};if(!l){t.borderSkipped=c;return}if(l===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:u,end:f,reverse:h,top:m,bottom:y}=D3(t);l==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?l=m:(n._bottom||0)===i?l=y:(c[oy(y,u,f,h)]=!0,l=m)),c[oy(l,u,f,h)]=!0,t.borderSkipped=c}function oy(t,e,n,i){return i?(t=R3(t,e,n),t=cy(t,n,e)):t=cy(t,e,n),t}function R3(t,e,n){return t===e?n:t===n?e:t}function cy(t,e,n){return t==="start"?e:t==="end"?n:t}function z3(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class L3 extends $c{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,i,l){return ly(e,n,i,l)}parseArrayData(e,n,i,l){return ly(e,n,i,l)}parseObjectData(e,n,i,l){const{iScale:c,vScale:u}=e,{xAxisKey:f="x",yAxisKey:h="y"}=this._parsing,m=c.axis==="x"?f:h,y=u.axis==="x"?f:h,g=[];let b,w,v,j;for(b=i,w=i+l;b<w;++b)j=n[b],v={},v[c.axis]=c.parse(Fa(j,m),b),g.push(Vv(Fa(j,y),v,u,b));return g}updateRangeFromParsed(e,n,i,l){super.updateRangeFromParsed(e,n,i,l);const c=i._custom;c&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,c.min),e.max=Math.max(e.max,c.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:l}=n,c=this.getParsed(e),u=c._custom,f=Of(u)?"["+u.start+", "+u.end+"]":""+l.getLabelForValue(c[l.axis]);return{label:""+i.getLabelForValue(c[i.axis]),value:f}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,l){const c=l==="reset",{index:u,_cachedMeta:{vScale:f}}=this,h=f.getBasePixel(),m=f.isHorizontal(),y=this._getRuler(),{sharedOptions:g,includeOptions:b}=this._getSharedOptions(n,l);for(let w=n;w<n+i;w++){const v=this.getParsed(w),j=c||ze(v[f.axis])?{base:h,head:h}:this._calculateBarValuePixels(w),N=this._calculateBarIndexPixels(w,y),M=(v._stacks||{})[f.axis],E={horizontal:m,base:j.base,enableBorderRadius:!M||Of(v._custom)||u===M._top||u===M._bottom,x:m?j.head:N.center,y:m?N.center:j.head,height:m?N.size:Math.abs(j.size),width:m?Math.abs(j.size):N.size};b&&(E.options=g||this.resolveDataElementOptions(w,e[w].active?"active":l));const k=E.options||e[w].options;O3(E,k,M,u),z3(E,k,y.ratio),this.updateElement(e[w],w,E,l)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,l=i.getMatchingVisibleMetas(this._type).filter(y=>y.controller.options.grouped),c=i.options.stacked,u=[],f=this._cachedMeta.controller.getParsed(n),h=f&&f[i.axis],m=y=>{const g=y._parsed.find(w=>w[i.axis]===h),b=g&&g[y.vScale.axis];if(ze(b)||isNaN(b))return!0};for(const y of l)if(!(n!==void 0&&m(y))&&((c===!1||u.indexOf(y.stack)===-1||c===void 0&&y.stack===void 0)&&u.push(y.stack),y.index===e))break;return u.length||u.push(void 0),u}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[je(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,i){const l=this._getStacks(e,i),c=n!==void 0?l.indexOf(n):-1;return c===-1?l.length-1:c}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,l=[];let c,u;for(c=0,u=n.data.length;c<u;++c)l.push(i.getPixelForValue(this.getParsed(c)[i.axis],c));const f=e.barThickness;return{min:f||M3(n),pixels:l,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:f?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:l},options:{base:c,minBarLength:u}}=this,f=c||0,h=this.getParsed(e),m=h._custom,y=Of(m);let g=h[n.axis],b=0,w=i?this.applyStack(n,h,i):g,v,j;w!==g&&(b=w-g,w=g),y&&(g=m.barStart,w=m.barEnd-m.barStart,g!==0&&Ps(g)!==Ps(m.barEnd)&&(b=0),b+=g);const N=!ze(c)&&!y?c:b;let M=n.getPixelForValue(N);if(this.chart.getDataVisibility(e)?v=n.getPixelForValue(b+w):v=M,j=v-M,Math.abs(j)<u){j=A3(j,n,f)*u,g===f&&(M-=j/2);const E=n.getPixelForDecimal(0),k=n.getPixelForDecimal(1),U=Math.min(E,k),B=Math.max(E,k);M=Math.max(Math.min(M,B),U),v=M+j,i&&!y&&(h._stacks[n.axis]._visualValues[l]=n.getValueForPixel(v)-n.getValueForPixel(M))}if(M===n.getPixelForValue(f)){const E=Ps(j)*n.getLineWidthForValue(f)/2;M+=E,j-=E}return{size:j,base:M,head:v,center:v+j/2}}_calculateBarIndexPixels(e,n){const i=n.scale,l=this.options,c=l.skipNull,u=je(l.maxBarThickness,1/0);let f,h;const m=this._getAxisCount();if(n.grouped){const y=c?this._getStackCount(e):n.stackCount,g=l.barThickness==="flex"?k3(e,n,l,y*m):E3(e,n,l,y*m),b=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,w=this._getAxis().indexOf(je(b,this.getFirstScaleIdForIndexAxis())),v=this._getStackIndex(this.index,this._cachedMeta.stack,c?e:void 0)+w;f=g.start+g.chunk*v+g.chunk/2,h=Math.min(u,g.chunk*g.ratio)}else f=i.getPixelForValue(this.getParsed(e)[i.axis],e),h=Math.min(u,n.min*n.ratio);return{base:f-h/2,head:f+h/2,center:f,size:h}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,l=i.length;let c=0;for(;c<l;++c)this.getParsed(c)[n.axis]!==null&&!i[c].hidden&&i[c].draw(this._ctx)}}function B3(t,e,n){let i=1,l=1,c=0,u=0;if(e<Ze){const f=t,h=f+e,m=Math.cos(f),y=Math.sin(f),g=Math.cos(h),b=Math.sin(h),w=(k,U,B)=>cl(k,f,h,!0)?1:Math.max(U,U*n,B,B*n),v=(k,U,B)=>cl(k,f,h,!0)?-1:Math.min(U,U*n,B,B*n),j=w(0,m,g),N=w(ht,y,b),M=v($e,m,g),E=v($e+ht,y,b);i=(j-M)/2,l=(N-E)/2,c=-(j+M)/2,u=-(N+E)/2}return{ratioX:i,ratioY:l,offsetX:c,offsetY:u}}class H3 extends $c{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:i,textAlign:l,color:c,useBorderRadius:u,borderRadius:f}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((h,m)=>{const g=e.getDatasetMeta(0).controller.getStyle(m);return{text:h,fillStyle:g.backgroundColor,fontColor:c,hidden:!e.getDataVisibility(m),lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:g.borderWidth,strokeStyle:g.borderColor,textAlign:l,pointStyle:i,borderRadius:u&&(f||g.borderRadius),index:m}}):[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,l=this._cachedMeta;if(this._parsing===!1)l._parsed=i;else{let c=h=>+i[h];if(Te(i[e])){const{key:h="value"}=this._parsing;c=m=>+Fa(i[m],h)}let u,f;for(u=e,f=e+n;u<f;++u)l._parsed[u]=c(u)}}_getRotation(){return pn(this.options.rotation-90)}_getCircumference(){return pn(this.options.circumference)}_getRotationExtents(){let e=Ze,n=-Ze;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const l=this.chart.getDatasetMeta(i).controller,c=l._getRotation(),u=l._getCircumference();e=Math.min(e,c),n=Math.max(n,c+u)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,l=this._cachedMeta,c=l.data,u=this.getMaxBorderWidth()+this.getMaxOffset(c)+this.options.spacing,f=Math.max((Math.min(i.width,i.height)-u)/2,0),h=Math.min($5(this.options.cutout,f),1),m=this._getRingWeight(this.index),{circumference:y,rotation:g}=this._getRotationExtents(),{ratioX:b,ratioY:w,offsetX:v,offsetY:j}=B3(g,y,h),N=(i.width-u)/b,M=(i.height-u)/w,E=Math.max(Math.min(N,M)/2,0),k=yv(this.options.radius,E),U=Math.max(k*h,0),B=(k-U)/this._getVisibleDatasetWeightTotal();this.offsetX=v*k,this.offsetY=j*k,l.total=this.calculateTotal(),this.outerRadius=k-B*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-B*m,0),this.updateElements(c,0,c.length,e)}_circumference(e,n){const i=this.options,l=this._cachedMeta,c=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||l._parsed[e]===null||l.data[e].hidden?0:this.calculateCircumference(l._parsed[e]*c/Ze)}updateElements(e,n,i,l){const c=l==="reset",u=this.chart,f=u.chartArea,m=u.options.animation,y=(f.left+f.right)/2,g=(f.top+f.bottom)/2,b=c&&m.animateScale,w=b?0:this.innerRadius,v=b?0:this.outerRadius,{sharedOptions:j,includeOptions:N}=this._getSharedOptions(n,l);let M=this._getRotation(),E;for(E=0;E<n;++E)M+=this._circumference(E,c);for(E=n;E<n+i;++E){const k=this._circumference(E,c),U=e[E],B={x:y+this.offsetX,y:g+this.offsetY,startAngle:M,endAngle:M+k,circumference:k,outerRadius:v,innerRadius:w};N&&(B.options=j||this.resolveDataElementOptions(E,U.active?"active":l)),M+=k,this.updateElement(U,E,B,l)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,l;for(l=0;l<n.length;l++){const c=e._parsed[l];c!==null&&!isNaN(c)&&this.chart.getDataVisibility(l)&&!n[l].hidden&&(i+=Math.abs(c))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Ze*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,l=i.data.labels||[],c=zh(n._parsed[e],i.options.locale);return{label:l[e]||"",value:c}}getMaxBorderWidth(e){let n=0;const i=this.chart;let l,c,u,f,h;if(!e){for(l=0,c=i.data.datasets.length;l<c;++l)if(i.isDatasetVisible(l)){u=i.getDatasetMeta(l),e=u.data,f=u.controller;break}}if(!e)return 0;for(l=0,c=e.length;l<c;++l)h=f.resolveDataElementOptions(l),h.borderAlign!=="inner"&&(n=Math.max(n,h.borderWidth||0,h.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,l=e.length;i<l;++i){const c=this.resolveDataElementOptions(i);n=Math.max(n,c.offset||0,c.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(je(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class U3 extends $c{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:l=[],_dataset:c}=n,u=this.chart._animationsDisabled;let{start:f,count:h}=u4(n,l,u);this._drawStart=f,this._drawCount=h,d4(n)&&(f=0,h=l.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!c._decimated,i.points=l;const m=this.resolveDatasetElementOptions(e);this.options.showLine||(m.borderWidth=0),m.segment=this.options.segment,this.updateElement(i,void 0,{animated:!u,options:m},e),this.updateElements(l,f,h,e)}updateElements(e,n,i,l){const c=l==="reset",{iScale:u,vScale:f,_stacked:h,_dataset:m}=this._cachedMeta,{sharedOptions:y,includeOptions:g}=this._getSharedOptions(n,l),b=u.axis,w=f.axis,{spanGaps:v,segment:j}=this.options,N=ol(v)?v:Number.POSITIVE_INFINITY,M=this.chart._animationsDisabled||c||l==="none",E=n+i,k=e.length;let U=n>0&&this.getParsed(n-1);for(let B=0;B<k;++B){const I=e[B],R=M?I:{};if(B<n||B>=E){R.skip=!0;continue}const q=this.getParsed(B),z=ze(q[w]),P=R[b]=u.getPixelForValue(q[b],B),K=R[w]=c||z?f.getBasePixel():f.getPixelForValue(h?this.applyStack(f,q,h):q[w],B);R.skip=isNaN(P)||isNaN(K)||z,R.stop=B>0&&Math.abs(q[b]-U[b])>N,j&&(R.parsed=q,R.raw=m.data[B]),g&&(R.options=y||this.resolveDataElementOptions(B,I.active?"active":l)),M||this.updateElement(I,B,R,l),U=q}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,l=e.data||[];if(!l.length)return i;const c=l[0].size(this.resolveDataElementOptions(0)),u=l[l.length-1].size(this.resolveDataElementOptions(l.length-1));return Math.max(i,c,u)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function Aa(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class qh{static override(e){Object.assign(qh.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Aa()}parse(){return Aa()}format(){return Aa()}add(){return Aa()}diff(){return Aa()}startOf(){return Aa()}endOf(){return Aa()}}var P3={_date:qh};function F3(t,e,n,i){const{controller:l,data:c,_sorted:u}=t,f=l._cachedMeta.iScale,h=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(f&&e===f.axis&&e!=="r"&&u&&c.length){const m=f._reversePixels?i4:za;if(i){if(l._sharedOptions){const y=c[0],g=typeof y.getRange=="function"&&y.getRange(e);if(g){const b=m(c,e,n-g),w=m(c,e,n+g);return{lo:b.lo,hi:w.hi}}}}else{const y=m(c,e,n);if(h){const{vScale:g}=l._cachedMeta,{_parsed:b}=t,w=b.slice(0,y.lo+1).reverse().findIndex(j=>!ze(j[g.axis]));y.lo-=Math.max(0,w);const v=b.slice(y.hi).findIndex(j=>!ze(j[g.axis]));y.hi+=Math.max(0,v)}return y}}return{lo:0,hi:c.length-1}}function Yc(t,e,n,i,l){const c=t.getSortedVisibleDatasetMetas(),u=n[e];for(let f=0,h=c.length;f<h;++f){const{index:m,data:y}=c[f],{lo:g,hi:b}=F3(c[f],e,u,l);for(let w=g;w<=b;++w){const v=y[w];v.skip||i(v,m,w)}}}function q3(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,l){const c=e?Math.abs(i.x-l.x):0,u=n?Math.abs(i.y-l.y):0;return Math.sqrt(Math.pow(c,2)+Math.pow(u,2))}}function Rf(t,e,n,i,l){const c=[];return!l&&!t.isPointInArea(e)||Yc(t,n,e,function(f,h,m){!l&&!ul(f,t.chartArea,0)||f.inRange(e.x,e.y,i)&&c.push({element:f,datasetIndex:h,index:m})},!0),c}function V3(t,e,n,i){let l=[];function c(u,f,h){const{startAngle:m,endAngle:y}=u.getProps(["startAngle","endAngle"],i),{angle:g}=jv(u,{x:e.x,y:e.y});cl(g,m,y)&&l.push({element:u,datasetIndex:f,index:h})}return Yc(t,n,e,c),l}function $3(t,e,n,i,l,c){let u=[];const f=q3(n);let h=Number.POSITIVE_INFINITY;function m(y,g,b){const w=y.inRange(e.x,e.y,l);if(i&&!w)return;const v=y.getCenterPoint(l);if(!(!!c||t.isPointInArea(v))&&!w)return;const N=f(e,v);N<h?(u=[{element:y,datasetIndex:g,index:b}],h=N):N===h&&u.push({element:y,datasetIndex:g,index:b})}return Yc(t,n,e,m),u}function zf(t,e,n,i,l,c){return!c&&!t.isPointInArea(e)?[]:n==="r"&&!i?V3(t,e,n,l):$3(t,e,n,i,l,c)}function uy(t,e,n,i,l){const c=[],u=n==="x"?"inXRange":"inYRange";let f=!1;return Yc(t,n,e,(h,m,y)=>{h[u]&&h[u](e[n],l)&&(c.push({element:h,datasetIndex:m,index:y}),f=f||h.inRange(e.x,e.y,l))}),i&&!f?[]:c}var Y3={modes:{index(t,e,n,i){const l=Da(e,t),c=n.axis||"x",u=n.includeInvisible||!1,f=n.intersect?Rf(t,l,c,i,u):zf(t,l,c,!1,i,u),h=[];return f.length?(t.getSortedVisibleDatasetMetas().forEach(m=>{const y=f[0].index,g=m.data[y];g&&!g.skip&&h.push({element:g,datasetIndex:m.index,index:y})}),h):[]},dataset(t,e,n,i){const l=Da(e,t),c=n.axis||"xy",u=n.includeInvisible||!1;let f=n.intersect?Rf(t,l,c,i,u):zf(t,l,c,!1,i,u);if(f.length>0){const h=f[0].datasetIndex,m=t.getDatasetMeta(h).data;f=[];for(let y=0;y<m.length;++y)f.push({element:m[y],datasetIndex:h,index:y})}return f},point(t,e,n,i){const l=Da(e,t),c=n.axis||"xy",u=n.includeInvisible||!1;return Rf(t,l,c,i,u)},nearest(t,e,n,i){const l=Da(e,t),c=n.axis||"xy",u=n.includeInvisible||!1;return zf(t,l,c,n.intersect,i,u)},x(t,e,n,i){const l=Da(e,t);return uy(t,l,"x",n.intersect,i)},y(t,e,n,i){const l=Da(e,t);return uy(t,l,"y",n.intersect,i)}}};const $v=["left","top","right","bottom"];function Vr(t,e){return t.filter(n=>n.pos===e)}function dy(t,e){return t.filter(n=>$v.indexOf(n.pos)===-1&&n.box.axis===e)}function $r(t,e){return t.sort((n,i)=>{const l=e?i:n,c=e?n:i;return l.weight===c.weight?l.index-c.index:l.weight-c.weight})}function X3(t){const e=[];let n,i,l,c,u,f;for(n=0,i=(t||[]).length;n<i;++n)l=t[n],{position:c,options:{stack:u,stackWeight:f=1}}=l,e.push({index:n,box:l,pos:c,horizontal:l.isHorizontal(),weight:l.weight,stack:u&&c+u,stackWeight:f});return e}function G3(t){const e={};for(const n of t){const{stack:i,pos:l,stackWeight:c}=n;if(!i||!$v.includes(l))continue;const u=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});u.count++,u.weight+=c}return e}function W3(t,e){const n=G3(t),{vBoxMaxWidth:i,hBoxMaxHeight:l}=e;let c,u,f;for(c=0,u=t.length;c<u;++c){f=t[c];const{fullSize:h}=f.box,m=n[f.stack],y=m&&f.stackWeight/m.weight;f.horizontal?(f.width=y?y*i:h&&e.availableWidth,f.height=l):(f.width=i,f.height=y?y*l:h&&e.availableHeight)}return n}function Q3(t){const e=X3(t),n=$r(e.filter(m=>m.box.fullSize),!0),i=$r(Vr(e,"left"),!0),l=$r(Vr(e,"right")),c=$r(Vr(e,"top"),!0),u=$r(Vr(e,"bottom")),f=dy(e,"x"),h=dy(e,"y");return{fullSize:n,leftAndTop:i.concat(c),rightAndBottom:l.concat(h).concat(u).concat(f),chartArea:Vr(e,"chartArea"),vertical:i.concat(l).concat(h),horizontal:c.concat(u).concat(f)}}function fy(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function Yv(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Z3(t,e,n,i){const{pos:l,box:c}=n,u=t.maxPadding;if(!Te(l)){n.size&&(t[l]-=n.size);const g=i[n.stack]||{size:0,count:1};g.size=Math.max(g.size,n.horizontal?c.height:c.width),n.size=g.size/g.count,t[l]+=n.size}c.getPadding&&Yv(u,c.getPadding());const f=Math.max(0,e.outerWidth-fy(u,t,"left","right")),h=Math.max(0,e.outerHeight-fy(u,t,"top","bottom")),m=f!==t.w,y=h!==t.h;return t.w=f,t.h=h,n.horizontal?{same:m,other:y}:{same:y,other:m}}function K3(t){const e=t.maxPadding;function n(i){const l=Math.max(e[i]-t[i],0);return t[i]+=l,l}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function I3(t,e){const n=e.maxPadding;function i(l){const c={left:0,top:0,right:0,bottom:0};return l.forEach(u=>{c[u]=Math.max(e[u],n[u])}),c}return i(t?["left","right"]:["top","bottom"])}function Zr(t,e,n,i){const l=[];let c,u,f,h,m,y;for(c=0,u=t.length,m=0;c<u;++c){f=t[c],h=f.box,h.update(f.width||e.w,f.height||e.h,I3(f.horizontal,e));const{same:g,other:b}=Z3(e,n,f,i);m|=g&&l.length,y=y||b,h.fullSize||l.push(f)}return m&&Zr(l,e,n,i)||y}function Qo(t,e,n,i,l){t.top=n,t.left=e,t.right=e+i,t.bottom=n+l,t.width=i,t.height=l}function hy(t,e,n,i){const l=n.padding;let{x:c,y:u}=e;for(const f of t){const h=f.box,m=i[f.stack]||{placed:0,weight:1},y=f.stackWeight/m.weight||1;if(f.horizontal){const g=e.w*y,b=m.size||h.height;ll(m.start)&&(u=m.start),h.fullSize?Qo(h,l.left,u,n.outerWidth-l.right-l.left,b):Qo(h,e.left+m.placed,u,g,b),m.start=u,m.placed+=g,u=h.bottom}else{const g=e.h*y,b=m.size||h.width;ll(m.start)&&(c=m.start),h.fullSize?Qo(h,c,l.top,b,n.outerHeight-l.bottom-l.top):Qo(h,c,e.top+m.placed,b,g),m.start=c,m.placed+=g,c=h.right}}e.x=c,e.y=u}var In={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const l=Es(t.options.layout.padding),c=Math.max(e-l.width,0),u=Math.max(n-l.height,0),f=Q3(t.boxes),h=f.vertical,m=f.horizontal;Ue(t.boxes,j=>{typeof j.beforeLayout=="function"&&j.beforeLayout()});const y=h.reduce((j,N)=>N.box.options&&N.box.options.display===!1?j:j+1,0)||1,g=Object.freeze({outerWidth:e,outerHeight:n,padding:l,availableWidth:c,availableHeight:u,vBoxMaxWidth:c/2/y,hBoxMaxHeight:u/2}),b=Object.assign({},l);Yv(b,Es(i));const w=Object.assign({maxPadding:b,w:c,h:u,x:l.left,y:l.top},l),v=W3(h.concat(m),g);Zr(f.fullSize,w,g,v),Zr(h,w,g,v),Zr(m,w,g,v)&&Zr(h,w,g,v),K3(w),hy(f.leftAndTop,w,g,v),w.x+=w.w,w.y+=w.h,hy(f.rightAndBottom,w,g,v),t.chartArea={left:w.left,top:w.top,right:w.left+w.w,bottom:w.top+w.h,height:w.h,width:w.w},Ue(f.chartArea,j=>{const N=j.box;Object.assign(N,t.chartArea),N.update(w.w,w.h,{left:0,top:0,right:0,bottom:0})})}};class Xv{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,l){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,l?Math.floor(n/l):i)}}isAttached(e){return!0}updateConfig(e){}}class J3 extends Xv{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const uc="$chartjs",eC={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},my=t=>t===null||t==="";function tC(t,e){const n=t.style,i=t.getAttribute("height"),l=t.getAttribute("width");if(t[uc]={initial:{height:i,width:l,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",my(l)){const c=Kx(t,"width");c!==void 0&&(t.width=c)}if(my(i))if(t.style.height==="")t.height=t.width/(e||2);else{const c=Kx(t,"height");c!==void 0&&(t.height=c)}return t}const Gv=e3?{passive:!0}:!1;function sC(t,e,n){t&&t.addEventListener(e,n,Gv)}function nC(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Gv)}function aC(t,e){const n=eC[t.type]||t.type,{x:i,y:l}=Da(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:l!==void 0?l:null}}function Nc(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function iC(t,e,n){const i=t.canvas,l=new MutationObserver(c=>{let u=!1;for(const f of c)u=u||Nc(f.addedNodes,i),u=u&&!Nc(f.removedNodes,i);u&&n()});return l.observe(document,{childList:!0,subtree:!0}),l}function rC(t,e,n){const i=t.canvas,l=new MutationObserver(c=>{let u=!1;for(const f of c)u=u||Nc(f.removedNodes,i),u=u&&!Nc(f.addedNodes,i);u&&n()});return l.observe(document,{childList:!0,subtree:!0}),l}const dl=new Map;let py=0;function Wv(){const t=window.devicePixelRatio;t!==py&&(py=t,dl.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function lC(t,e){dl.size||window.addEventListener("resize",Wv),dl.set(t,e)}function oC(t){dl.delete(t),dl.size||window.removeEventListener("resize",Wv)}function cC(t,e,n){const i=t.canvas,l=i&&Fh(i);if(!l)return;const c=Sv((f,h)=>{const m=l.clientWidth;n(f,h),m<l.clientWidth&&n()},window),u=new ResizeObserver(f=>{const h=f[0],m=h.contentRect.width,y=h.contentRect.height;m===0&&y===0||c(m,y)});return u.observe(l),lC(t,c),u}function Lf(t,e,n){n&&n.disconnect(),e==="resize"&&oC(t)}function uC(t,e,n){const i=t.canvas,l=Sv(c=>{t.ctx!==null&&n(aC(c,t))},t);return sC(i,e,l),l}class dC extends Xv{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(tC(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[uc])return!1;const i=n[uc].initial;["height","width"].forEach(c=>{const u=i[c];ze(u)?n.removeAttribute(c):n.setAttribute(c,u)});const l=i.style||{};return Object.keys(l).forEach(c=>{n.style[c]=l[c]}),n.width=n.width,delete n[uc],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const l=e.$proxies||(e.$proxies={}),u={attach:iC,detach:rC,resize:cC}[n]||uC;l[n]=u(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),l=i[n];if(!l)return;({attach:Lf,detach:Lf,resize:Lf}[n]||nC)(e,n,l),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,l){return J4(e,n,i,l)}isAttached(e){const n=e&&Fh(e);return!!(n&&n.isConnected)}}function fC(t){return!Ph()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?J3:dC}class la{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return ol(this.x)&&ol(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const l={};return e.forEach(c=>{l[c]=i[c]&&i[c].active()?i[c]._to:this[c]}),l}}function hC(t,e){const n=t.options.ticks,i=mC(t),l=Math.min(n.maxTicksLimit||i,i),c=n.major.enabled?gC(e):[],u=c.length,f=c[0],h=c[u-1],m=[];if(u>l)return xC(e,m,c,u/l),m;const y=pC(c,e,l);if(u>0){let g,b;const w=u>1?Math.round((h-f)/(u-1)):null;for(Zo(e,m,y,ze(w)?0:f-w,f),g=0,b=u-1;g<b;g++)Zo(e,m,y,c[g],c[g+1]);return Zo(e,m,y,h,ze(w)?e.length:h+w),m}return Zo(e,m,y),m}function mC(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),l=t._maxLength/n;return Math.floor(Math.min(i,l))}function pC(t,e,n){const i=yC(t),l=e.length/n;if(!i)return Math.max(l,1);const c=I5(i);for(let u=0,f=c.length-1;u<f;u++){const h=c[u];if(h>l)return h}return Math.max(l,1)}function gC(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function xC(t,e,n,i){let l=0,c=n[0],u;for(i=Math.ceil(i),u=0;u<t.length;u++)u===c&&(e.push(t[u]),l++,c=n[l*i])}function Zo(t,e,n,i,l){const c=je(i,0),u=Math.min(je(l,t.length),t.length);let f=0,h,m,y;for(n=Math.ceil(n),l&&(h=l-i,n=h/Math.floor(h/n)),y=c;y<0;)f++,y=Math.round(c+f*n);for(m=Math.max(c,0);m<u;m++)m===y&&(e.push(t[m]),f++,y=Math.round(c+f*n))}function yC(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const bC=t=>t==="left"?"right":t==="right"?"left":t,gy=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,xy=(t,e)=>Math.min(e||t,t);function yy(t,e){const n=[],i=t.length/e,l=t.length;let c=0;for(;c<l;c+=i)n.push(t[Math.floor(c)]);return n}function vC(t,e,n){const i=t.ticks.length,l=Math.min(e,i-1),c=t._startPixel,u=t._endPixel,f=1e-6;let h=t.getPixelForTick(l),m;if(!(n&&(i===1?m=Math.max(h-c,u-h):e===0?m=(t.getPixelForTick(1)-h)/2:m=(h-t.getPixelForTick(l-1))/2,h+=l<e?m:-m,h<c-f||h>u+f)))return h}function jC(t,e){Ue(t,n=>{const i=n.gc,l=i.length/2;let c;if(l>e){for(c=0;c<l;++c)delete n.data[i[c]];i.splice(0,l)}})}function Yr(t){return t.drawTicks?t.tickLength:0}function by(t,e){if(!t.display)return 0;const n=Ft(t.font,e),i=Es(t.padding);return(ft(t.text)?t.text.length:1)*n.lineHeight+i.height}function _C(t,e){return Xa(t,{scale:e,type:"scale"})}function wC(t,e,n){return Xa(t,{tick:n,index:e,type:"tick"})}function NC(t,e,n){let i=Cv(t);return(n&&e!=="right"||!n&&e==="right")&&(i=bC(i)),i}function SC(t,e,n,i){const{top:l,left:c,bottom:u,right:f,chart:h}=t,{chartArea:m,scales:y}=h;let g=0,b,w,v;const j=u-l,N=f-c;if(t.isHorizontal()){if(w=ns(i,c,f),Te(n)){const M=Object.keys(n)[0],E=n[M];v=y[M].getPixelForValue(E)+j-e}else n==="center"?v=(m.bottom+m.top)/2+j-e:v=gy(t,n,e);b=f-c}else{if(Te(n)){const M=Object.keys(n)[0],E=n[M];w=y[M].getPixelForValue(E)-N+e}else n==="center"?w=(m.left+m.right)/2-N+e:w=gy(t,n,e);v=ns(i,u,l),g=n==="left"?-ht:ht}return{titleX:w,titleY:v,maxWidth:b,rotation:g}}class Yi extends la{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:l}=this;return e=Rs(e,Number.POSITIVE_INFINITY),n=Rs(n,Number.NEGATIVE_INFINITY),i=Rs(i,Number.POSITIVE_INFINITY),l=Rs(l,Number.NEGATIVE_INFINITY),{min:Rs(e,i),max:Rs(n,l),minDefined:Mt(e),maxDefined:Mt(n)}}getMinMax(e){let{min:n,max:i,minDefined:l,maxDefined:c}=this.getUserBounds(),u;if(l&&c)return{min:n,max:i};const f=this.getMatchingVisibleMetas();for(let h=0,m=f.length;h<m;++h)u=f[h].controller.getMinMax(this,e),l||(n=Math.min(n,u.min)),c||(i=Math.max(i,u.max));return n=c&&n>i?i:n,i=l&&n>i?n:i,{min:Rs(n,Rs(i,n)),max:Rs(i,Rs(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ge(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:l,grace:c,ticks:u}=this.options,f=u.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=A4(this,c,l),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=f<this.ticks.length;this._convertTicksToLabels(h?yy(this.ticks,f):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),u.display&&(u.autoSkip||u.source==="auto")&&(this.ticks=hC(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ge(this.options.afterUpdate,[this])}beforeSetDimensions(){Ge(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ge(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ge(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ge(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,l,c;for(i=0,l=e.length;i<l;i++)c=e[i],c.label=Ge(n.callback,[c.value,i,e],this)}afterTickToLabelConversion(){Ge(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ge(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=xy(this.ticks.length,e.ticks.maxTicksLimit),l=n.minRotation||0,c=n.maxRotation;let u=l,f,h,m;if(!this._isVisible()||!n.display||l>=c||i<=1||!this.isHorizontal()){this.labelRotation=l;return}const y=this._getLabelSizes(),g=y.widest.width,b=y.highest.height,w=Ct(this.chart.width-g,0,this.maxWidth);f=e.offset?this.maxWidth/i:w/(i-1),g+6>f&&(f=w/(i-(e.offset?.5:1)),h=this.maxHeight-Yr(e.grid)-n.padding-by(e.title,this.chart.options.font),m=Math.sqrt(g*g+b*b),u=s4(Math.min(Math.asin(Ct((y.highest.height+6)/f,-1,1)),Math.asin(Ct(h/m,-1,1))-Math.asin(Ct(b/m,-1,1)))),u=Math.max(l,Math.min(c,u))),this.labelRotation=u}afterCalculateLabelRotation(){Ge(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ge(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:l,grid:c}}=this,u=this._isVisible(),f=this.isHorizontal();if(u){const h=by(l,n.options.font);if(f?(e.width=this.maxWidth,e.height=Yr(c)+h):(e.height=this.maxHeight,e.width=Yr(c)+h),i.display&&this.ticks.length){const{first:m,last:y,widest:g,highest:b}=this._getLabelSizes(),w=i.padding*2,v=pn(this.labelRotation),j=Math.cos(v),N=Math.sin(v);if(f){const M=i.mirror?0:N*g.width+j*b.height;e.height=Math.min(this.maxHeight,e.height+M+w)}else{const M=i.mirror?0:j*g.width+N*b.height;e.width=Math.min(this.maxWidth,e.width+M+w)}this._calculatePadding(m,y,N,j)}}this._handleMargins(),f?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,l){const{ticks:{align:c,padding:u},position:f}=this.options,h=this.labelRotation!==0,m=f!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,w=0;h?m?(b=l*e.width,w=i*n.height):(b=i*e.height,w=l*n.width):c==="start"?w=n.width:c==="end"?b=e.width:c!=="inner"&&(b=e.width/2,w=n.width/2),this.paddingLeft=Math.max((b-y+u)*this.width/(this.width-y),0),this.paddingRight=Math.max((w-g+u)*this.width/(this.width-g),0)}else{let y=n.height/2,g=e.height/2;c==="start"?(y=0,g=e.height):c==="end"&&(y=n.height,g=0),this.paddingTop=y+u,this.paddingBottom=g+u}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ge(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)ze(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=yy(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:l,_longestTextCache:c}=this,u=[],f=[],h=Math.floor(n/xy(n,i));let m=0,y=0,g,b,w,v,j,N,M,E,k,U,B;for(g=0;g<n;g+=h){if(v=e[g].label,j=this._resolveTickFontOptions(g),l.font=N=j.string,M=c[N]=c[N]||{data:{},gc:[]},E=j.lineHeight,k=U=0,!ze(v)&&!ft(v))k=Xx(l,M.data,M.gc,k,v),U=E;else if(ft(v))for(b=0,w=v.length;b<w;++b)B=v[b],!ze(B)&&!ft(B)&&(k=Xx(l,M.data,M.gc,k,B),U+=E);u.push(k),f.push(U),m=Math.max(k,m),y=Math.max(U,y)}jC(c,n);const I=u.indexOf(m),R=f.indexOf(y),q=z=>({width:u[z]||0,height:f[z]||0});return{first:q(0),last:q(n-1),widest:q(I),highest:q(R),widths:u,heights:f}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return a4(this._alignToPixels?Ta(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=wC(this.getContext(),e,i))}return this.$context||(this.$context=_C(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=pn(this.labelRotation),i=Math.abs(Math.cos(n)),l=Math.abs(Math.sin(n)),c=this._getLabelSizes(),u=e.autoSkipPadding||0,f=c?c.widest.width+u:0,h=c?c.highest.height+u:0;return this.isHorizontal()?h*i>f*l?f/i:h/l:h*l<f*i?h/i:f/l}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,l=this.options,{grid:c,position:u,border:f}=l,h=c.offset,m=this.isHorizontal(),g=this.ticks.length+(h?1:0),b=Yr(c),w=[],v=f.setContext(this.getContext()),j=v.display?v.width:0,N=j/2,M=function(H){return Ta(i,H,j)};let E,k,U,B,I,R,q,z,P,K,le,_e;if(u==="top")E=M(this.bottom),R=this.bottom-b,z=E-N,K=M(e.top)+N,_e=e.bottom;else if(u==="bottom")E=M(this.top),K=e.top,_e=M(e.bottom)-N,R=E+N,z=this.top+b;else if(u==="left")E=M(this.right),I=this.right-b,q=E-N,P=M(e.left)+N,le=e.right;else if(u==="right")E=M(this.left),P=e.left,le=M(e.right)-N,I=E+N,q=this.left+b;else if(n==="x"){if(u==="center")E=M((e.top+e.bottom)/2+.5);else if(Te(u)){const H=Object.keys(u)[0],ee=u[H];E=M(this.chart.scales[H].getPixelForValue(ee))}K=e.top,_e=e.bottom,R=E+N,z=R+b}else if(n==="y"){if(u==="center")E=M((e.left+e.right)/2);else if(Te(u)){const H=Object.keys(u)[0],ee=u[H];E=M(this.chart.scales[H].getPixelForValue(ee))}I=E-N,q=I-b,P=e.left,le=e.right}const we=je(l.ticks.maxTicksLimit,g),ue=Math.max(1,Math.ceil(g/we));for(k=0;k<g;k+=ue){const H=this.getContext(k),ee=c.setContext(H),re=f.setContext(H),fe=ee.lineWidth,ve=ee.color,A=re.dash||[],W=re.dashOffset,ae=ee.tickWidth,ie=ee.tickColor,D=ee.tickBorderDash||[],G=ee.tickBorderDashOffset;U=vC(this,k,h),U!==void 0&&(B=Ta(i,U,fe),m?I=q=P=le=B:R=z=K=_e=B,w.push({tx1:I,ty1:R,tx2:q,ty2:z,x1:P,y1:K,x2:le,y2:_e,width:fe,color:ve,borderDash:A,borderDashOffset:W,tickWidth:ae,tickColor:ie,tickBorderDash:D,tickBorderDashOffset:G}))}return this._ticksLength=g,this._borderValue=E,w}_computeLabelItems(e){const n=this.axis,i=this.options,{position:l,ticks:c}=i,u=this.isHorizontal(),f=this.ticks,{align:h,crossAlign:m,padding:y,mirror:g}=c,b=Yr(i.grid),w=b+y,v=g?-y:w,j=-pn(this.labelRotation),N=[];let M,E,k,U,B,I,R,q,z,P,K,le,_e="middle";if(l==="top")I=this.bottom-v,R=this._getXAxisLabelAlignment();else if(l==="bottom")I=this.top+v,R=this._getXAxisLabelAlignment();else if(l==="left"){const ue=this._getYAxisLabelAlignment(b);R=ue.textAlign,B=ue.x}else if(l==="right"){const ue=this._getYAxisLabelAlignment(b);R=ue.textAlign,B=ue.x}else if(n==="x"){if(l==="center")I=(e.top+e.bottom)/2+w;else if(Te(l)){const ue=Object.keys(l)[0],H=l[ue];I=this.chart.scales[ue].getPixelForValue(H)+w}R=this._getXAxisLabelAlignment()}else if(n==="y"){if(l==="center")B=(e.left+e.right)/2-w;else if(Te(l)){const ue=Object.keys(l)[0],H=l[ue];B=this.chart.scales[ue].getPixelForValue(H)}R=this._getYAxisLabelAlignment(b).textAlign}n==="y"&&(h==="start"?_e="top":h==="end"&&(_e="bottom"));const we=this._getLabelSizes();for(M=0,E=f.length;M<E;++M){k=f[M],U=k.label;const ue=c.setContext(this.getContext(M));q=this.getPixelForTick(M)+c.labelOffset,z=this._resolveTickFontOptions(M),P=z.lineHeight,K=ft(U)?U.length:1;const H=K/2,ee=ue.color,re=ue.textStrokeColor,fe=ue.textStrokeWidth;let ve=R;u?(B=q,R==="inner"&&(M===E-1?ve=this.options.reverse?"left":"right":M===0?ve=this.options.reverse?"right":"left":ve="center"),l==="top"?m==="near"||j!==0?le=-K*P+P/2:m==="center"?le=-we.highest.height/2-H*P+P:le=-we.highest.height+P/2:m==="near"||j!==0?le=P/2:m==="center"?le=we.highest.height/2-H*P:le=we.highest.height-K*P,g&&(le*=-1),j!==0&&!ue.showLabelBackdrop&&(B+=P/2*Math.sin(j))):(I=q,le=(1-K)*P/2);let A;if(ue.showLabelBackdrop){const W=Es(ue.backdropPadding),ae=we.heights[M],ie=we.widths[M];let D=le-W.top,G=0-W.left;switch(_e){case"middle":D-=ae/2;break;case"bottom":D-=ae;break}switch(R){case"center":G-=ie/2;break;case"right":G-=ie;break;case"inner":M===E-1?G-=ie:M>0&&(G-=ie/2);break}A={left:G,top:D,width:ie+W.width,height:ae+W.height,color:ue.backdropColor}}N.push({label:U,font:z,textOffset:le,options:{rotation:j,color:ee,strokeColor:re,strokeWidth:fe,textAlign:ve,textBaseline:_e,translation:[B,I],backdrop:A}})}return N}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-pn(this.labelRotation))return e==="top"?"left":"right";let l="center";return n.align==="start"?l="left":n.align==="end"?l="right":n.align==="inner"&&(l="inner"),l}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:l,padding:c}}=this.options,u=this._getLabelSizes(),f=e+c,h=u.widest.width;let m,y;return n==="left"?l?(y=this.right+c,i==="near"?m="left":i==="center"?(m="center",y+=h/2):(m="right",y+=h)):(y=this.right-f,i==="near"?m="right":i==="center"?(m="center",y-=h/2):(m="left",y=this.left)):n==="right"?l?(y=this.left+c,i==="near"?m="right":i==="center"?(m="center",y-=h/2):(m="left",y-=h)):(y=this.left+f,i==="near"?m="left":i==="center"?(m="center",y+=h/2):(m="right",y=this.right)):m="right",{textAlign:m,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:l,width:c,height:u}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,l,c,u),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const l=this.ticks.findIndex(c=>c.value===e);return l>=0?n.setContext(this.getContext(l)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,l=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let c,u;const f=(h,m,y)=>{!y.width||!y.color||(i.save(),i.lineWidth=y.width,i.strokeStyle=y.color,i.setLineDash(y.borderDash||[]),i.lineDashOffset=y.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(m.x,m.y),i.stroke(),i.restore())};if(n.display)for(c=0,u=l.length;c<u;++c){const h=l[c];n.drawOnChartArea&&f({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),n.drawTicks&&f({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:l}}=this,c=i.setContext(this.getContext()),u=i.display?c.width:0;if(!u)return;const f=l.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let m,y,g,b;this.isHorizontal()?(m=Ta(e,this.left,u)-u/2,y=Ta(e,this.right,f)+f/2,g=b=h):(g=Ta(e,this.top,u)-u/2,b=Ta(e,this.bottom,f)+f/2,m=y=h),n.save(),n.lineWidth=c.width,n.strokeStyle=c.color,n.beginPath(),n.moveTo(m,g),n.lineTo(y,b),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,l=this._computeLabelArea();l&&Fc(i,l);const c=this.getLabelItems(e);for(const u of c){const f=u.options,h=u.font,m=u.label,y=u.textOffset;jc(i,m,0,y,h,f)}l&&qc(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:l}}=this;if(!i.display)return;const c=Ft(i.font),u=Es(i.padding),f=i.align;let h=c.lineHeight/2;n==="bottom"||n==="center"||Te(n)?(h+=u.bottom,ft(i.text)&&(h+=c.lineHeight*(i.text.length-1))):h+=u.top;const{titleX:m,titleY:y,maxWidth:g,rotation:b}=SC(this,h,n,f);jc(e,i.text,0,0,c,{color:i.color,maxWidth:g,rotation:b,textAlign:NC(f,n,l),textBaseline:"middle",translation:[m,y]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=je(e.grid&&e.grid.z,-1),l=je(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Yi.prototype.draw?[{z:n,draw:c=>{this.draw(c)}}]:[{z:i,draw:c=>{this.drawBackground(),this.drawGrid(c),this.drawTitle()}},{z:l,draw:()=>{this.drawBorder()}},{z:n,draw:c=>{this.drawLabels(c)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",l=[];let c,u;for(c=0,u=n.length;c<u;++c){const f=n[c];f[i]===this.id&&(!e||f.type===e)&&l.push(f)}return l}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Ft(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ko{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;EC(n)&&(i=this.register(n));const l=this.items,c=e.id,u=this.scope+"."+c;if(!c)throw new Error("class does not have id: "+e);return c in l||(l[c]=e,CC(e,u,i),this.override&&nt.override(e.id,e.overrides)),u}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,l=this.scope;i in n&&delete n[i],l&&i in nt[l]&&(delete nt[l][i],this.override&&delete qa[i])}}function CC(t,e,n){const i=rl(Object.create(null),[n?nt.get(n):{},nt.get(e),t.defaults]);nt.set(e,i),t.defaultRoutes&&MC(e,t.defaultRoutes),t.descriptors&&nt.describe(e,t.descriptors)}function MC(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),l=i.pop(),c=[t].concat(i).join("."),u=e[n].split("."),f=u.pop(),h=u.join(".");nt.route(c,l,h,f)})}function EC(t){return"id"in t&&"defaults"in t}class kC{constructor(){this.controllers=new Ko($c,"datasets",!0),this.elements=new Ko(la,"elements"),this.plugins=new Ko(Object,"plugins"),this.scales=new Ko(Yi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(l=>{const c=i||this._getRegistryForType(l);i||c.isForType(l)||c===this.plugins&&l.id?this._exec(e,c,l):Ue(l,u=>{const f=i||this._getRegistryForType(u);this._exec(e,f,u)})})}_exec(e,n,i){const l=Dh(e);Ge(i["before"+l],[],i),n[e](i),Ge(i["after"+l],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const l=n.get(e);if(l===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return l}}var Bs=new kC;class TC{constructor(){this._init=void 0}notify(e,n,i,l){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const c=l?this._descriptors(e).filter(l):this._descriptors(e),u=this._notify(c,e,n,i);return n==="afterDestroy"&&(this._notify(c,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),u}_notify(e,n,i,l){l=l||{};for(const c of e){const u=c.plugin,f=u[i],h=[n,l,c.options];if(Ge(f,h,u)===!1&&l.cancelable)return!1}return!0}invalidate(){ze(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,l=je(i.options&&i.options.plugins,{}),c=AC(i);return l===!1&&!n?[]:OC(e,c,l,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,l=(c,u)=>c.filter(f=>!u.some(h=>f.plugin.id===h.plugin.id));this._notify(l(n,i),e,"stop"),this._notify(l(i,n),e,"start")}}function AC(t){const e={},n=[],i=Object.keys(Bs.plugins.items);for(let c=0;c<i.length;c++)n.push(Bs.getPlugin(i[c]));const l=t.plugins||[];for(let c=0;c<l.length;c++){const u=l[c];n.indexOf(u)===-1&&(n.push(u),e[u.id]=!0)}return{plugins:n,localIds:e}}function DC(t,e){return!e&&t===!1?null:t===!0?{}:t}function OC(t,{plugins:e,localIds:n},i,l){const c=[],u=t.getContext();for(const f of e){const h=f.id,m=DC(i[h],l);m!==null&&c.push({plugin:f,options:RC(t.config,{plugin:f,local:n[h]},m,u)})}return c}function RC(t,{plugin:e,local:n},i,l){const c=t.pluginScopeKeys(e),u=t.getOptionScopes(i,c);return n&&e.defaults&&u.push(e.defaults),t.createResolver(u,l,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function rh(t,e){const n=nt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function zC(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function LC(t,e){return t===e?"_index_":"_value_"}function vy(t){if(t==="x"||t==="y"||t==="r")return t}function BC(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function lh(t,...e){if(vy(t))return t;for(const n of e){const i=n.axis||BC(n.position)||t.length>1&&vy(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function jy(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function HC(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return jy(t,"x",n[0])||jy(t,"y",n[0])}return{}}function UC(t,e){const n=qa[t.type]||{scales:{}},i=e.scales||{},l=rh(t.type,e),c=Object.create(null);return Object.keys(i).forEach(u=>{const f=i[u];if(!Te(f))return console.error(`Invalid scale configuration for scale: ${u}`);if(f._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${u}`);const h=lh(u,f,HC(u,t),nt.scales[f.type]),m=LC(h,l),y=n.scales||{};c[u]=Jr(Object.create(null),[{axis:h},f,y[h],y[m]])}),t.data.datasets.forEach(u=>{const f=u.type||t.type,h=u.indexAxis||rh(f,e),y=(qa[f]||{}).scales||{};Object.keys(y).forEach(g=>{const b=zC(g,h),w=u[b+"AxisID"]||b;c[w]=c[w]||Object.create(null),Jr(c[w],[{axis:b},i[w],y[g]])})}),Object.keys(c).forEach(u=>{const f=c[u];Jr(f,[nt.scales[f.type],nt.scale])}),c}function Qv(t){const e=t.options||(t.options={});e.plugins=je(e.plugins,{}),e.scales=UC(t,e)}function Zv(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function PC(t){return t=t||{},t.data=Zv(t.data),Qv(t),t}const _y=new Map,Kv=new Set;function Io(t,e){let n=_y.get(t);return n||(n=e(),_y.set(t,n),Kv.add(n)),n}const Xr=(t,e,n)=>{const i=Fa(e,n);i!==void 0&&t.add(i)};class FC{constructor(e){this._config=PC(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Zv(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Qv(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Io(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Io(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Io(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return Io(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let l=i.get(e);return(!l||n)&&(l=new Map,i.set(e,l)),l}getOptionScopes(e,n,i){const{options:l,type:c}=this,u=this._cachedScopes(e,i),f=u.get(n);if(f)return f;const h=new Set;n.forEach(y=>{e&&(h.add(e),y.forEach(g=>Xr(h,e,g))),y.forEach(g=>Xr(h,l,g)),y.forEach(g=>Xr(h,qa[c]||{},g)),y.forEach(g=>Xr(h,nt,g)),y.forEach(g=>Xr(h,ah,g))});const m=Array.from(h);return m.length===0&&m.push(Object.create(null)),Kv.has(n)&&u.set(n,m),m}chartOptionScopes(){const{options:e,type:n}=this;return[e,qa[n]||{},nt.datasets[n]||{},{type:n},nt,ah]}resolveNamedOptions(e,n,i,l=[""]){const c={$shared:!0},{resolver:u,subPrefixes:f}=wy(this._resolverCache,e,l);let h=u;if(VC(u,n)){c.$shared=!1,i=sa(i)?i():i;const m=this.createResolver(e,i,f);h=Bi(u,i,m)}for(const m of n)c[m]=h[m];return c}createResolver(e,n,i=[""],l){const{resolver:c}=wy(this._resolverCache,e,i);return Te(n)?Bi(c,n,void 0,l):c}}function wy(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const l=n.join();let c=i.get(l);return c||(c={resolver:Bh(e,n),subPrefixes:n.filter(f=>!f.toLowerCase().includes("hover"))},i.set(l,c)),c}const qC=t=>Te(t)&&Object.getOwnPropertyNames(t).some(e=>sa(t[e]));function VC(t,e){const{isScriptable:n,isIndexable:i}=Tv(t);for(const l of e){const c=n(l),u=i(l),f=(u||c)&&t[l];if(c&&(sa(f)||qC(f))||u&&ft(f))return!0}return!1}var $C="4.5.1";const YC=["top","bottom","left","right","chartArea"];function Ny(t,e){return t==="top"||t==="bottom"||YC.indexOf(t)===-1&&e==="x"}function Sy(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function Cy(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Ge(n&&n.onComplete,[t],e)}function XC(t){const e=t.chart,n=e.options.animation;Ge(n&&n.onProgress,[t],e)}function Iv(t){return Ph()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const dc={},My=t=>{const e=Iv(t);return Object.values(dc).filter(n=>n.canvas===e).pop()};function GC(t,e,n){const i=Object.keys(t);for(const l of i){const c=+l;if(c>=e){const u=t[l];delete t[l],(n>0||c>e)&&(t[c+n]=u)}}}function WC(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}let Xc=class{static defaults=nt;static instances=dc;static overrides=qa;static registry=Bs;static version=$C;static getChart=My;static register(...e){Bs.add(...e),Ey()}static unregister(...e){Bs.remove(...e),Ey()}constructor(e,n){const i=this.config=new FC(n),l=Iv(e),c=My(l);if(c)throw new Error("Canvas is already in use. Chart with ID '"+c.id+"' must be destroyed before the canvas with ID '"+c.canvas.id+"' can be reused.");const u=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||fC(l)),this.platform.updateConfig(i);const f=this.platform.acquireContext(l,u.aspectRatio),h=f&&f.canvas,m=h&&h.height,y=h&&h.width;if(this.id=V5(),this.ctx=f,this.canvas=h,this.width=y,this.height=m,this._options=u,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new TC,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=o4(g=>this.update(g),u.resizeDelay||0),this._dataChanges=[],dc[this.id]=this,!f||!h){console.error("Failed to create chart: can't acquire context from the given item");return}dn.listen(this,"complete",Cy),dn.listen(this,"progress",XC),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:l,_aspectRatio:c}=this;return ze(e)?n&&c?c:l?i/l:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Bs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Zx(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Gx(this.canvas,this.ctx),this}stop(){return dn.stop(this),this}resize(e,n){dn.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,l=this.canvas,c=i.maintainAspectRatio&&this.aspectRatio,u=this.platform.getMaximumSize(l,e,n,c),f=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=u.width,this.height=u.height,this._aspectRatio=this.aspectRatio,Zx(this,f,!0)&&(this.notifyPlugins("resize",{size:u}),Ge(i.onResize,[this,u],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ue(n,(i,l)=>{i.id=l})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,l=Object.keys(i).reduce((u,f)=>(u[f]=!1,u),{});let c=[];n&&(c=c.concat(Object.keys(n).map(u=>{const f=n[u],h=lh(u,f),m=h==="r",y=h==="x";return{options:f,dposition:m?"chartArea":y?"bottom":"left",dtype:m?"radialLinear":y?"category":"linear"}}))),Ue(c,u=>{const f=u.options,h=f.id,m=lh(h,f),y=je(f.type,u.dtype);(f.position===void 0||Ny(f.position,m)!==Ny(u.dposition))&&(f.position=u.dposition),l[h]=!0;let g=null;if(h in i&&i[h].type===y)g=i[h];else{const b=Bs.getScale(y);g=new b({id:h,type:y,ctx:this.ctx,chart:this}),i[g.id]=g}g.init(f,e)}),Ue(l,(u,f)=>{u||delete i[f]}),Ue(i,u=>{In.configure(this,u,u.options),In.addBox(this,u)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((l,c)=>l.index-c.index),i>n){for(let l=n;l<i;++l)this._destroyDatasetMeta(l);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(Sy("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,l)=>{n.filter(c=>c===i._dataset).length===0&&this._destroyDatasetMeta(l)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,l;for(this._removeUnreferencedMetasets(),i=0,l=n.length;i<l;i++){const c=n[i];let u=this.getDatasetMeta(i);const f=c.type||this.config.type;if(u.type&&u.type!==f&&(this._destroyDatasetMeta(i),u=this.getDatasetMeta(i)),u.type=f,u.indexAxis=c.indexAxis||rh(f,this.options),u.order=c.order||0,u.index=i,u.label=""+c.label,u.visible=this.isDatasetVisible(i),u.controller)u.controller.updateIndex(i),u.controller.linkScales();else{const h=Bs.getController(f),{datasetElementType:m,dataElementType:y}=nt.datasets[f];Object.assign(h,{dataElementType:Bs.getElement(y),datasetElementType:m&&Bs.getElement(m)}),u.controller=new h(this,i),e.push(u.controller)}}return this._updateMetasets(),e}_resetElements(){Ue(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),l=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const c=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let u=0;for(let m=0,y=this.data.datasets.length;m<y;m++){const{controller:g}=this.getDatasetMeta(m),b=!l&&c.indexOf(g)===-1;g.buildOrUpdateElements(b),u=Math.max(+g.getMaxOverflow(),u)}u=this._minPadding=i.layout.autoPadding?u:0,this._updateLayout(u),l||Ue(c,m=>{m.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Sy("z","_idx"));const{_active:f,_lastEvent:h}=this;h?this._eventHandler(h,!0):f.length&&this._updateHoverStyles(f,f,!0),this.render()}_updateScales(){Ue(this.scales,e=>{In.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!Bx(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:l,count:c}of n){const u=i==="_removeElements"?-c:c;GC(e,l,u)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=c=>new Set(e.filter(u=>u[0]===c).map((u,f)=>f+","+u.splice(1).join(","))),l=i(0);for(let c=1;c<n;c++)if(!Bx(l,i(c)))return;return Array.from(l).map(c=>c.split(",")).map(c=>({method:c[1],start:+c[2],count:+c[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;In.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Ue(this.boxes,l=>{i&&l.position==="chartArea"||(l.configure&&l.configure(),this._layers.push(...l._layers()))},this),this._layers.forEach((l,c)=>{l._idx=c}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,sa(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),l={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",l)!==!1&&(i.controller._update(n),l.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",l))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(dn.has(this)?this.attached&&!dn.running(this)&&dn.start(this):(this.draw(),Cy({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:l}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,l)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let l,c;for(l=0,c=n.length;l<c;++l){const u=n[l];(!e||u.visible)&&i.push(u)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i={meta:e,index:e.index,cancelable:!0},l=Pv(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(l&&Fc(n,l),e.controller.draw(),l&&qc(n),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return ul(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,l){const c=Y3.modes[n];return typeof c=="function"?c(this,e,i,l):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let l=i.filter(c=>c&&c._dataset===n).pop();return l||(l={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(l)),l}getContext(){return this.$context||(this.$context=Xa(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const l=i?"show":"hide",c=this.getDatasetMeta(e),u=c.controller._resolveAnimations(void 0,l);ll(n)?(c.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),u.update(c,{visible:i}),this.update(f=>f.datasetIndex===e?l:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),dn.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Gx(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete dc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(c,u)=>{n.addEventListener(this,c,u),e[c]=u},l=(c,u,f)=>{c.offsetX=u,c.offsetY=f,this._eventHandler(c)};Ue(this.options.events,c=>i(c,l))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(h,m)=>{n.addEventListener(this,h,m),e[h]=m},l=(h,m)=>{e[h]&&(n.removeEventListener(this,h,m),delete e[h])},c=(h,m)=>{this.canvas&&this.resize(h,m)};let u;const f=()=>{l("attach",f),this.attached=!0,this.resize(),i("resize",c),i("detach",u)};u=()=>{this.attached=!1,l("resize",c),this._stop(),this._resize(0,0),i("attach",f)},n.isAttached(this.canvas)?f():u()}unbindEvents(){Ue(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Ue(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const l=i?"set":"remove";let c,u,f,h;for(n==="dataset"&&(c=this.getDatasetMeta(e[0].datasetIndex),c.controller["_"+l+"DatasetHoverStyle"]()),f=0,h=e.length;f<h;++f){u=e[f];const m=u&&this.getDatasetMeta(u.datasetIndex).controller;m&&m[l+"HoverStyle"](u.element,u.datasetIndex,u.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:c,index:u})=>{const f=this.getDatasetMeta(c);if(!f)throw new Error("No dataset found at index "+c);return{datasetIndex:c,element:f.data[u],index:u}});!yc(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const l=this.options.hover,c=(h,m)=>h.filter(y=>!m.some(g=>y.datasetIndex===g.datasetIndex&&y.index===g.index)),u=c(n,e),f=i?e:c(e,n);u.length&&this.updateHoverStyle(u,l.mode,!1),f.length&&l.mode&&this.updateHoverStyle(f,l.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},l=u=>(u.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,l)===!1)return;const c=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,l),(c||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:l=[],options:c}=this,u=n,f=this._getActiveElements(e,l,i,u),h=Q5(e),m=WC(e,this._lastEvent,i,h);i&&(this._lastEvent=null,Ge(c.onHover,[e,f,this],this),h&&Ge(c.onClick,[e,f,this],this));const y=!yc(f,l);return(y||n)&&(this._active=f,this._updateHoverStyles(f,l,n)),this._lastEvent=m,y}_getActiveElements(e,n,i,l){if(e.type==="mouseout")return[];if(!i)return n;const c=this.options.hover;return this.getElementsAtEventForMode(e,c.mode,c,l)}};function Ey(){return Ue(Xc.instances,t=>t._plugins.invalidate())}function QC(t,e,n){const{startAngle:i,x:l,y:c,outerRadius:u,innerRadius:f,options:h}=e,{borderWidth:m,borderJoinStyle:y}=h,g=Math.min(m/u,as(i-n));if(t.beginPath(),t.arc(l,c,u-m/2,i+g/2,n-g/2),f>0){const b=Math.min(m/f,as(i-n));t.arc(l,c,f+m/2,n-b/2,i+b/2,!0)}else{const b=Math.min(m/2,u*as(i-n));if(y==="round")t.arc(l,c,b,n-$e/2,i+$e/2,!0);else if(y==="bevel"){const w=2*b*b,v=-w*Math.cos(n+$e/2)+l,j=-w*Math.sin(n+$e/2)+c,N=w*Math.cos(i+$e/2)+l,M=w*Math.sin(i+$e/2)+c;t.lineTo(v,j),t.lineTo(N,M)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function ZC(t,e,n){const{startAngle:i,pixelMargin:l,x:c,y:u,outerRadius:f,innerRadius:h}=e;let m=l/f;t.beginPath(),t.arc(c,u,f,i-m,n+m),h>l?(m=l/h,t.arc(c,u,h,n+m,i-m,!0)):t.arc(c,u,l,n+ht,i-ht),t.closePath(),t.clip()}function KC(t){return Lh(t,["outerStart","outerEnd","innerStart","innerEnd"])}function IC(t,e,n,i){const l=KC(t.options.borderRadius),c=(n-e)/2,u=Math.min(c,i*e/2),f=h=>{const m=(n-Math.min(c,h))*i/2;return Ct(h,0,Math.min(c,m))};return{outerStart:f(l.outerStart),outerEnd:f(l.outerEnd),innerStart:Ct(l.innerStart,0,u),innerEnd:Ct(l.innerEnd,0,u)}}function Oi(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function Sc(t,e,n,i,l,c){const{x:u,y:f,startAngle:h,pixelMargin:m,innerRadius:y}=e,g=Math.max(e.outerRadius+i+n-m,0),b=y>0?y+i+n+m:0;let w=0;const v=l-h;if(i){const ue=y>0?y-i:0,H=g>0?g-i:0,ee=(ue+H)/2,re=ee!==0?v*ee/(ee+i):v;w=(v-re)/2}const j=Math.max(.001,v*g-n/$e)/g,N=(v-j)/2,M=h+N+w,E=l-N-w,{outerStart:k,outerEnd:U,innerStart:B,innerEnd:I}=IC(e,b,g,E-M),R=g-k,q=g-U,z=M+k/R,P=E-U/q,K=b+B,le=b+I,_e=M+B/K,we=E-I/le;if(t.beginPath(),c){const ue=(z+P)/2;if(t.arc(u,f,g,z,ue),t.arc(u,f,g,ue,P),U>0){const fe=Oi(q,P,u,f);t.arc(fe.x,fe.y,U,P,E+ht)}const H=Oi(le,E,u,f);if(t.lineTo(H.x,H.y),I>0){const fe=Oi(le,we,u,f);t.arc(fe.x,fe.y,I,E+ht,we+Math.PI)}const ee=(E-I/b+(M+B/b))/2;if(t.arc(u,f,b,E-I/b,ee,!0),t.arc(u,f,b,ee,M+B/b,!0),B>0){const fe=Oi(K,_e,u,f);t.arc(fe.x,fe.y,B,_e+Math.PI,M-ht)}const re=Oi(R,M,u,f);if(t.lineTo(re.x,re.y),k>0){const fe=Oi(R,z,u,f);t.arc(fe.x,fe.y,k,M-ht,z)}}else{t.moveTo(u,f);const ue=Math.cos(z)*g+u,H=Math.sin(z)*g+f;t.lineTo(ue,H);const ee=Math.cos(P)*g+u,re=Math.sin(P)*g+f;t.lineTo(ee,re)}t.closePath()}function JC(t,e,n,i,l){const{fullCircles:c,startAngle:u,circumference:f}=e;let h=e.endAngle;if(c){Sc(t,e,n,i,h,l);for(let m=0;m<c;++m)t.fill();isNaN(f)||(h=u+(f%Ze||Ze))}return Sc(t,e,n,i,h,l),t.fill(),h}function eM(t,e,n,i,l){const{fullCircles:c,startAngle:u,circumference:f,options:h}=e,{borderWidth:m,borderJoinStyle:y,borderDash:g,borderDashOffset:b,borderRadius:w}=h,v=h.borderAlign==="inner";if(!m)return;t.setLineDash(g||[]),t.lineDashOffset=b,v?(t.lineWidth=m*2,t.lineJoin=y||"round"):(t.lineWidth=m,t.lineJoin=y||"bevel");let j=e.endAngle;if(c){Sc(t,e,n,i,j,l);for(let N=0;N<c;++N)t.stroke();isNaN(f)||(j=u+(f%Ze||Ze))}v&&ZC(t,e,j),h.selfJoin&&j-u>=$e&&w===0&&y!=="miter"&&QC(t,e,j),c||(Sc(t,e,n,i,j,l),t.stroke())}class tM extends la{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,i){const l=this.getProps(["x","y"],i),{angle:c,distance:u}=jv(l,{x:e,y:n}),{startAngle:f,endAngle:h,innerRadius:m,outerRadius:y,circumference:g}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),b=(this.options.spacing+this.options.borderWidth)/2,w=je(g,h-f),v=cl(c,f,h)&&f!==h,j=w>=Ze||v,N=gn(u,m+b,y+b);return j&&N}getCenterPoint(e){const{x:n,y:i,startAngle:l,endAngle:c,innerRadius:u,outerRadius:f}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:h,spacing:m}=this.options,y=(l+c)/2,g=(u+f+m+h)/2;return{x:n+Math.cos(y)*g,y:i+Math.sin(y)*g}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:i}=this,l=(n.offset||0)/4,c=(n.spacing||0)/2,u=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>Ze?Math.floor(i/Ze):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const f=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(f)*l,Math.sin(f)*l);const h=1-Math.sin(Math.min($e,i||0)),m=l*h;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,JC(e,this,m,c,u),eM(e,this,m,c,u),e.restore()}}function Jv(t,e,n=e){t.lineCap=je(n.borderCapStyle,e.borderCapStyle),t.setLineDash(je(n.borderDash,e.borderDash)),t.lineDashOffset=je(n.borderDashOffset,e.borderDashOffset),t.lineJoin=je(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=je(n.borderWidth,e.borderWidth),t.strokeStyle=je(n.borderColor,e.borderColor)}function sM(t,e,n){t.lineTo(n.x,n.y)}function nM(t){return t.stepped?_4:t.tension||t.cubicInterpolationMode==="monotone"?w4:sM}function e1(t,e,n={}){const i=t.length,{start:l=0,end:c=i-1}=n,{start:u,end:f}=e,h=Math.max(l,u),m=Math.min(c,f),y=l<u&&c<u||l>f&&c>f;return{count:i,start:h,loop:e.loop,ilen:m<h&&!y?i+m-h:m-h}}function aM(t,e,n,i){const{points:l,options:c}=e,{count:u,start:f,loop:h,ilen:m}=e1(l,n,i),y=nM(c);let{move:g=!0,reverse:b}=i||{},w,v,j;for(w=0;w<=m;++w)v=l[(f+(b?m-w:w))%u],!v.skip&&(g?(t.moveTo(v.x,v.y),g=!1):y(t,j,v,b,c.stepped),j=v);return h&&(v=l[(f+(b?m:0))%u],y(t,j,v,b,c.stepped)),!!h}function iM(t,e,n,i){const l=e.points,{count:c,start:u,ilen:f}=e1(l,n,i),{move:h=!0,reverse:m}=i||{};let y=0,g=0,b,w,v,j,N,M;const E=U=>(u+(m?f-U:U))%c,k=()=>{j!==N&&(t.lineTo(y,N),t.lineTo(y,j),t.lineTo(y,M))};for(h&&(w=l[E(0)],t.moveTo(w.x,w.y)),b=0;b<=f;++b){if(w=l[E(b)],w.skip)continue;const U=w.x,B=w.y,I=U|0;I===v?(B<j?j=B:B>N&&(N=B),y=(g*y+U)/++g):(k(),t.lineTo(U,B),v=I,g=0,j=N=B),M=B}k()}function oh(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?iM:aM}function rM(t){return t.stepped?t3:t.tension||t.cubicInterpolationMode==="monotone"?s3:Oa}function lM(t,e,n,i){let l=e._path;l||(l=e._path=new Path2D,e.path(l,n,i)&&l.closePath()),Jv(t,e.options),t.stroke(l)}function oM(t,e,n,i){const{segments:l,options:c}=e,u=oh(e);for(const f of l)Jv(t,c,f.style),t.beginPath(),u(t,e,f,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const cM=typeof Path2D=="function";function uM(t,e,n,i){cM&&!e.options.segment?lM(t,e,n,i):oM(t,e,n,i)}class Gc extends la{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const l=i.spanGaps?this._loop:this._fullLoop;G4(this._points,i,e,l,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=o3(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,l=e[n],c=this.points,u=Uv(this,{property:n,start:l,end:l});if(!u.length)return;const f=[],h=rM(i);let m,y;for(m=0,y=u.length;m<y;++m){const{start:g,end:b}=u[m],w=c[g],v=c[b];if(w===v){f.push(w);continue}const j=Math.abs((l-w[n])/(v[n]-w[n])),N=h(w,v,j,i.stepped);N[n]=e[n],f.push(N)}return f.length===1?f[0]:f}pathSegment(e,n,i){return oh(this)(e,this,n,i)}path(e,n,i){const l=this.segments,c=oh(this);let u=this._loop;n=n||0,i=i||this.points.length-n;for(const f of l)u&=c(e,this,f,{start:n,end:n+i-1});return!!u}draw(e,n,i,l){const c=this.options||{};(this.points||[]).length&&c.borderWidth&&(e.save(),uM(e,this,i,l),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function ky(t,e,n,i){const l=t.options,{[n]:c}=t.getProps([n],i);return Math.abs(e-c)<l.radius+l.hitRadius}class dM extends la{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,i){const l=this.options,{x:c,y:u}=this.getProps(["x","y"],i);return Math.pow(e-c,2)+Math.pow(n-u,2)<Math.pow(l.hitRadius+l.radius,2)}inXRange(e,n){return ky(this,e,"x",n)}inYRange(e,n){return ky(this,e,"y",n)}getCenterPoint(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const i=n&&e.borderWidth||0;return(n+i)*2}draw(e,n){const i=this.options;this.skip||i.radius<.1||!ul(this,n,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,ih(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function t1(t,e){const{x:n,y:i,base:l,width:c,height:u}=t.getProps(["x","y","base","width","height"],e);let f,h,m,y,g;return t.horizontal?(g=u/2,f=Math.min(n,l),h=Math.max(n,l),m=i-g,y=i+g):(g=c/2,f=n-g,h=n+g,m=Math.min(i,l),y=Math.max(i,l)),{left:f,top:m,right:h,bottom:y}}function Jn(t,e,n,i){return t?0:Ct(e,n,i)}function fM(t,e,n){const i=t.options.borderWidth,l=t.borderSkipped,c=kv(i);return{t:Jn(l.top,c.top,0,n),r:Jn(l.right,c.right,0,e),b:Jn(l.bottom,c.bottom,0,n),l:Jn(l.left,c.left,0,e)}}function hM(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),l=t.options.borderRadius,c=Ri(l),u=Math.min(e,n),f=t.borderSkipped,h=i||Te(l);return{topLeft:Jn(!h||f.top||f.left,c.topLeft,0,u),topRight:Jn(!h||f.top||f.right,c.topRight,0,u),bottomLeft:Jn(!h||f.bottom||f.left,c.bottomLeft,0,u),bottomRight:Jn(!h||f.bottom||f.right,c.bottomRight,0,u)}}function mM(t){const e=t1(t),n=e.right-e.left,i=e.bottom-e.top,l=fM(t,n/2,i/2),c=hM(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:c},inner:{x:e.left+l.l,y:e.top+l.t,w:n-l.l-l.r,h:i-l.t-l.b,radius:{topLeft:Math.max(0,c.topLeft-Math.max(l.t,l.l)),topRight:Math.max(0,c.topRight-Math.max(l.t,l.r)),bottomLeft:Math.max(0,c.bottomLeft-Math.max(l.b,l.l)),bottomRight:Math.max(0,c.bottomRight-Math.max(l.b,l.r))}}}}function Bf(t,e,n,i){const l=e===null,c=n===null,f=t&&!(l&&c)&&t1(t,i);return f&&(l||gn(e,f.left,f.right))&&(c||gn(n,f.top,f.bottom))}function pM(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function gM(t,e){t.rect(e.x,e.y,e.w,e.h)}function Hf(t,e,n={}){const i=t.x!==n.x?-e:0,l=t.y!==n.y?-e:0,c=(t.x+t.w!==n.x+n.w?e:0)-i,u=(t.y+t.h!==n.y+n.h?e:0)-l;return{x:t.x+i,y:t.y+l,w:t.w+c,h:t.h+u,radius:t.radius}}class xM extends la{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:l}}=this,{inner:c,outer:u}=mM(this),f=pM(u.radius)?_c:gM;e.save(),(u.w!==c.w||u.h!==c.h)&&(e.beginPath(),f(e,Hf(u,n,c)),e.clip(),f(e,Hf(c,-n,u)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),f(e,Hf(c,n)),e.fillStyle=l,e.fill(),e.restore()}inRange(e,n,i){return Bf(this,e,n,i)}inXRange(e,n){return Bf(this,e,null,n)}inYRange(e,n){return Bf(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:l,horizontal:c}=this.getProps(["x","y","base","horizontal"],e);return{x:c?(n+l)/2:n,y:c?i:(i+l)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}function yM(t,e,n){const i=t.segments,l=t.points,c=e.points,u=[];for(const f of i){let{start:h,end:m}=f;m=Wc(h,m,l);const y=ch(n,l[h],l[m],f.loop);if(!e.segments){u.push({source:f,target:y,start:l[h],end:l[m]});continue}const g=Uv(e,y);for(const b of g){const w=ch(n,c[b.start],c[b.end],b.loop),v=Hv(f,l,w);for(const j of v)u.push({source:j,target:b,start:{[n]:Ty(y,w,"start",Math.max)},end:{[n]:Ty(y,w,"end",Math.min)}})}}return u}function ch(t,e,n,i){if(i)return;let l=e[t],c=n[t];return t==="angle"&&(l=as(l),c=as(c)),{property:t,start:l,end:c}}function bM(t,e){const{x:n=null,y:i=null}=t||{},l=e.points,c=[];return e.segments.forEach(({start:u,end:f})=>{f=Wc(u,f,l);const h=l[u],m=l[f];i!==null?(c.push({x:h.x,y:i}),c.push({x:m.x,y:i})):n!==null&&(c.push({x:n,y:h.y}),c.push({x:n,y:m.y}))}),c}function Wc(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function Ty(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function s1(t,e){let n=[],i=!1;return ft(t)?(i=!0,n=t):n=bM(t,e),n.length?new Gc({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function Ay(t){return t&&t.fill!==!1}function vM(t,e,n){let l=t[e].fill;const c=[e];let u;if(!n)return l;for(;l!==!1&&c.indexOf(l)===-1;){if(!Mt(l))return l;if(u=t[l],!u)return!1;if(u.visible)return l;c.push(l),l=u.fill}return!1}function jM(t,e,n){const i=SM(t);if(Te(i))return isNaN(i.value)?!1:i;let l=parseFloat(i);return Mt(l)&&Math.floor(l)===l?_M(i[0],e,l,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function _M(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function wM(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:Te(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function NM(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:Te(t)?i=t.value:i=e.getBaseValue(),i}function SM(t){const e=t.options,n=e.fill;let i=je(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function CM(t){const{scale:e,index:n,line:i}=t,l=[],c=i.segments,u=i.points,f=MM(e,n);f.push(s1({x:null,y:e.bottom},i));for(let h=0;h<c.length;h++){const m=c[h];for(let y=m.start;y<=m.end;y++)EM(l,u[y],f)}return new Gc({points:l,options:{}})}function MM(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let l=0;l<i.length;l++){const c=i[l];if(c.index===e)break;c.hidden||n.unshift(c.dataset)}return n}function EM(t,e,n){const i=[];for(let l=0;l<n.length;l++){const c=n[l],{first:u,last:f,point:h}=kM(c,e,"x");if(!(!h||u&&f)){if(u)i.unshift(h);else if(t.push(h),!f)break}}t.push(...i)}function kM(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const l=i[n],c=t.segments,u=t.points;let f=!1,h=!1;for(let m=0;m<c.length;m++){const y=c[m],g=u[y.start][n],b=u[y.end][n];if(gn(l,g,b)){f=l===g,h=l===b;break}}return{first:f,last:h,point:i}}class n1{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:l,y:c,radius:u}=this;return n=n||{start:0,end:Ze},e.arc(l,c,u,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:l}=this,c=e.angle;return{x:n+Math.cos(c)*l,y:i+Math.sin(c)*l,angle:c}}}function TM(t){const{chart:e,fill:n,line:i}=t;if(Mt(n))return AM(e,n);if(n==="stack")return CM(t);if(n==="shape")return!0;const l=DM(t);return l instanceof n1?l:s1(l,i)}function AM(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function DM(t){return(t.scale||{}).getPointPositionForValue?RM(t):OM(t)}function OM(t){const{scale:e={},fill:n}=t,i=wM(n,e);if(Mt(i)){const l=e.isHorizontal();return{x:l?i:null,y:l?null:i}}return null}function RM(t){const{scale:e,fill:n}=t,i=e.options,l=e.getLabels().length,c=i.reverse?e.max:e.min,u=NM(n,e,c),f=[];if(i.grid.circular){const h=e.getPointPositionForValue(0,c);return new n1({x:h.x,y:h.y,radius:e.getDistanceFromCenterForValue(u)})}for(let h=0;h<l;++h)f.push(e.getPointPositionForValue(h,u));return f}function Uf(t,e,n){const i=TM(e),{chart:l,index:c,line:u,scale:f,axis:h}=e,m=u.options,y=m.fill,g=m.backgroundColor,{above:b=g,below:w=g}=y||{},v=l.getDatasetMeta(c),j=Pv(l,v);i&&u.points.length&&(Fc(t,n),zM(t,{line:u,target:i,above:b,below:w,area:n,scale:f,axis:h,clip:j}),qc(t))}function zM(t,e){const{line:n,target:i,above:l,below:c,area:u,scale:f,clip:h}=e,m=n._loop?"angle":e.axis;t.save();let y=c;c!==l&&(m==="x"?(Dy(t,i,u.top),Pf(t,{line:n,target:i,color:l,scale:f,property:m,clip:h}),t.restore(),t.save(),Dy(t,i,u.bottom)):m==="y"&&(Oy(t,i,u.left),Pf(t,{line:n,target:i,color:c,scale:f,property:m,clip:h}),t.restore(),t.save(),Oy(t,i,u.right),y=l)),Pf(t,{line:n,target:i,color:y,scale:f,property:m,clip:h}),t.restore()}function Dy(t,e,n){const{segments:i,points:l}=e;let c=!0,u=!1;t.beginPath();for(const f of i){const{start:h,end:m}=f,y=l[h],g=l[Wc(h,m,l)];c?(t.moveTo(y.x,y.y),c=!1):(t.lineTo(y.x,n),t.lineTo(y.x,y.y)),u=!!e.pathSegment(t,f,{move:u}),u?t.closePath():t.lineTo(g.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function Oy(t,e,n){const{segments:i,points:l}=e;let c=!0,u=!1;t.beginPath();for(const f of i){const{start:h,end:m}=f,y=l[h],g=l[Wc(h,m,l)];c?(t.moveTo(y.x,y.y),c=!1):(t.lineTo(n,y.y),t.lineTo(y.x,y.y)),u=!!e.pathSegment(t,f,{move:u}),u?t.closePath():t.lineTo(n,g.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function Pf(t,e){const{line:n,target:i,property:l,color:c,scale:u,clip:f}=e,h=yM(n,i,l);for(const{source:m,target:y,start:g,end:b}of h){const{style:{backgroundColor:w=c}={}}=m,v=i!==!0;t.save(),t.fillStyle=w,LM(t,u,f,v&&ch(l,g,b)),t.beginPath();const j=!!n.pathSegment(t,m);let N;if(v){j?t.closePath():Ry(t,i,b,l);const M=!!i.pathSegment(t,y,{move:j,reverse:!0});N=j&&M,N||Ry(t,i,g,l)}t.closePath(),t.fill(N?"evenodd":"nonzero"),t.restore()}}function LM(t,e,n,i){const l=e.chart.chartArea,{property:c,start:u,end:f}=i||{};if(c==="x"||c==="y"){let h,m,y,g;c==="x"?(h=u,m=l.top,y=f,g=l.bottom):(h=l.left,m=u,y=l.right,g=f),t.beginPath(),n&&(h=Math.max(h,n.left),y=Math.min(y,n.right),m=Math.max(m,n.top),g=Math.min(g,n.bottom)),t.rect(h,m,y-h,g-m),t.clip()}}function Ry(t,e,n,i){const l=e.interpolate(n,i);l&&t.lineTo(l.x,l.y)}var BM={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,l=[];let c,u,f,h;for(u=0;u<i;++u)c=t.getDatasetMeta(u),f=c.dataset,h=null,f&&f.options&&f instanceof Gc&&(h={visible:t.isDatasetVisible(u),index:u,fill:jM(f,u,i),chart:t,axis:c.controller.options.indexAxis,scale:c.vScale,line:f}),c.$filler=h,l.push(h);for(u=0;u<i;++u)h=l[u],!(!h||h.fill===!1)&&(h.fill=vM(l,u,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",l=t.getSortedVisibleDatasetMetas(),c=t.chartArea;for(let u=l.length-1;u>=0;--u){const f=l[u].$filler;f&&(f.line.updateControlPoints(c,f.axis),i&&f.fill&&Uf(t.ctx,f,c))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let l=i.length-1;l>=0;--l){const c=i[l].$filler;Ay(c)&&Uf(t.ctx,c,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!Ay(i)||n.drawTime!=="beforeDatasetDraw"||Uf(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const zy=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},HM=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Ly extends la{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Ge(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,l)=>e.sort(i,l,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,l=Ft(i.font),c=l.size,u=this._computeTitleHeight(),{boxWidth:f,itemHeight:h}=zy(i,c);let m,y;n.font=l.string,this.isHorizontal()?(m=this.maxWidth,y=this._fitRows(u,c,f,h)+10):(y=this.maxHeight,m=this._fitCols(u,l,f,h)+10),this.width=Math.min(m,e.maxWidth||this.maxWidth),this.height=Math.min(y,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,l){const{ctx:c,maxWidth:u,options:{labels:{padding:f}}}=this,h=this.legendHitBoxes=[],m=this.lineWidths=[0],y=l+f;let g=e;c.textAlign="left",c.textBaseline="middle";let b=-1,w=-y;return this.legendItems.forEach((v,j)=>{const N=i+n/2+c.measureText(v.text).width;(j===0||m[m.length-1]+N+2*f>u)&&(g+=y,m[m.length-(j>0?0:1)]=0,w+=y,b++),h[j]={left:0,top:w,row:b,width:N,height:l},m[m.length-1]+=N+f}),g}_fitCols(e,n,i,l){const{ctx:c,maxHeight:u,options:{labels:{padding:f}}}=this,h=this.legendHitBoxes=[],m=this.columnSizes=[],y=u-e;let g=f,b=0,w=0,v=0,j=0;return this.legendItems.forEach((N,M)=>{const{itemWidth:E,itemHeight:k}=UM(i,n,c,N,l);M>0&&w+k+2*f>y&&(g+=b+f,m.push({width:b,height:w}),v+=b+f,j++,b=w=0),h[M]={left:v,top:w,col:j,width:E,height:k},b=Math.max(b,E),w+=k+f}),g+=b,m.push({width:b,height:w}),g}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:l},rtl:c}}=this,u=zi(c,this.left,this.width);if(this.isHorizontal()){let f=0,h=ns(i,this.left+l,this.right-this.lineWidths[f]);for(const m of n)f!==m.row&&(f=m.row,h=ns(i,this.left+l,this.right-this.lineWidths[f])),m.top+=this.top+e+l,m.left=u.leftForLtr(u.x(h),m.width),h+=m.width+l}else{let f=0,h=ns(i,this.top+e+l,this.bottom-this.columnSizes[f].height);for(const m of n)m.col!==f&&(f=m.col,h=ns(i,this.top+e+l,this.bottom-this.columnSizes[f].height)),m.top=h,m.left+=this.left+l,m.left=u.leftForLtr(u.x(m.left),m.width),h+=m.height+l}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Fc(e,this),this._draw(),qc(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:l}=this,{align:c,labels:u}=e,f=nt.color,h=zi(e.rtl,this.left,this.width),m=Ft(u.font),{padding:y}=u,g=m.size,b=g/2;let w;this.drawTitle(),l.textAlign=h.textAlign("left"),l.textBaseline="middle",l.lineWidth=.5,l.font=m.string;const{boxWidth:v,boxHeight:j,itemHeight:N}=zy(u,g),M=function(I,R,q){if(isNaN(v)||v<=0||isNaN(j)||j<0)return;l.save();const z=je(q.lineWidth,1);if(l.fillStyle=je(q.fillStyle,f),l.lineCap=je(q.lineCap,"butt"),l.lineDashOffset=je(q.lineDashOffset,0),l.lineJoin=je(q.lineJoin,"miter"),l.lineWidth=z,l.strokeStyle=je(q.strokeStyle,f),l.setLineDash(je(q.lineDash,[])),u.usePointStyle){const P={radius:j*Math.SQRT2/2,pointStyle:q.pointStyle,rotation:q.rotation,borderWidth:z},K=h.xPlus(I,v/2),le=R+b;Ev(l,P,K,le,u.pointStyleWidth&&v)}else{const P=R+Math.max((g-j)/2,0),K=h.leftForLtr(I,v),le=Ri(q.borderRadius);l.beginPath(),Object.values(le).some(_e=>_e!==0)?_c(l,{x:K,y:P,w:v,h:j,radius:le}):l.rect(K,P,v,j),l.fill(),z!==0&&l.stroke()}l.restore()},E=function(I,R,q){jc(l,q.text,I,R+N/2,m,{strikethrough:q.hidden,textAlign:h.textAlign(q.textAlign)})},k=this.isHorizontal(),U=this._computeTitleHeight();k?w={x:ns(c,this.left+y,this.right-i[0]),y:this.top+y+U,line:0}:w={x:this.left+y,y:ns(c,this.top+U+y,this.bottom-n[0].height),line:0},zv(this.ctx,e.textDirection);const B=N+y;this.legendItems.forEach((I,R)=>{l.strokeStyle=I.fontColor,l.fillStyle=I.fontColor;const q=l.measureText(I.text).width,z=h.textAlign(I.textAlign||(I.textAlign=u.textAlign)),P=v+b+q;let K=w.x,le=w.y;h.setWidth(this.width),k?R>0&&K+P+y>this.right&&(le=w.y+=B,w.line++,K=w.x=ns(c,this.left+y,this.right-i[w.line])):R>0&&le+B>this.bottom&&(K=w.x=K+n[w.line].width+y,w.line++,le=w.y=ns(c,this.top+U+y,this.bottom-n[w.line].height));const _e=h.x(K);if(M(_e,le,I),K=c4(z,K+v+b,k?K+P:this.right,e.rtl),E(h.x(K),le,I),k)w.x+=P+y;else if(typeof I.text!="string"){const we=m.lineHeight;w.y+=a1(I,we)+y}else w.y+=B}),Lv(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=Ft(n.font),l=Es(n.padding);if(!n.display)return;const c=zi(e.rtl,this.left,this.width),u=this.ctx,f=n.position,h=i.size/2,m=l.top+h;let y,g=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),y=this.top+m,g=ns(e.align,g,this.right-b);else{const v=this.columnSizes.reduce((j,N)=>Math.max(j,N.height),0);y=m+ns(e.align,this.top,this.bottom-v-e.labels.padding-this._computeTitleHeight())}const w=ns(f,g,g+b);u.textAlign=c.textAlign(Cv(f)),u.textBaseline="middle",u.strokeStyle=n.color,u.fillStyle=n.color,u.font=i.string,jc(u,n.text,w,y,i)}_computeTitleHeight(){const e=this.options.title,n=Ft(e.font),i=Es(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,l,c;if(gn(e,this.left,this.right)&&gn(n,this.top,this.bottom)){for(c=this.legendHitBoxes,i=0;i<c.length;++i)if(l=c[i],gn(e,l.left,l.left+l.width)&&gn(n,l.top,l.top+l.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!qM(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const l=this._hoveredItem,c=HM(l,i);l&&!c&&Ge(n.onLeave,[e,l,this],this),this._hoveredItem=i,i&&!c&&Ge(n.onHover,[e,i,this],this)}else i&&Ge(n.onClick,[e,i,this],this)}}function UM(t,e,n,i,l){const c=PM(i,t,e,n),u=FM(l,i,e.lineHeight);return{itemWidth:c,itemHeight:u}}function PM(t,e,n,i){let l=t.text;return l&&typeof l!="string"&&(l=l.reduce((c,u)=>c.length>u.length?c:u)),e+n.size/2+i.measureText(l).width}function FM(t,e,n){let i=t;return typeof e.text!="string"&&(i=a1(e,n)),i}function a1(t,e){const n=t.text?t.text.length:0;return e*n}function qM(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var VM={id:"legend",_element:Ly,start(t,e,n){const i=t.legend=new Ly({ctx:t.ctx,options:n,chart:t});In.configure(t,i,n),In.addBox(t,i)},stop(t){In.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;In.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,l=n.chart;l.isDatasetVisible(i)?(l.hide(i),e.hidden=!0):(l.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:l,color:c,useBorderRadius:u,borderRadius:f}}=t.legend.options;return t._getSortedDatasetMetas().map(h=>{const m=h.controller.getStyle(n?0:void 0),y=Es(m.borderWidth);return{text:e[h.index].label,fillStyle:m.backgroundColor,fontColor:c,hidden:!h.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:m.borderColor,pointStyle:i||m.pointStyle,rotation:m.rotation,textAlign:l||m.textAlign,borderRadius:u&&(f||m.borderRadius),datasetIndex:h.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};const Kr={average(t){if(!t.length)return!1;let e,n,i=new Set,l=0,c=0;for(e=0,n=t.length;e<n;++e){const f=t[e].element;if(f&&f.hasValue()){const h=f.tooltipPosition();i.add(h.x),l+=h.y,++c}}return c===0||i.size===0?!1:{x:[...i].reduce((f,h)=>f+h)/i.size,y:l/c}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,l=Number.POSITIVE_INFINITY,c,u,f;for(c=0,u=t.length;c<u;++c){const h=t[c].element;if(h&&h.hasValue()){const m=h.getCenterPoint(),y=nh(e,m);y<l&&(l=y,f=h)}}if(f){const h=f.tooltipPosition();n=h.x,i=h.y}return{x:n,y:i}}};function Ls(t,e){return e&&(ft(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function fn(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function $M(t,e){const{element:n,datasetIndex:i,index:l}=e,c=t.getDatasetMeta(i).controller,{label:u,value:f}=c.getLabelAndValue(l);return{chart:t,label:u,parsed:c.getParsed(l),raw:t.data.datasets[i].data[l],formattedValue:f,dataset:c.getDataset(),dataIndex:l,datasetIndex:i,element:n}}function By(t,e){const n=t.chart.ctx,{body:i,footer:l,title:c}=t,{boxWidth:u,boxHeight:f}=e,h=Ft(e.bodyFont),m=Ft(e.titleFont),y=Ft(e.footerFont),g=c.length,b=l.length,w=i.length,v=Es(e.padding);let j=v.height,N=0,M=i.reduce((U,B)=>U+B.before.length+B.lines.length+B.after.length,0);if(M+=t.beforeBody.length+t.afterBody.length,g&&(j+=g*m.lineHeight+(g-1)*e.titleSpacing+e.titleMarginBottom),M){const U=e.displayColors?Math.max(f,h.lineHeight):h.lineHeight;j+=w*U+(M-w)*h.lineHeight+(M-1)*e.bodySpacing}b&&(j+=e.footerMarginTop+b*y.lineHeight+(b-1)*e.footerSpacing);let E=0;const k=function(U){N=Math.max(N,n.measureText(U).width+E)};return n.save(),n.font=m.string,Ue(t.title,k),n.font=h.string,Ue(t.beforeBody.concat(t.afterBody),k),E=e.displayColors?u+2+e.boxPadding:0,Ue(i,U=>{Ue(U.before,k),Ue(U.lines,k),Ue(U.after,k)}),E=0,n.font=y.string,Ue(t.footer,k),n.restore(),N+=v.width,{width:N,height:j}}function YM(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function XM(t,e,n,i){const{x:l,width:c}=i,u=n.caretSize+n.caretPadding;if(t==="left"&&l+c+u>e.width||t==="right"&&l-c-u<0)return!0}function GM(t,e,n,i){const{x:l,width:c}=n,{width:u,chartArea:{left:f,right:h}}=t;let m="center";return i==="center"?m=l<=(f+h)/2?"left":"right":l<=c/2?m="left":l>=u-c/2&&(m="right"),XM(m,t,e,n)&&(m="center"),m}function Hy(t,e,n){const i=n.yAlign||e.yAlign||YM(t,n);return{xAlign:n.xAlign||e.xAlign||GM(t,e,n,i),yAlign:i}}function WM(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function QM(t,e,n){let{y:i,height:l}=t;return e==="top"?i+=n:e==="bottom"?i-=l+n:i-=l/2,i}function Uy(t,e,n,i){const{caretSize:l,caretPadding:c,cornerRadius:u}=t,{xAlign:f,yAlign:h}=n,m=l+c,{topLeft:y,topRight:g,bottomLeft:b,bottomRight:w}=Ri(u);let v=WM(e,f);const j=QM(e,h,m);return h==="center"?f==="left"?v+=m:f==="right"&&(v-=m):f==="left"?v-=Math.max(y,b)+l:f==="right"&&(v+=Math.max(g,w)+l),{x:Ct(v,0,i.width-e.width),y:Ct(j,0,i.height-e.height)}}function Jo(t,e,n){const i=Es(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function Py(t){return Ls([],fn(t))}function ZM(t,e,n){return Xa(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Fy(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const i1={beforeTitle:on,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:on,beforeBody:on,beforeLabel:on,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ze(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:on,afterBody:on,beforeFooter:on,footer:on,afterFooter:on};function Ut(t,e,n,i){const l=t[e].call(n,i);return typeof l>"u"?i1[e].call(n,i):l}class qy extends la{static positioners=Kr;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),l=i.enabled&&n.options.animation&&i.animations,c=new Fv(this.chart,l);return l._cacheable&&(this._cachedAnimations=Object.freeze(c)),c}getContext(){return this.$context||(this.$context=ZM(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,l=Ut(i,"beforeTitle",this,e),c=Ut(i,"title",this,e),u=Ut(i,"afterTitle",this,e);let f=[];return f=Ls(f,fn(l)),f=Ls(f,fn(c)),f=Ls(f,fn(u)),f}getBeforeBody(e,n){return Py(Ut(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,l=[];return Ue(e,c=>{const u={before:[],lines:[],after:[]},f=Fy(i,c);Ls(u.before,fn(Ut(f,"beforeLabel",this,c))),Ls(u.lines,Ut(f,"label",this,c)),Ls(u.after,fn(Ut(f,"afterLabel",this,c))),l.push(u)}),l}getAfterBody(e,n){return Py(Ut(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,l=Ut(i,"beforeFooter",this,e),c=Ut(i,"footer",this,e),u=Ut(i,"afterFooter",this,e);let f=[];return f=Ls(f,fn(l)),f=Ls(f,fn(c)),f=Ls(f,fn(u)),f}_createItems(e){const n=this._active,i=this.chart.data,l=[],c=[],u=[];let f=[],h,m;for(h=0,m=n.length;h<m;++h)f.push($M(this.chart,n[h]));return e.filter&&(f=f.filter((y,g,b)=>e.filter(y,g,b,i))),e.itemSort&&(f=f.sort((y,g)=>e.itemSort(y,g,i))),Ue(f,y=>{const g=Fy(e.callbacks,y);l.push(Ut(g,"labelColor",this,y)),c.push(Ut(g,"labelPointStyle",this,y)),u.push(Ut(g,"labelTextColor",this,y))}),this.labelColors=l,this.labelPointStyles=c,this.labelTextColors=u,this.dataPoints=f,f}update(e,n){const i=this.options.setContext(this.getContext()),l=this._active;let c,u=[];if(!l.length)this.opacity!==0&&(c={opacity:0});else{const f=Kr[i.position].call(this,l,this._eventPosition);u=this._createItems(i),this.title=this.getTitle(u,i),this.beforeBody=this.getBeforeBody(u,i),this.body=this.getBody(u,i),this.afterBody=this.getAfterBody(u,i),this.footer=this.getFooter(u,i);const h=this._size=By(this,i),m=Object.assign({},f,h),y=Hy(this.chart,i,m),g=Uy(i,m,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,c={opacity:1,x:g.x,y:g.y,width:h.width,height:h.height,caretX:f.x,caretY:f.y}}this._tooltipItems=u,this.$context=void 0,c&&this._resolveAnimations().update(this,c),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,l){const c=this.getCaretPosition(e,i,l);n.lineTo(c.x1,c.y1),n.lineTo(c.x2,c.y2),n.lineTo(c.x3,c.y3)}getCaretPosition(e,n,i){const{xAlign:l,yAlign:c}=this,{caretSize:u,cornerRadius:f}=i,{topLeft:h,topRight:m,bottomLeft:y,bottomRight:g}=Ri(f),{x:b,y:w}=e,{width:v,height:j}=n;let N,M,E,k,U,B;return c==="center"?(U=w+j/2,l==="left"?(N=b,M=N-u,k=U+u,B=U-u):(N=b+v,M=N+u,k=U-u,B=U+u),E=N):(l==="left"?M=b+Math.max(h,y)+u:l==="right"?M=b+v-Math.max(m,g)-u:M=this.caretX,c==="top"?(k=w,U=k-u,N=M-u,E=M+u):(k=w+j,U=k+u,N=M+u,E=M-u),B=k),{x1:N,x2:M,x3:E,y1:k,y2:U,y3:B}}drawTitle(e,n,i){const l=this.title,c=l.length;let u,f,h;if(c){const m=zi(i.rtl,this.x,this.width);for(e.x=Jo(this,i.titleAlign,i),n.textAlign=m.textAlign(i.titleAlign),n.textBaseline="middle",u=Ft(i.titleFont),f=i.titleSpacing,n.fillStyle=i.titleColor,n.font=u.string,h=0;h<c;++h)n.fillText(l[h],m.x(e.x),e.y+u.lineHeight/2),e.y+=u.lineHeight+f,h+1===c&&(e.y+=i.titleMarginBottom-f)}}_drawColorBox(e,n,i,l,c){const u=this.labelColors[i],f=this.labelPointStyles[i],{boxHeight:h,boxWidth:m}=c,y=Ft(c.bodyFont),g=Jo(this,"left",c),b=l.x(g),w=h<y.lineHeight?(y.lineHeight-h)/2:0,v=n.y+w;if(c.usePointStyle){const j={radius:Math.min(m,h)/2,pointStyle:f.pointStyle,rotation:f.rotation,borderWidth:1},N=l.leftForLtr(b,m)+m/2,M=v+h/2;e.strokeStyle=c.multiKeyBackground,e.fillStyle=c.multiKeyBackground,ih(e,j,N,M),e.strokeStyle=u.borderColor,e.fillStyle=u.backgroundColor,ih(e,j,N,M)}else{e.lineWidth=Te(u.borderWidth)?Math.max(...Object.values(u.borderWidth)):u.borderWidth||1,e.strokeStyle=u.borderColor,e.setLineDash(u.borderDash||[]),e.lineDashOffset=u.borderDashOffset||0;const j=l.leftForLtr(b,m),N=l.leftForLtr(l.xPlus(b,1),m-2),M=Ri(u.borderRadius);Object.values(M).some(E=>E!==0)?(e.beginPath(),e.fillStyle=c.multiKeyBackground,_c(e,{x:j,y:v,w:m,h,radius:M}),e.fill(),e.stroke(),e.fillStyle=u.backgroundColor,e.beginPath(),_c(e,{x:N,y:v+1,w:m-2,h:h-2,radius:M}),e.fill()):(e.fillStyle=c.multiKeyBackground,e.fillRect(j,v,m,h),e.strokeRect(j,v,m,h),e.fillStyle=u.backgroundColor,e.fillRect(N,v+1,m-2,h-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:l}=this,{bodySpacing:c,bodyAlign:u,displayColors:f,boxHeight:h,boxWidth:m,boxPadding:y}=i,g=Ft(i.bodyFont);let b=g.lineHeight,w=0;const v=zi(i.rtl,this.x,this.width),j=function(q){n.fillText(q,v.x(e.x+w),e.y+b/2),e.y+=b+c},N=v.textAlign(u);let M,E,k,U,B,I,R;for(n.textAlign=u,n.textBaseline="middle",n.font=g.string,e.x=Jo(this,N,i),n.fillStyle=i.bodyColor,Ue(this.beforeBody,j),w=f&&N!=="right"?u==="center"?m/2+y:m+2+y:0,U=0,I=l.length;U<I;++U){for(M=l[U],E=this.labelTextColors[U],n.fillStyle=E,Ue(M.before,j),k=M.lines,f&&k.length&&(this._drawColorBox(n,e,U,v,i),b=Math.max(g.lineHeight,h)),B=0,R=k.length;B<R;++B)j(k[B]),b=g.lineHeight;Ue(M.after,j)}w=0,b=g.lineHeight,Ue(this.afterBody,j),e.y-=c}drawFooter(e,n,i){const l=this.footer,c=l.length;let u,f;if(c){const h=zi(i.rtl,this.x,this.width);for(e.x=Jo(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=h.textAlign(i.footerAlign),n.textBaseline="middle",u=Ft(i.footerFont),n.fillStyle=i.footerColor,n.font=u.string,f=0;f<c;++f)n.fillText(l[f],h.x(e.x),e.y+u.lineHeight/2),e.y+=u.lineHeight+i.footerSpacing}}drawBackground(e,n,i,l){const{xAlign:c,yAlign:u}=this,{x:f,y:h}=e,{width:m,height:y}=i,{topLeft:g,topRight:b,bottomLeft:w,bottomRight:v}=Ri(l.cornerRadius);n.fillStyle=l.backgroundColor,n.strokeStyle=l.borderColor,n.lineWidth=l.borderWidth,n.beginPath(),n.moveTo(f+g,h),u==="top"&&this.drawCaret(e,n,i,l),n.lineTo(f+m-b,h),n.quadraticCurveTo(f+m,h,f+m,h+b),u==="center"&&c==="right"&&this.drawCaret(e,n,i,l),n.lineTo(f+m,h+y-v),n.quadraticCurveTo(f+m,h+y,f+m-v,h+y),u==="bottom"&&this.drawCaret(e,n,i,l),n.lineTo(f+w,h+y),n.quadraticCurveTo(f,h+y,f,h+y-w),u==="center"&&c==="left"&&this.drawCaret(e,n,i,l),n.lineTo(f,h+g),n.quadraticCurveTo(f,h,f+g,h),n.closePath(),n.fill(),l.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,l=i&&i.x,c=i&&i.y;if(l||c){const u=Kr[e.position].call(this,this._active,this._eventPosition);if(!u)return;const f=this._size=By(this,e),h=Object.assign({},u,this._size),m=Hy(n,e,h),y=Uy(e,h,m,n);(l._to!==y.x||c._to!==y.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=f.width,this.height=f.height,this.caretX=u.x,this.caretY=u.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const l={width:this.width,height:this.height},c={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const u=Es(n.padding),f=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&f&&(e.save(),e.globalAlpha=i,this.drawBackground(c,e,l,n),zv(e,n.textDirection),c.y+=u.top,this.drawTitle(c,e,n),this.drawBody(c,e,n),this.drawFooter(c,e,n),Lv(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,l=e.map(({datasetIndex:f,index:h})=>{const m=this.chart.getDatasetMeta(f);if(!m)throw new Error("Cannot find a dataset at index "+f);return{datasetIndex:f,element:m.data[h],index:h}}),c=!yc(i,l),u=this._positionChanged(l,n);(c||u)&&(this._active=l,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const l=this.options,c=this._active||[],u=this._getActiveElements(e,c,n,i),f=this._positionChanged(u,e),h=n||!yc(u,c)||f;return h&&(this._active=u,(l.enabled||l.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),h}_getActiveElements(e,n,i,l){const c=this.options;if(e.type==="mouseout")return[];if(!l)return n.filter(f=>this.chart.data.datasets[f.datasetIndex]&&this.chart.getDatasetMeta(f.datasetIndex).controller.getParsed(f.index)!==void 0);const u=this.chart.getElementsAtEventForMode(e,c.mode,c,i);return c.reverse&&u.reverse(),u}_positionChanged(e,n){const{caretX:i,caretY:l,options:c}=this,u=Kr[c.position].call(this,e,n);return u!==!1&&(i!==u.x||l!==u.y)}}var KM={id:"tooltip",_element:qy,positioners:Kr,afterInit(t,e,n){n&&(t.tooltip=new qy({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:i1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const IM=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function JM(t,e,n,i){const l=t.indexOf(e);if(l===-1)return IM(t,e,n,i);const c=t.lastIndexOf(e);return l!==c?n:l}const eE=(t,e)=>t===null?null:Ct(Math.round(t),0,e);function Vy(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class tE extends Yi{static id="category";static defaults={ticks:{callback:Vy}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:l,label:c}of n)i[l]===c&&i.splice(l,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(ze(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:JM(i,e,je(n,e),this._addedLabels),eE(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:l}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(l=this.getLabels().length-1)),this.min=i,this.max=l}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,l=[];let c=this.getLabels();c=e===0&&n===c.length-1?c:c.slice(e,n+1),this._valueRange=Math.max(c.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let u=e;u<=n;u++)l.push({value:u});return l}getLabelForValue(e){return Vy.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function sE(t,e){const n=[],{bounds:l,step:c,min:u,max:f,precision:h,count:m,maxTicks:y,maxDigits:g,includeBounds:b}=t,w=c||1,v=y-1,{min:j,max:N}=e,M=!ze(u),E=!ze(f),k=!ze(m),U=(N-j)/(g+1);let B=Ux((N-j)/v/w)*w,I,R,q,z;if(B<1e-14&&!M&&!E)return[{value:j},{value:N}];z=Math.ceil(N/B)-Math.floor(j/B),z>v&&(B=Ux(z*B/v/w)*w),ze(h)||(I=Math.pow(10,h),B=Math.ceil(B*I)/I),l==="ticks"?(R=Math.floor(j/B)*B,q=Math.ceil(N/B)*B):(R=j,q=N),M&&E&&c&&e4((f-u)/c,B/1e3)?(z=Math.round(Math.min((f-u)/B,y)),B=(f-u)/z,R=u,q=f):k?(R=M?u:R,q=E?f:q,z=m-1,B=(q-R)/z):(z=(q-R)/B,el(z,Math.round(z),B/1e3)?z=Math.round(z):z=Math.ceil(z));const P=Math.max(Px(B),Px(R));I=Math.pow(10,ze(h)?P:h),R=Math.round(R*I)/I,q=Math.round(q*I)/I;let K=0;for(M&&(b&&R!==u?(n.push({value:u}),R<u&&K++,el(Math.round((R+K*B)*I)/I,u,$y(u,U,t))&&K++):R<u&&K++);K<z;++K){const le=Math.round((R+K*B)*I)/I;if(E&&le>f)break;n.push({value:le})}return E&&b&&q!==f?n.length&&el(n[n.length-1].value,f,$y(f,U,t))?n[n.length-1].value=f:n.push({value:f}):(!E||q===f)&&n.push({value:q}),n}function $y(t,e,{horizontal:n,minRotation:i}){const l=pn(i),c=(n?Math.sin(l):Math.cos(l))||.001,u=.75*e*(""+t).length;return Math.min(e/c,u)}class nE extends Yi{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ze(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:l,max:c}=this;const u=h=>l=n?l:h,f=h=>c=i?c:h;if(e){const h=Ps(l),m=Ps(c);h<0&&m<0?f(0):h>0&&m>0&&u(0)}if(l===c){let h=c===0?1:Math.abs(c*.05);f(c+h),e||u(l-h)}this.min=l,this.max=c}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,l;return i?(l=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,l>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${l} ticks. Limiting to 1000.`),l=1e3)):(l=this.computeTickLimit(),n=n||11),n&&(l=Math.min(n,l)),l}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const l={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},c=this._range||this,u=sE(l,c);return e.bounds==="ticks"&&t4(u,this,"value"),e.reverse?(u.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),u}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const l=(i-n)/Math.max(e.length-1,1)/2;n-=l,i+=l}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return zh(e,this.chart.options.locale,this.options.ticks.format)}}class aE extends nE{static id="linear";static defaults={ticks:{callback:Mv.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Mt(e)?e:0,this.max=Mt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=pn(this.options.ticks.minRotation),l=(e?Math.sin(i):Math.cos(i))||.001,c=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,c.lineHeight/l))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Qc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Pt=Object.keys(Qc);function Yy(t,e){return t-e}function Xy(t,e){if(ze(e))return null;const n=t._adapter,{parser:i,round:l,isoWeekday:c}=t._parseOpts;let u=e;return typeof i=="function"&&(u=i(u)),Mt(u)||(u=typeof i=="string"?n.parse(u,i):n.parse(u)),u===null?null:(l&&(u=l==="week"&&(ol(c)||c===!0)?n.startOf(u,"isoWeek",c):n.startOf(u,l)),+u)}function Gy(t,e,n,i){const l=Pt.length;for(let c=Pt.indexOf(t);c<l-1;++c){const u=Qc[Pt[c]],f=u.steps?u.steps:Number.MAX_SAFE_INTEGER;if(u.common&&Math.ceil((n-e)/(f*u.size))<=i)return Pt[c]}return Pt[l-1]}function iE(t,e,n,i,l){for(let c=Pt.length-1;c>=Pt.indexOf(n);c--){const u=Pt[c];if(Qc[u].common&&t._adapter.diff(l,i,u)>=e-1)return u}return Pt[n?Pt.indexOf(n):0]}function rE(t){for(let e=Pt.indexOf(t)+1,n=Pt.length;e<n;++e)if(Qc[Pt[e]].common)return Pt[e]}function Wy(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:l}=Oh(n,e),c=n[i]>=e?n[i]:n[l];t[c]=!0}}function lE(t,e,n,i){const l=t._adapter,c=+l.startOf(e[0].value,i),u=e[e.length-1].value;let f,h;for(f=c;f<=u;f=+l.add(f,1,i))h=n[f],h>=0&&(e[h].major=!0);return e}function Qy(t,e,n){const i=[],l={},c=e.length;let u,f;for(u=0;u<c;++u)f=e[u],l[f]=u,i.push({value:f,major:!1});return c===0||!n?i:lE(t,i,l,n)}class Zy extends Yi{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),l=this._adapter=new P3._date(e.adapters.date);l.init(n),Jr(i.displayFormats,l.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Xy(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:l,max:c,minDefined:u,maxDefined:f}=this.getUserBounds();function h(m){!u&&!isNaN(m.min)&&(l=Math.min(l,m.min)),!f&&!isNaN(m.max)&&(c=Math.max(c,m.max))}(!u||!f)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),l=Mt(l)&&!isNaN(l)?l:+n.startOf(Date.now(),i),c=Mt(c)&&!isNaN(c)?c:+n.endOf(Date.now(),i)+1,this.min=Math.min(l,c-1),this.max=Math.max(l+1,c)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,l=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&l.length&&(this.min=this._userMin||l[0],this.max=this._userMax||l[l.length-1]);const c=this.min,u=this.max,f=r4(l,c,u);return this._unit=n.unit||(i.autoSkip?Gy(n.minUnit,this.min,this.max,this._getLabelCapacity(c)):iE(this,f.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:rE(this._unit),this.initOffsets(l),e.reverse&&f.reverse(),Qy(this,f,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,l,c;this.options.offset&&e.length&&(l=this.getDecimalForValue(e[0]),e.length===1?n=1-l:n=(this.getDecimalForValue(e[1])-l)/2,c=this.getDecimalForValue(e[e.length-1]),e.length===1?i=c:i=(c-this.getDecimalForValue(e[e.length-2]))/2);const u=e.length<3?.5:.25;n=Ct(n,0,u),i=Ct(i,0,u),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,l=this.options,c=l.time,u=c.unit||Gy(c.minUnit,n,i,this._getLabelCapacity(n)),f=je(l.ticks.stepSize,1),h=u==="week"?c.isoWeekday:!1,m=ol(h)||h===!0,y={};let g=n,b,w;if(m&&(g=+e.startOf(g,"isoWeek",h)),g=+e.startOf(g,m?"day":u),e.diff(i,n,u)>1e5*f)throw new Error(n+" and "+i+" are too far apart with stepSize of "+f+" "+u);const v=l.ticks.source==="data"&&this.getDataTimestamps();for(b=g,w=0;b<i;b=+e.add(b,f,u),w++)Wy(y,b,v);return(b===i||l.bounds==="ticks"||w===1)&&Wy(y,b,v),Object.keys(y).sort(Yy).map(j=>+j)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const l=this.options.time.displayFormats,c=this._unit,u=n||l[c];return this._adapter.format(e,u)}_tickFormatFunction(e,n,i,l){const c=this.options,u=c.ticks.callback;if(u)return Ge(u,[e,n,i],this);const f=c.time.displayFormats,h=this._unit,m=this._majorUnit,y=h&&f[h],g=m&&f[m],b=i[n],w=m&&g&&b&&b.major;return this._adapter.format(e,l||(w?g:y))}generateTickLabels(e){let n,i,l;for(n=0,i=e.length;n<i;++n)l=e[n],l.label=this._tickFormatFunction(l.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,l=pn(this.isHorizontal()?n.maxRotation:n.minRotation),c=Math.cos(l),u=Math.sin(l),f=this._resolveTickFontOptions(0).size;return{w:i*c+f*u,h:i*u+f*c}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,l=i[n.unit]||i.millisecond,c=this._tickFormatFunction(e,0,Qy(this,[e],this._majorUnit),l),u=this._getLabelSize(c),f=Math.floor(this.isHorizontal()?this.width/u.w:this.height/u.h)-1;return f>0?f:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const l=this.getMatchingVisibleMetas();if(this._normalized&&l.length)return this._cache.data=l[0].controller.getAllParsedValues(this);for(n=0,i=l.length;n<i;++n)e=e.concat(l[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const l=this.getLabels();for(n=0,i=l.length;n<i;++n)e.push(Xy(this,l[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return wv(e.sort(Yy))}}function ec(t,e,n){let i=0,l=t.length-1,c,u,f,h;n?(e>=t[i].pos&&e<=t[l].pos&&({lo:i,hi:l}=za(t,"pos",e)),{pos:c,time:f}=t[i],{pos:u,time:h}=t[l]):(e>=t[i].time&&e<=t[l].time&&({lo:i,hi:l}=za(t,"time",e)),{time:c,pos:f}=t[i],{time:u,pos:h}=t[l]);const m=u-c;return m?f+(h-f)*(e-c)/m:f}class i6 extends Zy{static id="timeseries";static defaults=Zy.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=ec(n,this.min),this._tableRange=ec(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,l=[],c=[];let u,f,h,m,y;for(u=0,f=e.length;u<f;++u)m=e[u],m>=n&&m<=i&&l.push(m);if(l.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(u=0,f=l.length;u<f;++u)y=l[u+1],h=l[u-1],m=l[u],Math.round((y+h)/2)!==m&&c.push({time:m,pos:u/(f-1)});return c}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((l,c)=>l-c)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(ec(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return ec(this._table,i*this._tableRange+this._minPos,!0)}}const r1="label";function Ky(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function oE(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function l1(t,e){t.labels=e}function o1(t,e,n=r1){const i=[];t.datasets=e.map(l=>{const c=t.datasets.find(u=>u[n]===l[n]);return!c||!l.data||i.includes(c)?{...l}:(i.push(c),Object.assign(c,l),c)})}function cE(t,e=r1){const n={labels:[],datasets:[]};return l1(n,t.labels),o1(n,t.datasets,e),n}function uE(t,e){const{height:n=150,width:i=300,redraw:l=!1,datasetIdKey:c,type:u,data:f,options:h,plugins:m=[],fallbackContent:y,updateMode:g,...b}=t,w=S.useRef(null),v=S.useRef(null),j=()=>{w.current&&(v.current=new Xc(w.current,{type:u,data:cE(f,c),options:h&&{...h},plugins:m}),Ky(e,v.current))},N=()=>{Ky(e,null),v.current&&(v.current.destroy(),v.current=null)};return S.useEffect(()=>{!l&&v.current&&h&&oE(v.current,h)},[l,h]),S.useEffect(()=>{!l&&v.current&&l1(v.current.config.data,f.labels)},[l,f.labels]),S.useEffect(()=>{!l&&v.current&&f.datasets&&o1(v.current.config.data,f.datasets,c)},[l,f.datasets]),S.useEffect(()=>{v.current&&(l?(N(),setTimeout(j)):v.current.update(g))},[l,h,f.labels,f.datasets,g]),S.useEffect(()=>{v.current&&(N(),setTimeout(j))},[u]),S.useEffect(()=>(j(),()=>N()),[]),r.jsx("canvas",{ref:w,role:"img",height:n,width:i,...b,children:y})}const dE=S.forwardRef(uE);function Vh(t,e){return Xc.register(e),S.forwardRef((n,i)=>r.jsx(dE,{...n,ref:i,type:t}))}const fE=Vh("line",U3),Iy=Vh("bar",L3),Jy=Vh("doughnut",H3);Xc.register(tE,aE,xM,Gc,dM,tM,BM,KM,VM);const eb={Draft:"#94a3b8",Planning:"#3b82f6","In progress":"#f59e0b","On hold":"#f97316",Completed:"#10b981",Cancelled:"#ef4444",Pending:"#94a3b8","In review":"#8b5cf6"},hE={low:"bg-slate-100 text-slate-600",medium:"bg-blue-100 text-blue-700",high:"bg-amber-100 text-amber-700",critical:"bg-red-100 text-red-700"},tb={draft:"bg-slate-100 text-slate-600",planning:"bg-blue-100 text-blue-700",in_progress:"bg-amber-100 text-amber-700",on_hold:"bg-orange-100 text-orange-700",completed:"bg-emerald-100 text-emerald-700",cancelled:"bg-red-100 text-red-700",pending:"bg-slate-100 text-slate-600",in_review:"bg-violet-100 text-violet-700"},Nt={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{font:{size:12,family:"Inter, sans-serif"},color:"#64748b",padding:16,usePointStyle:!0,pointStyleWidth:8}},tooltip:{backgroundColor:"#1e293b",titleFont:{size:13,family:"Inter, sans-serif"},bodyFont:{size:12,family:"Inter, sans-serif"},padding:12,cornerRadius:8,displayColors:!0,boxPadding:4}}};function Ir(t){return t>=1e6?`$${(t/1e6).toFixed(1)}M`:t>=1e3?`$${(t/1e3).toFixed(0)}K`:`$${Number(t).toLocaleString()}`}function mE({label:t,value:e,icon:n,color:i,subtitle:l,format:c}){const u=c==="currency"?Ir(e??0):e??0;return r.jsxs("div",{className:"group relative overflow-hidden rounded-xl bg-white p-5 shadow-sm ring-1 ring-slate-200/60 transition-all hover:shadow-md hover:ring-slate-300",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-slate-500",children:t}),r.jsx("p",{className:`mt-2 text-2xl font-bold tracking-tight ${i?.text||"text-slate-900"}`,children:u}),l&&r.jsx("p",{className:"mt-1 text-xs text-slate-400",children:l})]}),r.jsx("div",{className:`flex h-11 w-11 shrink-0 items-center justify-center rounded-lg ${i?.bg||"bg-slate-50"}`,children:r.jsx(n,{className:`h-5 w-5 ${i?.icon||"text-slate-500"}`})})]}),r.jsx("div",{className:`absolute bottom-0 left-0 h-1 w-full ${i?.bar||"bg-slate-200"}`})]})}function Gr({title:t,children:e,className:n=""}){return r.jsxs("div",{className:`rounded-xl bg-white p-5 shadow-sm ring-1 ring-slate-200/60 ${n}`,children:[r.jsx("h3",{className:"mb-4 text-sm font-semibold text-slate-700",children:t}),e]})}function sb(){const{user:t,can:e}=At(),[n,i]=S.useState(null),[l,c]=S.useState(!0);S.useEffect(()=>{v5.getData().then(v=>i(v.data)).catch(()=>{}).finally(()=>c(!1))},[]);const u=S.useMemo(()=>{if(!n?.stats)return[];const v=n.stats,j=[{label:"Total Projects",value:v.total_projects,icon:xc,color:{bg:"bg-blue-50",icon:"text-blue-600",text:"text-blue-700",bar:"bg-blue-500"}},{label:"Active Projects",value:v.active_projects,icon:a5,color:{bg:"bg-sky-50",icon:"text-sky-600",text:"text-sky-700",bar:"bg-sky-500"}},{label:"Delayed Projects",value:v.delayed_projects,icon:Ch,color:{bg:"bg-red-50",icon:"text-red-500",text:"text-red-600",bar:"bg-red-500"},subtitle:"Past deadline"}];return v.total_revenue!==void 0&&j.push({label:"Total Revenue",value:v.total_revenue,format:"currency",icon:$i,color:{bg:"bg-emerald-50",icon:"text-emerald-600",text:"text-emerald-700",bar:"bg-emerald-500"},subtitle:"Contract value"}),v.pending_invoices!==void 0&&j.push({label:"Pending Invoices",value:v.pending_invoices,format:"currency",icon:Ya,color:{bg:"bg-amber-50",icon:"text-amber-600",text:"text-amber-700",bar:"bg-amber-500"},subtitle:"Unbilled amount"}),v.staff_present_today!==void 0&&j.push({label:"Staff Today",value:`${v.staff_present_today}/${v.total_staff}`,icon:Pc,color:{bg:"bg-indigo-50",icon:"text-indigo-600",text:"text-indigo-700",bar:"bg-indigo-500"},subtitle:"Active personnel"}),j.push({label:"Safety Incidents",value:v.safety_incidents,icon:hv,color:{bg:v.safety_incidents>0?"bg-red-50":"bg-emerald-50",icon:v.safety_incidents>0?"text-red-500":"text-emerald-600",text:v.safety_incidents>0?"text-red-600":"text-emerald-700",bar:v.safety_incidents>0?"bg-red-500":"bg-emerald-500"},subtitle:"This month"}),j},[n?.stats]),f=S.useMemo(()=>{const v=n?.charts?.project_status||[];return v.length?{data:{labels:v.map(j=>j.label),datasets:[{data:v.map(j=>j.value),backgroundColor:v.map(j=>eb[j.label]||"#94a3b8"),borderWidth:0,hoverOffset:4}]},options:{...Nt,cutout:"68%",plugins:{...Nt.plugins,legend:{...Nt.plugins.legend,position:"bottom"}}}}:null},[n?.charts?.project_status]),h=S.useMemo(()=>{const v=n?.charts?.task_status||[];return v.length?{data:{labels:v.map(j=>j.label),datasets:[{data:v.map(j=>j.value),backgroundColor:v.map(j=>eb[j.label]||"#94a3b8"),borderWidth:0,hoverOffset:4}]},options:{...Nt,cutout:"68%",plugins:{...Nt.plugins,legend:{...Nt.plugins.legend,position:"bottom"}}}}:null},[n?.charts?.task_status]),m=S.useMemo(()=>{const v=n?.charts?.budget_by_status||[];return v.length?{data:{labels:v.map(j=>j.label),datasets:[{label:"Budget",data:v.map(j=>j.budget),backgroundColor:"rgba(37, 99, 235, 0.8)",borderRadius:6,borderSkipped:!1,barPercentage:.6,categoryPercentage:.7},{label:"Spent",data:v.map(j=>j.spent),backgroundColor:"rgba(14, 165, 233, 0.6)",borderRadius:6,borderSkipped:!1,barPercentage:.6,categoryPercentage:.7}]},options:{...Nt,scales:{x:{grid:{display:!1},ticks:{font:{size:11,family:"Inter, sans-serif"},color:"#94a3b8"}},y:{grid:{color:"rgba(148, 163, 184, 0.1)"},ticks:{font:{size:11,family:"Inter, sans-serif"},color:"#94a3b8",callback:j=>Ir(j)}}},plugins:{...Nt.plugins,legend:{...Nt.plugins.legend,position:"top"},tooltip:{...Nt.plugins.tooltip,callbacks:{label:j=>`${j.dataset.label}: ${Ir(j.raw)}`}}}}}:null},[n?.charts?.budget_by_status]),y=S.useMemo(()=>{const v=n?.charts?.monthly_projects||[];return v.length?{data:{labels:v.map(j=>j.label),datasets:[{label:"Projects Created",data:v.map(j=>j.value),borderColor:"#2563eb",backgroundColor:"rgba(37, 99, 235, 0.08)",tension:.4,fill:!0,pointBackgroundColor:"#2563eb",pointBorderColor:"#fff",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}]},options:{...Nt,scales:{x:{grid:{display:!1},ticks:{font:{size:10,family:"Inter, sans-serif"},color:"#94a3b8",maxRotation:45}},y:{beginAtZero:!0,grid:{color:"rgba(148, 163, 184, 0.1)"},ticks:{font:{size:11,family:"Inter, sans-serif"},color:"#94a3b8",stepSize:1}}},plugins:{...Nt.plugins,legend:{display:!1}}}}:null},[n?.charts?.monthly_projects]),g=S.useMemo(()=>{const v=n?.charts?.top_projects||[];return v.length?{data:{labels:v.map(j=>j.name.length>20?j.name.slice(0,20)+"...":j.name),datasets:[{label:"Budget",data:v.map(j=>j.budget),backgroundColor:"rgba(37, 99, 235, 0.8)",borderRadius:4,borderSkipped:!1},{label:"Spent",data:v.map(j=>j.spent),backgroundColor:"rgba(16, 185, 129, 0.7)",borderRadius:4,borderSkipped:!1}]},options:{...Nt,indexAxis:"y",scales:{x:{grid:{color:"rgba(148, 163, 184, 0.1)"},ticks:{font:{size:11,family:"Inter, sans-serif"},color:"#94a3b8",callback:j=>Ir(j)}},y:{grid:{display:!1},ticks:{font:{size:11,family:"Inter, sans-serif"},color:"#64748b"}}},plugins:{...Nt.plugins,legend:{...Nt.plugins.legend,position:"top"},tooltip:{...Nt.plugins.tooltip,callbacks:{label:j=>`${j.dataset.label}: ${Ir(j.raw)}`}}}}}:null},[n?.charts?.top_projects]);if(l)return r.jsx(mt,{});const b=n?.my_tasks||[],w=n?.recent_projects||[];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-end sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold tracking-tight text-slate-900",children:"Dashboard"}),r.jsxs("p",{className:"text-sm text-slate-500",children:["Welcome back, ",t?.first_name,". Here is your project overview."]})]}),r.jsxs("div",{className:"flex items-center gap-1.5 rounded-lg bg-slate-100 px-3 py-1.5 text-xs font-medium text-slate-500",children:[r.jsx(u5,{className:"h-3.5 w-3.5"}),"Live overview"]})]}),r.jsx("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-7",children:u.map(v=>r.jsx(mE,{...v},v.label))}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[r.jsx(Gr,{title:"Project Status Distribution",children:r.jsx("div",{className:"h-64",children:f?r.jsx(Jy,{data:f.data,options:f.options}):r.jsx(tc,{})})}),r.jsx(Gr,{title:"Budget vs Spent by Status",className:"lg:col-span-2",children:r.jsx("div",{className:"h-64",children:m?r.jsx(Iy,{data:m.data,options:m.options}):r.jsx(tc,{})})})]}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[r.jsx(Gr,{title:"Project Creation Trend (12 Months)",className:"lg:col-span-2",children:r.jsx("div",{className:"h-64",children:y?r.jsx(fE,{data:y.data,options:y.options}):r.jsx(tc,{})})}),r.jsx(Gr,{title:"Task Status Breakdown",children:r.jsx("div",{className:"h-64",children:h?r.jsx(Jy,{data:h.data,options:h.options}):r.jsx(tc,{})})})]}),g&&r.jsx(Gr,{title:"Top Projects by Budget",children:r.jsx("div",{className:"h-64",children:r.jsx(Iy,{data:g.data,options:g.options})})}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[r.jsxs("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-slate-200/60",children:[r.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 px-5 py-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(al,{className:"h-5 w-5 text-slate-400"}),r.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:"My Tasks"})]}),e("tasks.view")&&r.jsxs(Le,{to:"/tasks",className:"flex items-center gap-1 text-xs font-medium text-blue-600 hover:text-blue-500",children:["View all ",r.jsx(Tx,{className:"h-3.5 w-3.5"})]})]}),r.jsx("div",{className:"divide-y divide-slate-100",children:b.length===0?r.jsx("p",{className:"px-5 py-10 text-center text-sm text-slate-400",children:"No pending tasks"}):b.map(v=>r.jsxs("div",{className:"flex items-center justify-between px-5 py-3 transition-colors hover:bg-slate-50/50",children:[r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"truncate text-sm font-medium text-slate-800",children:v.title}),r.jsxs("p",{className:"text-xs text-slate-400",children:[v.project?.name,v.due_date&&r.jsxs("span",{className:"ml-2 text-slate-400",children:["Due ",v.due_date]})]})]}),r.jsxs("div",{className:"ml-4 flex items-center gap-2",children:[r.jsx("span",{className:`rounded-full px-2 py-0.5 text-[10px] font-semibold uppercase tracking-wide ${hE[v.priority]}`,children:v.priority}),r.jsx("span",{className:`rounded-full px-2 py-0.5 text-[10px] font-semibold uppercase tracking-wide ${tb[v.status]||"bg-slate-100 text-slate-600"}`,children:v.status.replace(/_/g," ")})]})]},v.id))})]}),w.length>0&&r.jsxs("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-slate-200/60",children:[r.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 px-5 py-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(xc,{className:"h-5 w-5 text-slate-400"}),r.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:"Recent Projects"})]}),e("projects.view")&&r.jsxs(Le,{to:"/projects",className:"flex items-center gap-1 text-xs font-medium text-blue-600 hover:text-blue-500",children:["View all ",r.jsx(Tx,{className:"h-3.5 w-3.5"})]})]}),r.jsx("div",{className:"divide-y divide-slate-100",children:w.map(v=>r.jsxs(Le,{to:`/projects/${v.id}`,className:"flex items-center justify-between px-5 py-3 transition-colors hover:bg-slate-50/50",children:[r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"truncate text-sm font-medium text-slate-800",children:v.name}),r.jsxs("p",{className:"text-xs text-slate-400",children:[v.code,v.client&&r.jsxs("span",{className:"ml-1",children:[" ",v.client]})]})]}),r.jsxs("div",{className:"ml-4 flex items-center gap-3",children:[r.jsxs("div",{className:"w-20",children:[r.jsxs("div",{className:"mb-1 text-right text-[10px] font-medium text-slate-400",children:[v.progress,"%"]}),r.jsx("div",{className:"h-1.5 w-full overflow-hidden rounded-full bg-slate-100",children:r.jsx("div",{className:"h-full rounded-full bg-blue-500 transition-all",style:{width:`${v.progress}%`}})})]}),r.jsx("span",{className:`rounded-full px-2 py-0.5 text-[10px] font-semibold uppercase tracking-wide ${tb[v.status]||"bg-slate-100 text-slate-600"}`,children:v.status.replace(/_/g," ")})]})]},v.id))})]})]})]})}function tc(){return r.jsx("div",{className:"flex h-full items-center justify-center",children:r.jsx("p",{className:"text-sm text-slate-400",children:"No data available"})})}const _t={async list(t={}){return(await te.get("/projects",{params:t})).data},async get(t){return(await te.get(`/projects/${t}`)).data},async create(t){return(await te.post("/projects",t)).data},async update(t,e){return(await te.put(`/projects/${t}`,e)).data},async delete(t){return(await te.delete(`/projects/${t}`)).data},async getMilestones(t,e={}){return(await te.get(`/projects/${t}/milestones`,{params:e})).data},async createMilestone(t,e){return(await te.post(`/projects/${t}/milestones`,e)).data},async updateMilestone(t,e,n){return(await te.put(`/projects/${t}/milestones/${e}`,n)).data},async deleteMilestone(t,e){return(await te.delete(`/projects/${t}/milestones/${e}`)).data},async getSiteLogs(t,e={}){return(await te.get(`/projects/${t}/site-logs`,{params:e})).data},async createSiteLog(t,e){return(await te.post(`/projects/${t}/site-logs`,e)).data},async updateSiteLog(t,e,n){return(await te.put(`/projects/${t}/site-logs/${e}`,n)).data},async deleteSiteLog(t,e){return(await te.delete(`/projects/${t}/site-logs/${e}`)).data},async getDocuments(t,e={}){return(await te.get(`/projects/${t}/documents`,{params:e})).data},async uploadDocument(t,e){return(await te.post(`/projects/${t}/documents`,e,{headers:{"Content-Type":"multipart/form-data"}})).data},async deleteDocument(t,e){return(await te.delete(`/projects/${t}/documents/${e}`)).data},getDocumentDownloadUrl(t,e){return`/api/projects/${t}/documents/${e}/download`},async getEvents(t,e={}){return(await te.get(`/projects/${t}/events`,{params:e})).data},async createEvent(t,e){return(await te.post(`/projects/${t}/events`,e)).data},async updateEvent(t,e,n){return(await te.put(`/projects/${t}/events/${e}`,n)).data},async deleteEvent(t,e){return(await te.delete(`/projects/${t}/events/${e}`)).data}},pE={draft:"bg-gray-100 text-gray-700",planning:"bg-blue-100 text-blue-700",in_progress:"bg-yellow-100 text-yellow-700",on_hold:"bg-orange-100 text-orange-700",completed:"bg-green-100 text-green-700",cancelled:"bg-red-100 text-red-700"},gE={low:"bg-gray-100 text-gray-600",medium:"bg-blue-100 text-blue-600",high:"bg-orange-100 text-orange-600",critical:"bg-red-100 text-red-600"};function xE(){const[t,e]=S.useState([]),[n,i]=S.useState(!0),[l,c]=S.useState(""),[u,f]=S.useState(""),h=async()=>{i(!0);try{const m={};l&&(m.search=l),u&&(m.status=u);const y=await _t.list(m);e(y.data?.data||[])}catch{e([])}finally{i(!1)}};return S.useEffect(()=>{h()},[u]),S.useEffect(()=>{const m=setTimeout(()=>{h()},400);return()=>clearTimeout(m)},[l]),r.jsxs("div",{children:[r.jsxs("div",{className:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Projects"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Manage all construction projects"})]}),r.jsxs(Le,{to:"/projects/create",className:"inline-flex items-center gap-2 rounded-lg bg-primary-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-primary-700",children:[r.jsx(Yt,{className:"h-5 w-5"}),"New Project"]})]}),r.jsxs("div",{className:"mb-6 flex flex-col gap-3 sm:flex-row",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(ia,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search projects...",value:l,onChange:m=>c(m.target.value),className:"w-full rounded-lg border border-gray-300 py-2.5 pl-10 pr-4 text-sm shadow-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"})]}),r.jsxs("select",{value:u,onChange:m=>f(m.target.value),className:"rounded-lg border border-gray-300 px-3.5 py-2.5 text-sm shadow-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500",children:[r.jsx("option",{value:"",children:"All Statuses"}),r.jsx("option",{value:"draft",children:"Draft"}),r.jsx("option",{value:"planning",children:"Planning"}),r.jsx("option",{value:"in_progress",children:"In Progress"}),r.jsx("option",{value:"on_hold",children:"On Hold"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),n?r.jsx(mt,{}):t.length===0?r.jsxs("div",{className:"rounded-xl bg-white py-12 text-center shadow-sm ring-1 ring-gray-200",children:[r.jsx(xc,{className:"mx-auto h-12 w-12 text-gray-300"}),r.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"No projects found"})]}):r.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:t.map(m=>r.jsxs(Le,{to:`/projects/${m.id}`,className:"group rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-200 transition-shadow hover:shadow-md",children:[r.jsxs("div",{className:"mb-3 flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900 group-hover:text-primary-600",children:m.name}),r.jsx("p",{className:"text-xs text-gray-500",children:m.code})]}),r.jsx("span",{className:`rounded-full px-2 py-0.5 text-xs font-medium ${gE[m.priority]}`,children:m.priority})]}),m.client&&r.jsxs("p",{className:"mb-3 text-xs text-gray-500",children:["Client: ",m.client.company_name]}),r.jsxs("div",{className:"mb-3",children:[r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-1",children:[r.jsx("span",{children:"Progress"}),r.jsxs("span",{children:[m.progress,"%"]})]}),r.jsx("div",{className:"h-2 w-full rounded-full bg-gray-200",children:r.jsx("div",{className:"h-2 rounded-full bg-primary-500 transition-all",style:{width:`${m.progress}%`}})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:`rounded-full px-2 py-0.5 text-xs font-medium ${pE[m.status]}`,children:m.status.replace("_"," ")}),m.end_date&&r.jsxs("span",{className:"text-xs text-gray-400",children:["Due: ",m.end_date]})]})]},m.id))})]})}const yE={name:"",code:"",description:"",client_id:"",manager_id:"",status:"draft",priority:"medium",start_date:"",end_date:"",budget:"",location:"",notes:"",member_ids:[]};function nb(){const{id:t}=Mc(),e=Va(),n=!!t,[i,l]=S.useState(yE),[c,u]=S.useState({}),[f,h]=S.useState(!1),[m,y]=S.useState(!1),[g,b]=S.useState([]),[w,v]=S.useState([]);S.useEffect(()=>{(async()=>{try{const[k,U]=await Promise.all([te.get("/clients",{params:{per_page:100}}),te.get("/users",{params:{per_page:100}})]);b(k.data?.data?.data||[]),v(U.data?.data?.data||[])}catch{}})()},[]),S.useEffect(()=>{n&&(h(!0),_t.get(t).then(E=>{const k=E.data;l({name:k.name||"",code:k.code||"",description:k.description||"",client_id:k.client?.id||"",manager_id:k.manager?.id||"",status:k.status||"draft",priority:k.priority||"medium",start_date:k.start_date||"",end_date:k.end_date||"",budget:k.budget||"",location:k.location||"",notes:k.notes||"",member_ids:k.members?.map(U=>U.id)||[]})}).catch(()=>se.error("Failed to load project")).finally(()=>h(!1)))},[t,n]);const j=E=>{const{name:k,value:U}=E.target;l(B=>({...B,[k]:U})),c[k]&&u(B=>({...B,[k]:null}))},N=E=>{l(k=>({...k,member_ids:k.member_ids.includes(E)?k.member_ids.filter(U=>U!==E):[...k.member_ids,E]}))},M=async E=>{E.preventDefault(),y(!0),u({});try{const k={...i,budget:i.budget?Number(i.budget):null,client_id:i.client_id||null,manager_id:i.manager_id||null};if(n)await _t.update(t,k),se.success("Project updated"),e(`/projects/${t}`);else{const U=await _t.create(k);se.success("Project created"),e(`/projects/${U.data?.id||""}`)}}catch(k){k.response?.status===422?(u(k.response.data?.errors||{}),se.error("Please fix validation errors")):se.error("Failed to save project")}finally{y(!1)}};return f?r.jsx(mt,{}):r.jsxs("div",{className:"mx-auto max-w-3xl",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs(Le,{to:n?`/projects/${t}`:"/projects",className:"mb-4 inline-flex items-center gap-1 text-sm text-gray-500 hover:text-gray-700",children:[r.jsx(Bc,{className:"h-4 w-4"}),n?"Back to Project":"Back to Projects"]}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n?"Edit Project":"New Project"})]}),r.jsxs("form",{onSubmit:M,className:"space-y-6",children:[r.jsxs("div",{className:"rounded-xl bg-white p-6 shadow-sm ring-1 ring-gray-200",children:[r.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Basic Information"}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[r.jsxs("div",{className:"sm:col-span-2",children:[r.jsxs("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:["Project Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"name",value:i.name,onChange:j,className:"w-full rounded-lg border border-gray-300 px-3.5 py-2.5 text-sm shadow-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"}),c.name&&r.jsx("p",{className:"mt-1 text-xs text-red-500",children:c.name[0]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:["Project Code ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"code",value:i.code,onChange:j,placeholder:"e.g. PRJ-001",className:"w-full rounded-lg border border-gray-300 px-3.5 py-2.5 text-sm shadow-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"}),c.code&&r.jsx("p",{className:"mt-1 text-xs text-red-500",children:c.code[0]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Location"}),r.jsx("input",{type:"text",name:"location",value:i.location,onChange:j,className:"w-full rounded-lg border border-gray-300 px-3.5 py-2.5 text-sm shadow-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"})]}),r.jsxs("div",{className:"sm:col-span-2",children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Description"}),r.jsx("textarea",{name:"description",value:i.description,onChange:j,rows:3,className:"w-full rounded-lg border border-gray-300 px-3.5 py-2.5 text-sm shadow-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"})]})]})]}),r.jsxs("div",{className:"rounded-xl bg-white p-6 shadow-sm ring-1 ring-gray-200",children:[r.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Status & Timeline"}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Status"}),r.jsxs("select",{name:"status",value:i.status,onChange:j,className:"w-full rounded-lg border border-gray-300 px-3.5 py-2.5 text-sm shadow-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500",children:[r.jsx("option",{value:"draft",children:"Draft"}),r.jsx("option",{value:"planning",children:"Planning"}),r.jsx("option",{value:"in_progress",children:"In Progress"}),r.jsx("option",{value:"on_hold",children:"On Hold"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Priority"}),r.jsxs("select",{name:"priority",value:i.priority,onChange:j,className:"w-full rounded-lg border border-gray-300 px-3.5 py-2.5 text-sm shadow-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500",children:[r.jsx("option",{value:"low",children:"Low"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"high",children:"High"}),r.jsx("option",{value:"critical",children:"Critical"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Start Date"}),r.jsx("input",{type:"date",name:"start_date",value:i.start_date,onChange:j,className:"w-full rounded-lg border border-gray-300 px-3.5 py-2.5 text-sm shadow-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"End Date"}),r.jsx("input",{type:"date",name:"end_date",value:i.end_date,onChange:j,className:"w-full rounded-lg border border-gray-300 px-3.5 py-2.5 text-sm shadow-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"}),c.end_date&&r.jsx("p",{className:"mt-1 text-xs text-red-500",children:c.end_date[0]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Budget (PKR)"}),r.jsx("input",{type:"number",name:"budget",value:i.budget,onChange:j,min:"0",step:"0.01",className:"w-full rounded-lg border border-gray-300 px-3.5 py-2.5 text-sm shadow-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"})]})]})]}),r.jsxs("div",{className:"rounded-xl bg-white p-6 shadow-sm ring-1 ring-gray-200",children:[r.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Assignments"}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Client"}),r.jsxs("select",{name:"client_id",value:i.client_id,onChange:j,className:"w-full rounded-lg border border-gray-300 px-3.5 py-2.5 text-sm shadow-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500",children:[r.jsx("option",{value:"",children:"Select Client"}),g.map(E=>r.jsx("option",{value:E.id,children:E.company_name},E.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Project Manager"}),r.jsxs("select",{name:"manager_id",value:i.manager_id,onChange:j,className:"w-full rounded-lg border border-gray-300 px-3.5 py-2.5 text-sm shadow-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500",children:[r.jsx("option",{value:"",children:"Select Manager"}),w.map(E=>r.jsxs("option",{value:E.id,children:[E.first_name," ",E.last_name]},E.id))]})]})]})]}),r.jsxs("div",{className:"rounded-xl bg-white p-6 shadow-sm ring-1 ring-gray-200",children:[r.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Team Members"}),w.length===0?r.jsx("p",{className:"text-sm text-gray-400",children:"No users available"}):r.jsx("div",{className:"grid gap-2 sm:grid-cols-2 lg:grid-cols-3",children:w.map(E=>r.jsxs("label",{className:`flex cursor-pointer items-center gap-3 rounded-lg border p-3 transition-colors ${i.member_ids.includes(E.id)?"border-primary-500 bg-primary-50":"border-gray-200 hover:bg-gray-50"}`,children:[r.jsx("input",{type:"checkbox",checked:i.member_ids.includes(E.id),onChange:()=>N(E.id),className:"h-4 w-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),r.jsxs("div",{className:"flex h-7 w-7 items-center justify-center rounded-full bg-primary-100 text-xs font-medium text-primary-700",children:[E.first_name?.[0],E.last_name?.[0]]}),r.jsxs("span",{className:"text-sm text-gray-900",children:[E.first_name," ",E.last_name]})]},E.id))})]}),r.jsxs("div",{className:"rounded-xl bg-white p-6 shadow-sm ring-1 ring-gray-200",children:[r.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Notes"}),r.jsx("textarea",{name:"notes",value:i.notes,onChange:j,rows:3,placeholder:"Internal notes...",className:"w-full rounded-lg border border-gray-300 px-3.5 py-2.5 text-sm shadow-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"})]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx(Le,{to:n?`/projects/${t}`:"/projects",className:"rounded-lg border border-gray-300 px-5 py-2.5 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:m,className:"rounded-lg bg-primary-600 px-5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-primary-700 disabled:opacity-50",children:m?"Saving...":n?"Update Project":"Create Project"})]})]})]})}const c1={async list(t={}){return(await te.get("/tasks",{params:t})).data},async get(t){return(await te.get(`/tasks/${t}`)).data},async create(t){return(await te.post("/tasks",t)).data},async update(t,e){return(await te.put(`/tasks/${t}`,e)).data},async delete(t){return(await te.delete(`/tasks/${t}`)).data}},u1={draft:"bg-gray-100 text-gray-700",planning:"bg-blue-100 text-blue-700",in_progress:"bg-yellow-100 text-yellow-700",on_hold:"bg-orange-100 text-orange-700",completed:"bg-green-100 text-green-700",cancelled:"bg-red-100 text-red-700",pending:"bg-gray-100 text-gray-700",in_review:"bg-purple-100 text-purple-700",overdue:"bg-red-100 text-red-700",scheduled:"bg-blue-100 text-blue-700"},bE={sunny:"",cloudy:"",rainy:"",stormy:"",windy:"",other:""},vE=[{id:"overview",label:"Overview",icon:al},{id:"tasks",label:"Tasks",icon:al},{id:"milestones",label:"Milestones",icon:cv},{id:"timeline",label:"Timeline",icon:rv},{id:"site-logs",label:"Site Logs",icon:Ya},{id:"documents",label:"Documents",icon:lv},{id:"calendar",label:"Calendar",icon:Sh}];function jE(){const{id:t}=Mc(),{can:e}=At(),[n,i]=S.useState(null),[l,c]=S.useState(!0),[u,f]=S.useState("overview"),h=e("projects.edit"),m=async()=>{try{const y=await _t.get(t);i(y.data)}catch{i(null)}finally{c(!1)}};return S.useEffect(()=>{m()},[t]),l?r.jsx(mt,{}):n?r.jsxs("div",{children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs(Le,{to:"/projects",className:"mb-4 inline-flex items-center gap-1 text-sm text-gray-500 hover:text-gray-700",children:[r.jsx(Bc,{className:"h-4 w-4"})," Back to Projects"]}),r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n.name}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Code: ",n.code]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:`rounded-full px-3 py-1 text-sm font-medium ${u1[n.status]}`,children:n.status?.replace("_"," ")}),h&&r.jsxs(Le,{to:`/projects/${t}/edit`,className:"inline-flex items-center gap-1.5 rounded-lg border border-gray-300 px-3 py-1.5 text-sm font-medium text-gray-700 hover:bg-gray-50",children:[r.jsx(fv,{className:"h-4 w-4"})," Edit"]})]})]})]}),r.jsx("div",{className:"mb-6 border-b border-gray-200",children:r.jsx("nav",{className:"-mb-px flex gap-6 overflow-x-auto",children:vE.map(y=>r.jsxs("button",{onClick:()=>f(y.id),className:`flex items-center gap-1.5 whitespace-nowrap border-b-2 py-3 text-sm font-medium transition-colors ${u===y.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,children:[r.jsx(y.icon,{className:"h-4 w-4"}),y.label]},y.id))})}),u==="overview"&&r.jsx(_E,{project:n}),u==="tasks"&&r.jsx(wE,{project:n,canEdit:h,onRefresh:m}),u==="milestones"&&r.jsx(NE,{project:n,canEdit:h,onRefresh:m}),u==="timeline"&&r.jsx(SE,{project:n}),u==="site-logs"&&r.jsx(CE,{project:n,canEdit:h,onRefresh:m}),u==="documents"&&r.jsx(ME,{project:n,canEdit:h,onRefresh:m}),u==="calendar"&&r.jsx(EE,{project:n,canEdit:h,onRefresh:m})]}):r.jsxs("div",{className:"py-12 text-center text-gray-500",children:["Project not found."," ",r.jsx(Le,{to:"/projects",className:"text-primary-600 hover:underline",children:"Back to projects"})]})}function _E({project:t}){return r.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.description&&r.jsx(Cs,{title:"Description",children:r.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-wrap",children:t.description})}),r.jsxs(Cs,{title:"Progress",children:[r.jsxs("div",{className:"mb-2 flex items-center justify-between text-sm text-gray-600",children:[r.jsx("span",{children:"Overall completion"}),r.jsxs("span",{className:"font-medium",children:[t.progress,"%"]})]}),r.jsx("div",{className:"h-3 w-full rounded-full bg-gray-200",children:r.jsx("div",{className:"h-3 rounded-full bg-primary-500 transition-all",style:{width:`${t.progress}%`}})})]}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-4",children:[r.jsx(sc,{label:"Tasks",value:t.tasks_count??t.tasks?.length??0}),r.jsx(sc,{label:"Milestones",value:t.milestones_count??t.milestones?.length??0}),r.jsx(sc,{label:"Documents",value:t.documents_count??t.documents?.length??0}),r.jsx(sc,{label:"Events",value:t.calendar_events_count??t.calendar_events?.length??0})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx(Cs,{title:"Details",children:r.jsxs("div",{className:"space-y-4",children:[t.client&&r.jsx(nc,{icon:Ax,label:"Client",value:t.client.company_name}),t.manager&&r.jsx(nc,{icon:Ax,label:"Project Manager",value:t.manager.full_name}),(t.start_date||t.end_date)&&r.jsx(nc,{icon:Sh,label:"Timeline",value:`${t.start_date||"TBD"} - ${t.end_date||"TBD"}`}),t.budget>0&&r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx($i,{className:"mt-0.5 h-5 w-5 text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Budget"}),r.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["PKR ",Number(t.budget).toLocaleString()]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Spent: PKR ",Number(t.spent).toLocaleString()]})]})]}),t.location&&r.jsx(nc,{icon:i5,label:"Location",value:t.location})]})}),t.members?.length>0&&r.jsx(Cs,{title:"Team",children:r.jsx("div",{className:"space-y-3",children:t.members.map(e=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary-100 text-xs font-medium text-primary-700",children:[e.first_name?.[0],e.last_name?.[0]]}),r.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.full_name})]},e.id))})})]})]})}function wE({project:t,canEdit:e,onRefresh:n}){const[i,l]=S.useState(!1),[c,u]=S.useState({title:"",description:"",priority:"medium",due_date:"",assigned_to:""}),[f,h]=S.useState(!1),m=async y=>{y.preventDefault(),h(!0);try{await c1.create({...c,project_id:t.id,assigned_to:c.assigned_to||null}),se.success("Task created"),l(!1),u({title:"",description:"",priority:"medium",due_date:"",assigned_to:""}),n()}catch{se.error("Failed to create task")}finally{h(!1)}};return r.jsxs(Cs,{title:"Tasks",action:e&&r.jsxs("button",{onClick:()=>l(!i),className:"inline-flex items-center gap-1 text-sm font-medium text-primary-600 hover:text-primary-700",children:[r.jsx(Yt,{className:"h-4 w-4"})," Add Task"]}),children:[i&&r.jsxs("form",{onSubmit:m,className:"mb-4 rounded-lg border border-primary-200 bg-primary-50 p-4",children:[r.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[r.jsx("input",{type:"text",placeholder:"Task title",value:c.title,onChange:y=>u({...c,title:y.target.value}),required:!0,className:"sm:col-span-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"}),r.jsxs("select",{value:c.priority,onChange:y=>u({...c,priority:y.target.value}),className:"rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500",children:[r.jsx("option",{value:"low",children:"Low"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"high",children:"High"}),r.jsx("option",{value:"critical",children:"Critical"})]}),r.jsx("input",{type:"date",value:c.due_date,onChange:y=>u({...c,due_date:y.target.value}),className:"rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"}),r.jsxs("select",{value:c.assigned_to,onChange:y=>u({...c,assigned_to:y.target.value}),className:"rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500",children:[r.jsx("option",{value:"",children:"Assign to..."}),t.members?.map(y=>r.jsx("option",{value:y.id,children:y.full_name},y.id))]})]}),r.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[r.jsx("button",{type:"button",onClick:()=>l(!1),className:"rounded-lg border px-3 py-1.5 text-sm text-gray-600 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:f,className:"rounded-lg bg-primary-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-primary-700 disabled:opacity-50",children:f?"Creating...":"Create"})]})]}),t.tasks?.length?r.jsx("div",{className:"divide-y",children:t.tasks.map(y=>r.jsxs("div",{className:"flex items-center justify-between py-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:y.title}),r.jsxs("p",{className:"text-xs text-gray-500",children:[y.assignee?.first_name?`${y.assignee.first_name} ${y.assignee.last_name}`:"Unassigned",y.due_date&&r.jsxs("span",{className:"ml-2",children:["Due: ",y.due_date]})]})]}),r.jsx("span",{className:`rounded-full px-2 py-0.5 text-xs font-medium ${u1[y.status]}`,children:y.status?.replace("_"," ")})]},y.id))}):r.jsx("p",{className:"py-6 text-center text-sm text-gray-400",children:"No tasks yet"})]})}function NE({project:t,canEdit:e,onRefresh:n}){const[i,l]=S.useState(!1),[c,u]=S.useState({title:"",description:"",due_date:""}),[f,h]=S.useState(!1),m=async b=>{b.preventDefault(),h(!0);try{await _t.createMilestone(t.id,c),se.success("Milestone created"),l(!1),u({title:"",description:"",due_date:""}),n()}catch{se.error("Failed to create milestone")}finally{h(!1)}},y=async(b,w)=>{try{await _t.updateMilestone(t.id,b,{status:w}),se.success("Milestone updated"),n()}catch{se.error("Failed to update")}},g=t.milestones||[];return r.jsxs(Cs,{title:"Milestones",action:e&&r.jsxs("button",{onClick:()=>l(!i),className:"inline-flex items-center gap-1 text-sm font-medium text-primary-600 hover:text-primary-700",children:[r.jsx(Yt,{className:"h-4 w-4"})," Add Milestone"]}),children:[i&&r.jsxs("form",{onSubmit:m,className:"mb-4 rounded-lg border border-primary-200 bg-primary-50 p-4",children:[r.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[r.jsx("input",{type:"text",placeholder:"Milestone title",value:c.title,onChange:b=>u({...c,title:b.target.value}),required:!0,className:"sm:col-span-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"}),r.jsx("input",{type:"date",value:c.due_date,onChange:b=>u({...c,due_date:b.target.value}),className:"rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"}),r.jsx("textarea",{placeholder:"Description",value:c.description,onChange:b=>u({...c,description:b.target.value}),rows:2,className:"sm:col-span-2 rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"})]}),r.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[r.jsx("button",{type:"button",onClick:()=>l(!1),className:"rounded-lg border px-3 py-1.5 text-sm text-gray-600 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:f,className:"rounded-lg bg-primary-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-primary-700 disabled:opacity-50",children:f?"Creating...":"Create"})]})]}),g.length===0?r.jsx("p",{className:"py-6 text-center text-sm text-gray-400",children:"No milestones yet"}):r.jsx("div",{className:"space-y-3",children:g.map(b=>r.jsxs("div",{className:"rounded-lg border border-gray-200 p-4",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(cv,{className:`h-4 w-4 ${b.status==="completed"?"text-green-500":b.status==="overdue"?"text-red-500":"text-gray-400"}`}),r.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:b.title})]}),b.description&&r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:b.description}),r.jsxs("div",{className:"mt-2 flex items-center gap-3 text-xs text-gray-500",children:[b.due_date&&r.jsxs("span",{children:["Due: ",b.due_date]}),b.completed_date&&r.jsxs("span",{children:["Completed: ",b.completed_date]})]})]}),e&&r.jsxs("select",{value:b.status,onChange:w=>y(b.id,w.target.value),className:"rounded border border-gray-300 px-2 py-1 text-xs focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500",children:[r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"in_progress",children:"In Progress"}),r.jsx("option",{value:"completed",children:"Completed"})]})]}),r.jsxs("div",{className:"mt-2",children:[r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-1",children:[r.jsx("span",{children:"Progress"}),r.jsxs("span",{children:[b.progress,"%"]})]}),r.jsx("div",{className:"h-1.5 w-full rounded-full bg-gray-200",children:r.jsx("div",{className:`h-1.5 rounded-full transition-all ${b.status==="completed"?"bg-green-500":"bg-primary-500"}`,style:{width:`${b.progress}%`}})})]})]},b.id))})]})}function SE({project:t}){const e=S.useMemo(()=>{const g=[];return(t.tasks||[]).forEach(b=>{(b.start_date||b.due_date)&&g.push({type:"task",id:b.id,title:b.title,start:b.start_date,end:b.due_date,status:b.status})}),(t.milestones||[]).forEach(b=>{b.due_date&&g.push({type:"milestone",id:b.id,title:b.title,start:b.due_date,end:b.due_date,status:b.status})}),(t.calendar_events||[]).forEach(b=>{g.push({type:"event",id:b.id,title:b.title,start:b.start_datetime?.split("T")[0],end:b.end_datetime?.split("T")[0]||b.start_datetime?.split("T")[0],status:b.status})}),g.sort((b,w)=>(b.start||"").localeCompare(w.start||""))},[t]),n=t.start_date||e[0]?.start,i=t.end_date||e[e.length-1]?.end;if(!n||!i||e.length===0)return r.jsx(Cs,{title:"Timeline",children:r.jsx("p",{className:"py-6 text-center text-sm text-gray-400",children:"No timeline data available. Add tasks or milestones with dates."})});const l=new Date(n),c=new Date(i),u=Math.max(1,Math.ceil((c-l)/(1e3*60*60*24))),f=Math.ceil((new Date-l)/(1e3*60*60*24)),h=Math.min(100,Math.max(0,f/u*100)),m={task:"bg-primary-400",milestone:"bg-amber-400",event:"bg-purple-400"},y={task:"Task",milestone:"Milestone",event:"Event"};return r.jsxs(Cs,{title:"Timeline",children:[r.jsxs("div",{className:"mb-4 flex items-center justify-between text-xs text-gray-500",children:[r.jsx("span",{children:n}),r.jsx("span",{children:i})]}),r.jsxs("div",{className:"relative",children:[h>0&&h<100&&r.jsx("div",{className:"absolute top-0 bottom-0 z-10 w-0.5 bg-red-400",style:{left:`${h}%`},children:r.jsx("span",{className:"absolute -top-5 -translate-x-1/2 rounded bg-red-500 px-1.5 py-0.5 text-[10px] font-medium text-white",children:"Today"})}),r.jsx("div",{className:"space-y-2",children:e.map(g=>{const b=new Date(g.start),w=new Date(g.end||g.start),v=Math.max(0,(b-l)/(1e3*60*60*24)/u*100),j=Math.max(1,(w-b)/(1e3*60*60*24)/u*100+1/u*100);return r.jsx("div",{className:"relative h-8 rounded bg-gray-50",children:r.jsx("div",{className:`absolute top-1 bottom-1 rounded ${m[g.type]} ${g.status==="completed"?"opacity-60":"opacity-90"}`,style:{left:`${v}%`,width:`${Math.min(j,100-v)}%`},title:`${g.title} (${g.start}${g.end!==g.start?` - ${g.end}`:""})`,children:r.jsx("span",{className:"absolute inset-0 flex items-center px-2 text-[11px] font-medium text-white truncate",children:g.title})})},`${g.type}-${g.id}`)})})]}),r.jsx("div",{className:"mt-4 flex gap-4 text-xs text-gray-500",children:Object.entries(m).map(([g,b])=>r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsx("div",{className:`h-3 w-3 rounded ${b}`}),r.jsx("span",{className:"capitalize",children:y[g]})]},g))})]})}function CE({project:t,canEdit:e,onRefresh:n}){const[i,l]=S.useState(!1),[c,u]=S.useState({log_date:new Date().toISOString().split("T")[0],title:"",weather:"",workers_count:"",work_performed:"",materials_used:"",issues:"",safety_notes:""}),[f,h]=S.useState(!1),m=async g=>{g.preventDefault(),h(!0);try{await _t.createSiteLog(t.id,{...c,workers_count:c.workers_count?Number(c.workers_count):0}),se.success("Site log created"),l(!1),u({log_date:new Date().toISOString().split("T")[0],title:"",weather:"",workers_count:"",work_performed:"",materials_used:"",issues:"",safety_notes:""}),n()}catch{se.error("Failed to create site log")}finally{h(!1)}},y=t.site_logs||[];return r.jsxs(Cs,{title:"Site Logs",action:e&&r.jsxs("button",{onClick:()=>l(!i),className:"inline-flex items-center gap-1 text-sm font-medium text-primary-600 hover:text-primary-700",children:[r.jsx(Yt,{className:"h-4 w-4"})," New Entry"]}),children:[i&&r.jsxs("form",{onSubmit:m,className:"mb-4 rounded-lg border border-primary-200 bg-primary-50 p-4",children:[r.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[r.jsx("input",{type:"text",placeholder:"Title",value:c.title,onChange:g=>u({...c,title:g.target.value}),required:!0,className:"sm:col-span-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"}),r.jsx("input",{type:"date",value:c.log_date,onChange:g=>u({...c,log_date:g.target.value}),required:!0,className:"rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"}),r.jsxs("select",{value:c.weather,onChange:g=>u({...c,weather:g.target.value}),className:"rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500",children:[r.jsx("option",{value:"",children:"Weather"}),r.jsx("option",{value:"sunny",children:"Sunny"}),r.jsx("option",{value:"cloudy",children:"Cloudy"}),r.jsx("option",{value:"rainy",children:"Rainy"}),r.jsx("option",{value:"stormy",children:"Stormy"}),r.jsx("option",{value:"windy",children:"Windy"}),r.jsx("option",{value:"other",children:"Other"})]}),r.jsx("input",{type:"number",placeholder:"Workers on site",value:c.workers_count,onChange:g=>u({...c,workers_count:g.target.value}),min:"0",className:"rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"}),r.jsx("textarea",{placeholder:"Work performed",value:c.work_performed,onChange:g=>u({...c,work_performed:g.target.value}),rows:2,className:"sm:col-span-2 rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"}),r.jsx("textarea",{placeholder:"Materials used",value:c.materials_used,onChange:g=>u({...c,materials_used:g.target.value}),rows:2,className:"rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"}),r.jsx("textarea",{placeholder:"Issues / Concerns",value:c.issues,onChange:g=>u({...c,issues:g.target.value}),rows:2,className:"rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"}),r.jsx("textarea",{placeholder:"Safety notes",value:c.safety_notes,onChange:g=>u({...c,safety_notes:g.target.value}),rows:2,className:"sm:col-span-2 rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"})]}),r.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[r.jsx("button",{type:"button",onClick:()=>l(!1),className:"rounded-lg border px-3 py-1.5 text-sm text-gray-600 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:f,className:"rounded-lg bg-primary-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-primary-700 disabled:opacity-50",children:f?"Creating...":"Create"})]})]}),y.length===0?r.jsx("p",{className:"py-6 text-center text-sm text-gray-400",children:"No site logs yet"}):r.jsx("div",{className:"space-y-3",children:y.map(g=>r.jsxs("div",{className:"rounded-lg border border-gray-200 p-4",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:g.title}),r.jsxs("div",{className:"mt-1 flex items-center gap-3 text-xs text-gray-500",children:[r.jsx("span",{children:g.log_date}),g.weather&&r.jsxs("span",{children:[bE[g.weather]||""," ",g.weather]}),g.workers_count>0&&r.jsxs("span",{children:[g.workers_count," workers"]})]})]}),r.jsxs("span",{className:"text-xs text-gray-400",children:[g.logger?.first_name," ",g.logger?.last_name]})]}),g.work_performed&&r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Work Performed:"}),r.jsx("p",{className:"text-xs text-gray-500 whitespace-pre-wrap",children:g.work_performed})]}),g.issues&&r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"text-xs font-medium text-red-600",children:"Issues:"}),r.jsx("p",{className:"text-xs text-gray-500 whitespace-pre-wrap",children:g.issues})]})]},g.id))})]})}function ME({project:t,canEdit:e,onRefresh:n}){const[i,l]=S.useState(!1),[c,u]=S.useState(!1),[f,h]=S.useState({title:"",category:"other",file:null}),m=async v=>{if(v.preventDefault(),!f.file)return se.error("Please select a file");l(!0);try{const j=new FormData;j.append("title",f.title||f.file.name),j.append("category",f.category),j.append("file",f.file),await _t.uploadDocument(t.id,j),se.success("Document uploaded"),u(!1),h({title:"",category:"other",file:null}),n()}catch{se.error("Upload failed")}finally{l(!1)}},y=async v=>{if(confirm("Delete this document?"))try{await _t.deleteDocument(t.id,v),se.success("Document deleted"),n()}catch{se.error("Failed to delete")}},g=t.documents||[],b={drawing:"Drawing",contract:"Contract",permit:"Permit",report:"Report",photo:"Photo",specification:"Spec",invoice:"Invoice",other:"Other"},w={drawing:"bg-blue-100 text-blue-700",contract:"bg-purple-100 text-purple-700",permit:"bg-green-100 text-green-700",report:"bg-yellow-100 text-yellow-700",photo:"bg-pink-100 text-pink-700",specification:"bg-indigo-100 text-indigo-700",invoice:"bg-orange-100 text-orange-700",other:"bg-gray-100 text-gray-700"};return r.jsxs(Cs,{title:"Documents",action:e&&r.jsxs("button",{onClick:()=>u(!c),className:"inline-flex items-center gap-1 text-sm font-medium text-primary-600 hover:text-primary-700",children:[r.jsx(d5,{className:"h-4 w-4"})," Upload"]}),children:[c&&r.jsxs("form",{onSubmit:m,className:"mb-4 rounded-lg border border-primary-200 bg-primary-50 p-4",children:[r.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[r.jsx("input",{type:"text",placeholder:"Document title",value:f.title,onChange:v=>h({...f,title:v.target.value}),className:"sm:col-span-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"}),r.jsx("select",{value:f.category,onChange:v=>h({...f,category:v.target.value}),className:"rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500",children:Object.entries(b).map(([v,j])=>r.jsx("option",{value:v,children:j},v))}),r.jsx("input",{type:"file",onChange:v=>h({...f,file:v.target.files[0]}),className:"rounded-lg border border-gray-300 px-3 py-2 text-sm file:mr-3 file:rounded file:border-0 file:bg-primary-50 file:px-3 file:py-1 file:text-sm file:font-medium file:text-primary-700"})]}),r.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[r.jsx("button",{type:"button",onClick:()=>u(!1),className:"rounded-lg border px-3 py-1.5 text-sm text-gray-600 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:i,className:"rounded-lg bg-primary-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-primary-700 disabled:opacity-50",children:i?"Uploading...":"Upload"})]})]}),g.length===0?r.jsx("p",{className:"py-6 text-center text-sm text-gray-400",children:"No documents yet"}):r.jsx("div",{className:"divide-y",children:g.map(v=>r.jsxs("div",{className:"flex items-center justify-between py-3",children:[r.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[r.jsx(Ya,{className:"h-8 w-8 text-gray-400 shrink-0"}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:v.title}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[r.jsx("span",{className:`rounded-full px-1.5 py-0.5 text-[10px] font-medium ${w[v.category]}`,children:b[v.category]}),r.jsx("span",{children:kE(v.file_size)}),r.jsxs("span",{children:[v.uploader?.first_name," ",v.uploader?.last_name]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[r.jsx("a",{href:_t.getDocumentDownloadUrl(t.id,v.id),className:"rounded p-1.5 text-gray-400 hover:bg-gray-100 hover:text-gray-600",title:"Download",children:r.jsx(lv,{className:"h-4 w-4"})}),e&&r.jsx("button",{onClick:()=>y(v.id),className:"rounded p-1.5 text-gray-400 hover:bg-red-50 hover:text-red-600",title:"Delete",children:r.jsx(ra,{className:"h-4 w-4"})})]})]},v.id))})]})}function EE({project:t,canEdit:e,onRefresh:n}){const[i,l]=S.useState(!1),[c,u]=S.useState({title:"",type:"meeting",start_datetime:"",end_datetime:"",location:"",description:""}),[f,h]=S.useState(!1),m=async w=>{w.preventDefault(),h(!0);try{await _t.createEvent(t.id,c),se.success("Event created"),l(!1),u({title:"",type:"meeting",start_datetime:"",end_datetime:"",location:"",description:""}),n()}catch{se.error("Failed to create event")}finally{h(!1)}},y=async w=>{try{await _t.deleteEvent(t.id,w),se.success("Event deleted"),n()}catch{se.error("Failed to delete")}},g=t.calendar_events||[],b={meeting:"bg-blue-100 text-blue-700",inspection:"bg-orange-100 text-orange-700",deadline:"bg-red-100 text-red-700",milestone:"bg-amber-100 text-amber-700",other:"bg-gray-100 text-gray-700"};return r.jsxs(Cs,{title:"Calendar Events",action:e&&r.jsxs("button",{onClick:()=>l(!i),className:"inline-flex items-center gap-1 text-sm font-medium text-primary-600 hover:text-primary-700",children:[r.jsx(Yt,{className:"h-4 w-4"})," New Event"]}),children:[i&&r.jsxs("form",{onSubmit:m,className:"mb-4 rounded-lg border border-primary-200 bg-primary-50 p-4",children:[r.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[r.jsx("input",{type:"text",placeholder:"Event title",value:c.title,onChange:w=>u({...c,title:w.target.value}),required:!0,className:"sm:col-span-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"}),r.jsxs("select",{value:c.type,onChange:w=>u({...c,type:w.target.value}),className:"rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500",children:[r.jsx("option",{value:"meeting",children:"Meeting"}),r.jsx("option",{value:"inspection",children:"Inspection"}),r.jsx("option",{value:"deadline",children:"Deadline"}),r.jsx("option",{value:"milestone",children:"Milestone"}),r.jsx("option",{value:"other",children:"Other"})]}),r.jsx("input",{type:"text",placeholder:"Location",value:c.location,onChange:w=>u({...c,location:w.target.value}),className:"rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"}),r.jsx("input",{type:"datetime-local",value:c.start_datetime,onChange:w=>u({...c,start_datetime:w.target.value}),required:!0,className:"rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"}),r.jsx("input",{type:"datetime-local",value:c.end_datetime,onChange:w=>u({...c,end_datetime:w.target.value}),className:"rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"}),r.jsx("textarea",{placeholder:"Description",value:c.description,onChange:w=>u({...c,description:w.target.value}),rows:2,className:"sm:col-span-2 rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"})]}),r.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[r.jsx("button",{type:"button",onClick:()=>l(!1),className:"rounded-lg border px-3 py-1.5 text-sm text-gray-600 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:f,className:"rounded-lg bg-primary-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-primary-700 disabled:opacity-50",children:f?"Creating...":"Create"})]})]}),g.length===0?r.jsx("p",{className:"py-6 text-center text-sm text-gray-400",children:"No events scheduled"}):r.jsx("div",{className:"space-y-3",children:g.map(w=>r.jsxs("div",{className:"flex items-start justify-between rounded-lg border border-gray-200 p-4",children:[r.jsxs("div",{className:"flex gap-3",children:[r.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary-50",children:r.jsx(Sh,{className:"h-5 w-5 text-primary-500"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:w.title}),r.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-xs text-gray-500",children:[r.jsx("span",{className:`rounded-full px-1.5 py-0.5 text-[10px] font-medium ${b[w.type]}`,children:w.type}),r.jsx("span",{children:ab(w.start_datetime)}),w.end_datetime&&r.jsxs("span",{children:["- ",ab(w.end_datetime)]}),w.location&&r.jsxs("span",{children:["@ ",w.location]})]}),w.description&&r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:w.description})]})]}),e&&r.jsx("button",{onClick:()=>y(w.id),className:"rounded p-1 text-gray-400 hover:bg-red-50 hover:text-red-600",children:r.jsx(ra,{className:"h-4 w-4"})})]},w.id))})]})}function Cs({title:t,action:e,children:n}){return r.jsxs("div",{className:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-200",children:[(t||e)&&r.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t&&r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:t}),e]}),n]})}function sc({label:t,value:e}){return r.jsxs("div",{className:"rounded-xl bg-white p-4 text-center shadow-sm ring-1 ring-gray-200",children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e}),r.jsx("p",{className:"text-xs text-gray-500",children:t})]})}function nc({icon:t,label:e,value:n}){return r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(t,{className:"mt-0.5 h-5 w-5 text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:e}),r.jsx("p",{className:"text-sm font-medium text-gray-900",children:n})]})]})}function kE(t){if(!t)return"0 B";const e=1024,n=["B","KB","MB","GB"],i=Math.floor(Math.log(t)/Math.log(e));return`${parseFloat((t/Math.pow(e,i)).toFixed(1))} ${n[i]}`}function ab(t){return t?new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}):""}const TE={pending:"bg-gray-100 text-gray-700",in_progress:"bg-yellow-100 text-yellow-700",in_review:"bg-purple-100 text-purple-700",completed:"bg-green-100 text-green-700",cancelled:"bg-red-100 text-red-700"},AE={low:"bg-gray-100 text-gray-600",medium:"bg-blue-100 text-blue-600",high:"bg-orange-100 text-orange-600",critical:"bg-red-100 text-red-600"};function DE(){const[t,e]=S.useState([]),[n,i]=S.useState(!0),[l,c]=S.useState(""),u=async()=>{i(!0);try{const f={};l&&(f.status=l);const h=await c1.list(f);e(h.data?.data||[])}catch{e([])}finally{i(!1)}};return S.useEffect(()=>{u()},[l]),r.jsxs("div",{children:[r.jsxs("div",{className:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Tasks"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Tasks assigned to you"})]}),r.jsxs("button",{className:"inline-flex items-center gap-2 rounded-lg bg-primary-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-primary-700",children:[r.jsx(Yt,{className:"h-5 w-5"}),"New Task"]})]}),r.jsx("div",{className:"mb-6",children:r.jsxs("select",{value:l,onChange:f=>c(f.target.value),className:"rounded-lg border border-gray-300 px-3.5 py-2.5 text-sm shadow-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500",children:[r.jsx("option",{value:"",children:"All Statuses"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"in_progress",children:"In Progress"}),r.jsx("option",{value:"in_review",children:"In Review"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"cancelled",children:"Cancelled"})]})}),n?r.jsx(mt,{}):t.length===0?r.jsxs("div",{className:"rounded-xl bg-white py-12 text-center shadow-sm ring-1 ring-gray-200",children:[r.jsx(al,{className:"mx-auto h-12 w-12 text-gray-300"}),r.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"No tasks found"})]}):r.jsx("div",{className:"overflow-hidden rounded-xl bg-white shadow-sm ring-1 ring-gray-200",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-5 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Task"}),r.jsx("th",{className:"px-5 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Project"}),r.jsx("th",{className:"px-5 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Priority"}),r.jsx("th",{className:"px-5 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Status"}),r.jsx("th",{className:"px-5 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Due Date"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(f=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-5 py-4",children:r.jsx("p",{className:"text-sm font-medium text-gray-900",children:f.title})}),r.jsx("td",{className:"px-5 py-4",children:r.jsx("p",{className:"text-sm text-gray-600",children:f.project?.name||"-"})}),r.jsx("td",{className:"px-5 py-4",children:r.jsx("span",{className:`rounded-full px-2 py-0.5 text-xs font-medium ${AE[f.priority]}`,children:f.priority})}),r.jsx("td",{className:"px-5 py-4",children:r.jsx("span",{className:`rounded-full px-2 py-0.5 text-xs font-medium ${TE[f.status]}`,children:f.status.replace("_"," ")})}),r.jsx("td",{className:"px-5 py-4 text-sm text-gray-500",children:f.due_date||"-"})]},f.id))})]})})]})}const d1={async list(t={}){return(await te.get("/clients",{params:t})).data},async get(t){return(await te.get(`/clients/${t}`)).data},async create(t){return(await te.post("/clients",t)).data},async update(t,e){return(await te.put(`/clients/${t}`,e)).data},async delete(t){return(await te.delete(`/clients/${t}`)).data}};function OE(){const[t,e]=S.useState([]),[n,i]=S.useState(!0),[l,c]=S.useState(""),u=async()=>{i(!0);try{const f={};l&&(f.search=l);const h=await d1.list(f);e(h.data?.data||[])}catch{e([])}finally{i(!1)}};return S.useEffect(()=>{const f=setTimeout(()=>{u()},400);return()=>clearTimeout(f)},[l]),S.useEffect(()=>{u()},[]),r.jsxs("div",{children:[r.jsxs("div",{className:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Clients"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Manage construction clients"})]}),r.jsxs("button",{className:"inline-flex items-center gap-2 rounded-lg bg-primary-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-primary-700",children:[r.jsx(Yt,{className:"h-5 w-5"}),"New Client"]})]}),r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"relative max-w-md",children:[r.jsx(ia,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search clients...",value:l,onChange:f=>c(f.target.value),className:"w-full rounded-lg border border-gray-300 py-2.5 pl-10 pr-4 text-sm shadow-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"})]})}),n?r.jsx(mt,{}):t.length===0?r.jsxs("div",{className:"rounded-xl bg-white py-12 text-center shadow-sm ring-1 ring-gray-200",children:[r.jsx(dv,{className:"mx-auto h-12 w-12 text-gray-300"}),r.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"No clients found"})]}):r.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:t.map(f=>r.jsxs("div",{className:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-200",children:[r.jsxs("div",{className:"mb-3 flex items-center gap-3",children:[r.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary-50 text-sm font-bold text-primary-700",children:f.company_name?.[0]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:f.company_name}),r.jsx("p",{className:"text-xs text-gray-500",children:f.contact_person})]})]}),r.jsxs("div",{className:"space-y-1.5 text-xs text-gray-500",children:[r.jsx("p",{children:f.email}),f.phone&&r.jsx("p",{children:f.phone}),f.city&&r.jsxs("p",{children:[f.city,", ",f.country]})]}),r.jsx("div",{className:"mt-3 flex items-center justify-between border-t pt-3",children:r.jsx("span",{className:`rounded-full px-2 py-0.5 text-xs font-medium ${f.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:f.status})})]},f.id))})]})}const RE={pending:"bg-yellow-100 text-yellow-700",active:"bg-green-100 text-green-700",inactive:"bg-gray-100 text-gray-600",suspended:"bg-red-100 text-red-700",rejected:"bg-rose-100 text-rose-700"},zE=[{key:"",label:"All"},{key:"pending",label:"Pending"},{key:"active",label:"Active"},{key:"inactive",label:"Inactive"},{key:"suspended",label:"Suspended"},{key:"rejected",label:"Rejected"}];function LE(){const[t,e]=S.useState([]),[n,i]=S.useState(!0),[l,c]=S.useState(""),[u,f]=S.useState([]),[h,m]=S.useState({open:!1,user:null,role:""}),[y,g]=S.useState(null),b=S.useCallback(()=>{i(!0);const j=l?{status:l}:{};te.get("/users",{params:j}).then(N=>e(N.data?.data?.data||[])).catch(()=>e([])).finally(()=>i(!1))},[l]);S.useEffect(()=>{b()},[b]),S.useEffect(()=>{te.get("/roles").then(j=>f(j.data?.data||[])).catch(()=>f([]))},[]);const w=async()=>{if(!h.role){se.error("Please select a role");return}g(h.user.id);try{await te.patch(`/users/${h.user.id}/approve`,{role:h.role}),se.success(`${h.user.full_name} approved successfully`),m({open:!1,user:null,role:""}),b()}catch(j){se.error(j.response?.data?.message||"Failed to approve user")}finally{g(null)}},v=async j=>{if(window.confirm(`Are you sure you want to reject ${j.full_name}?`)){g(j.id);try{await te.patch(`/users/${j.id}/reject`),se.success(`${j.full_name} rejected`),b()}catch(N){se.error(N.response?.data?.message||"Failed to reject user")}finally{g(null)}}};return r.jsxs("div",{children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Users"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Team members and system users"})]}),r.jsx("div",{className:"mb-4 flex flex-wrap gap-1 rounded-lg bg-gray-100 p-1",children:zE.map(j=>r.jsx("button",{onClick:()=>c(j.key),className:`rounded-md px-3 py-1.5 text-xs font-medium transition-colors ${l===j.key?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:j.label},j.key))}),n?r.jsx(mt,{}):t.length===0?r.jsxs("div",{className:"rounded-xl bg-white py-12 text-center shadow-sm ring-1 ring-gray-200",children:[r.jsx(Pc,{className:"mx-auto h-12 w-12 text-gray-300"}),r.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"No users found"})]}):r.jsx("div",{className:"overflow-hidden rounded-xl bg-white shadow-sm ring-1 ring-gray-200",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-5 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"User"}),r.jsx("th",{className:"px-5 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Department"}),r.jsx("th",{className:"px-5 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Role"}),r.jsx("th",{className:"px-5 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Status"}),r.jsx("th",{className:"px-5 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(j=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-5 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-primary-100 text-sm font-medium text-primary-700",children:[j.first_name?.[0],j.last_name?.[0]]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:j.full_name}),r.jsx("p",{className:"text-xs text-gray-500",children:j.email})]})]})}),r.jsx("td",{className:"px-5 py-4 text-sm text-gray-600",children:j.department?.name||"-"}),r.jsx("td",{className:"px-5 py-4",children:j.roles?.[0]?r.jsx("span",{className:"rounded-full bg-primary-50 px-2 py-0.5 text-xs font-medium text-primary-700",children:j.roles[0]}):r.jsx("span",{className:"text-xs text-gray-400",children:"-"})}),r.jsx("td",{className:"px-5 py-4",children:r.jsx("span",{className:`rounded-full px-2 py-0.5 text-xs font-medium ${RE[j.status]||"bg-gray-100 text-gray-600"}`,children:j.status})}),r.jsx("td",{className:"px-5 py-4",children:j.status==="pending"&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>m({open:!0,user:j,role:""}),disabled:y===j.id,className:"rounded-md bg-green-50 px-2.5 py-1 text-xs font-medium text-green-700 hover:bg-green-100 disabled:opacity-50",children:"Approve"}),r.jsx("button",{onClick:()=>v(j),disabled:y===j.id,className:"rounded-md bg-red-50 px-2.5 py-1 text-xs font-medium text-red-700 hover:bg-red-100 disabled:opacity-50",children:"Reject"})]})})]},j.id))})]})}),h.open&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:r.jsxs("div",{className:"w-full max-w-sm rounded-xl bg-white p-6 shadow-xl",children:[r.jsx("h3",{className:"mb-1 text-lg font-semibold text-gray-900",children:"Approve User"}),r.jsxs("p",{className:"mb-4 text-sm text-gray-500",children:["Approve ",r.jsx("span",{className:"font-medium text-gray-700",children:h.user?.full_name})," and assign a role."]}),r.jsx("label",{className:"mb-1.5 block text-sm font-medium text-gray-700",children:"Role"}),r.jsxs("select",{value:h.role,onChange:j=>m({...h,role:j.target.value}),className:"mb-4 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-primary-400 focus:outline-none focus:ring-1 focus:ring-primary-400",children:[r.jsx("option",{value:"",children:"Select a role..."}),u.map(j=>r.jsx("option",{value:j.name,children:j.name},j.id))]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx("button",{onClick:()=>m({open:!1,user:null,role:""}),className:"rounded-lg px-4 py-2 text-sm font-medium text-gray-600 hover:bg-gray-100",children:"Cancel"}),r.jsx("button",{onClick:w,disabled:!h.role||y,className:"rounded-lg bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700 disabled:opacity-50",children:y?"Approving...":"Approve"})]})]})})]})}const ct={async getOverview(){return(await te.get("/finance/overview")).data},async getMonthlySummary(t={}){return(await te.get("/finance/monthly-summary",{params:t})).data},async getBudgetVsActual(){return(await te.get("/finance/budget-vs-actual")).data},async listInvoices(t={}){return(await te.get("/invoices",{params:t})).data},async getInvoice(t){return(await te.get(`/invoices/${t}`)).data},async createInvoice(t){return(await te.post("/invoices",t)).data},async updateInvoice(t,e){return(await te.put(`/invoices/${t}`,e)).data},async deleteInvoice(t){return(await te.delete(`/invoices/${t}`)).data},async recordPayment(t,e){return(await te.post(`/invoices/${t}/payments`,e)).data},async markAsSent(t){return(await te.patch(`/invoices/${t}/mark-sent`)).data},getPdfDownloadUrl(t){return`/api/invoices/${t}/pdf`},getPdfPreviewUrl(t){return`/api/invoices/${t}/pdf/preview`},async listExpenses(t={}){return(await te.get("/expenses",{params:t})).data},async createExpense(t){return(await te.post("/expenses",t,{headers:{"Content-Type":"multipart/form-data"}})).data},async deleteExpense(t){return(await te.delete(`/expenses/${t}`)).data},async approveExpense(t){return(await te.patch(`/expenses/${t}/approve`)).data},async rejectExpense(t){return(await te.patch(`/expenses/${t}/reject`)).data}},BE=[{key:"total_receivables",label:"Total Receivables",icon:$i,color:"blue"},{key:"total_revenue_this_month",label:"Revenue This Month",icon:Hc,color:"green"},{key:"overdue_invoices",label:"Overdue Invoices",icon:Ch,color:"red",isCurrency:!1},{key:"pending_expenses",label:"Pending Expenses",icon:rv,color:"yellow",isCurrency:!1},{key:"total_expenses_this_month",label:"Expenses This Month",icon:Eh,color:"orange"},{key:"total_payroll_pending",label:"Payroll Pending",icon:Ya,color:"purple"}],HE={blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600",red:"bg-red-50 text-red-600",yellow:"bg-yellow-50 text-yellow-600",orange:"bg-orange-50 text-orange-600",purple:"bg-purple-50 text-purple-600"};function UE(t){return"PKR "+Number(t||0).toLocaleString("en-PK",{minimumFractionDigits:0,maximumFractionDigits:0})}function PE(){const{can:t}=At(),[e,n]=S.useState(null),[i,l]=S.useState(!0);return S.useEffect(()=>{(async()=>{try{const c=await ct.getOverview();n(c.data)}catch{n(null)}finally{l(!1)}})()},[]),i?r.jsx(mt,{}):r.jsxs("div",{children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Finance Overview"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Financial dashboard and quick stats"})]}),r.jsx("div",{className:"mb-8 grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:BE.map(c=>r.jsx("div",{className:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-200",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-lg ${HE[c.color]}`,children:r.jsx(c.icon,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-gray-500",children:c.label}),r.jsx("p",{className:"text-xl font-bold text-gray-900",children:c.isCurrency===!1?e?.[c.key]??0:UE(e?.[c.key])})]})]})},c.key))}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[r.jsxs(Le,{to:"/finance/invoices",className:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-200 transition hover:ring-primary-300",children:[r.jsx(Ya,{className:"mb-2 h-8 w-8 text-primary-600"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Invoices"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Create and manage invoices"})]}),r.jsxs(Le,{to:"/finance/expenses",className:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-200 transition hover:ring-primary-300",children:[r.jsx(Eh,{className:"mb-2 h-8 w-8 text-orange-500"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Expenses"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Track and approve expenses"})]}),r.jsxs(Le,{to:"/finance/budget-vs-actual",className:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-200 transition hover:ring-primary-300",children:[r.jsx(Hc,{className:"mb-2 h-8 w-8 text-green-500"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Budget vs Actual"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Project budget comparison"})]}),r.jsxs(Le,{to:"/finance/monthly-summary",className:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-200 transition hover:ring-primary-300",children:[r.jsx($i,{className:"mb-2 h-8 w-8 text-purple-500"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Monthly Summary"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Financial reports by month"})]})]})]})}const FE={draft:"bg-gray-100 text-gray-700",sent:"bg-blue-100 text-blue-700",paid:"bg-green-100 text-green-700",partially_paid:"bg-yellow-100 text-yellow-700",overdue:"bg-red-100 text-red-700",cancelled:"bg-red-100 text-red-600"};function ib(t,e="PKR"){return`${e} ${Number(t||0).toLocaleString("en-PK",{minimumFractionDigits:2})}`}function qE(){const{can:t}=At(),[e,n]=S.useState([]),[i,l]=S.useState(!0),[c,u]=S.useState(""),[f,h]=S.useState(""),[m,y]=S.useState({}),g=async(v=1)=>{l(!0);try{const j={page:v};c&&(j.search=c),f&&(j.status=f);const N=await ct.listInvoices(j);n(N.data?.data||[]),y(N.data?.meta||N.data||{})}catch{n([])}finally{l(!1)}};S.useEffect(()=>{const v=setTimeout(()=>g(),400);return()=>clearTimeout(v)},[c,f]),S.useEffect(()=>{g()},[]);const b=async v=>{try{await ct.markAsSent(v),se.success("Invoice marked as sent"),g()}catch(j){se.error(j.response?.data?.message||"Failed to mark as sent")}},w=async v=>{if(confirm("Delete this invoice?"))try{await ct.deleteInvoice(v),se.success("Invoice deleted"),g()}catch{se.error("Failed to delete invoice")}};return r.jsxs("div",{children:[r.jsxs("div",{className:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Invoices"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Create and manage client invoices"})]}),t("finance.manage-budgets")&&r.jsxs(Le,{to:"/finance/invoices/create",className:"inline-flex items-center gap-2 rounded-lg bg-primary-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-primary-700",children:[r.jsx(Yt,{className:"h-5 w-5"}),"New Invoice"]})]}),r.jsxs("div",{className:"mb-6 flex flex-col gap-3 sm:flex-row",children:[r.jsxs("div",{className:"relative max-w-md flex-1",children:[r.jsx(ia,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search invoices...",value:c,onChange:v=>u(v.target.value),className:"w-full rounded-lg border border-gray-300 py-2.5 pl-10 pr-4 text-sm shadow-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"})]}),r.jsxs("select",{value:f,onChange:v=>h(v.target.value),className:"rounded-lg border border-gray-300 px-3 py-2.5 text-sm shadow-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500",children:[r.jsx("option",{value:"",children:"All Statuses"}),r.jsx("option",{value:"draft",children:"Draft"}),r.jsx("option",{value:"sent",children:"Sent"}),r.jsx("option",{value:"partially_paid",children:"Partially Paid"}),r.jsx("option",{value:"paid",children:"Paid"}),r.jsx("option",{value:"overdue",children:"Overdue"}),r.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),i?r.jsx(mt,{}):e.length===0?r.jsxs("div",{className:"rounded-xl bg-white py-12 text-center shadow-sm ring-1 ring-gray-200",children:[r.jsx(Ya,{className:"mx-auto h-12 w-12 text-gray-300"}),r.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"No invoices found"})]}):r.jsxs("div",{className:"overflow-hidden rounded-xl bg-white shadow-sm ring-1 ring-gray-200",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase text-gray-500",children:"Invoice #"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase text-gray-500",children:"Client"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase text-gray-500",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold uppercase text-gray-500",children:"Total"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold uppercase text-gray-500",children:"Balance"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase text-gray-500",children:"Due Date"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold uppercase text-gray-500",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-100",children:e.map(v=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-sm font-medium text-primary-600",children:r.jsx(Le,{to:`/finance/invoices/${v.id}`,children:v.invoice_number})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:v.client?.company_name||"-"}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`inline-block rounded-full px-2 py-0.5 text-xs font-medium ${FE[v.status]||"bg-gray-100 text-gray-600"}`,children:v.status?.replace("_"," ")})}),r.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-right text-sm font-medium text-gray-900",children:ib(v.total,v.currency)}),r.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-right text-sm text-gray-700",children:v.balance_due>0?r.jsx("span",{className:"text-red-600 font-medium",children:ib(v.balance_due,v.currency)}):r.jsx("span",{className:"text-green-600",children:"Paid"})}),r.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-sm text-gray-500",children:v.due_date}),r.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-right",children:r.jsxs("div",{className:"flex items-center justify-end gap-1",children:[r.jsx(Le,{to:`/finance/invoices/${v.id}`,className:"rounded p-1.5 text-gray-400 hover:bg-gray-100 hover:text-gray-600",title:"View",children:r.jsx(ov,{className:"h-4 w-4"})}),r.jsx("a",{href:ct.getPdfDownloadUrl(v.id),className:"rounded p-1.5 text-gray-400 hover:bg-gray-100 hover:text-gray-600",title:"Download PDF",children:r.jsx($t,{className:"h-4 w-4"})}),t("finance.manage-budgets")&&v.status==="draft"&&r.jsx("button",{onClick:()=>b(v.id),className:"rounded p-1.5 text-gray-400 hover:bg-blue-50 hover:text-blue-600",title:"Mark as Sent",children:r.jsx(Uc,{className:"h-4 w-4"})}),t("finance.manage-budgets")&&r.jsx("button",{onClick:()=>w(v.id),className:"rounded p-1.5 text-gray-400 hover:bg-red-50 hover:text-red-600",title:"Delete",children:r.jsx(ra,{className:"h-4 w-4"})})]})})]},v.id))})]})}),m.last_page>1&&r.jsxs("div",{className:"flex items-center justify-between border-t px-4 py-3",children:[r.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",m.from,"-",m.to," of ",m.total]}),r.jsx("div",{className:"flex gap-1",children:Array.from({length:m.last_page},(v,j)=>j+1).map(v=>r.jsx("button",{onClick:()=>g(v),className:`rounded px-3 py-1 text-sm ${v===m.current_page?"bg-primary-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:v},v))})]})]})]})}const Ff={description:"",quantity:1,unit:"",unit_price:0};function rb(){const{id:t}=Mc(),e=Va(),n=!!t,[i,l]=S.useState(!1),[c,u]=S.useState(!1),[f,h]=S.useState([]),[m,y]=S.useState([]),[g,b]=S.useState({client_id:"",project_id:"",issue_date:new Date().toISOString().split("T")[0],due_date:"",tax_rate:0,discount:0,currency:"PKR",notes:"",terms:"",items:[{...Ff}]}),[w,v]=S.useState({});S.useEffect(()=>{(async()=>{try{const[R,q]=await Promise.all([d1.list({per_page:100}),_t.list({per_page:100})]);h(R.data?.data||[]),y(q.data?.data||[])}catch{}})()},[]),S.useEffect(()=>{n&&(async()=>{l(!0);try{const q=(await ct.getInvoice(t)).data;b({client_id:q.client_id||"",project_id:q.project_id||"",issue_date:q.issue_date||"",due_date:q.due_date||"",tax_rate:q.tax_rate||0,discount:q.discount||0,currency:q.currency||"PKR",notes:q.notes||"",terms:q.terms||"",items:q.items?.length?q.items.map(z=>({description:z.description,quantity:z.quantity,unit:z.unit||"",unit_price:z.unit_price})):[{...Ff}]})}catch{se.error("Failed to load invoice"),e("/finance/invoices")}finally{l(!1)}})()},[t]);const j=(R,q)=>{b(z=>({...z,[R]:q})),v(z=>({...z,[R]:void 0}))},N=(R,q,z)=>{b(P=>{const K=[...P.items];return K[R]={...K[R],[q]:z},{...P,items:K}})},M=()=>b(R=>({...R,items:[...R.items,{...Ff}]})),E=R=>{g.items.length<=1||b(q=>({...q,items:q.items.filter((z,P)=>P!==R)}))},k=g.items.reduce((R,q)=>R+(Number(q.quantity)||0)*(Number(q.unit_price)||0),0),U=k*(Number(g.tax_rate)||0)/100,B=k+U-(Number(g.discount)||0),I=async R=>{R.preventDefault(),u(!0),v({});try{const q={...g,client_id:Number(g.client_id),project_id:g.project_id?Number(g.project_id):null,tax_rate:Number(g.tax_rate)||0,discount:Number(g.discount)||0,items:g.items.map(z=>({description:z.description,quantity:Number(z.quantity)||1,unit:z.unit||null,unit_price:Number(z.unit_price)||0}))};n?(await ct.updateInvoice(t,q),se.success("Invoice updated")):(await ct.createInvoice(q),se.success("Invoice created")),e("/finance/invoices")}catch(q){q.response?.status===422?(v(q.response.data.errors||{}),se.error("Please fix the validation errors")):se.error(q.response?.data?.message||"Failed to save invoice")}finally{u(!1)}};return i?r.jsx(mt,{}):r.jsxs("div",{className:"mx-auto max-w-4xl",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n?"Edit Invoice":"Create Invoice"}),r.jsx("p",{className:"text-sm text-gray-500",children:n?"Update invoice details":"Generate a new client invoice"})]}),r.jsxs("form",{onSubmit:I,className:"space-y-6",children:[r.jsxs("div",{className:"rounded-xl bg-white p-6 shadow-sm ring-1 ring-gray-200",children:[r.jsx("h2",{className:"mb-4 text-sm font-semibold uppercase text-gray-500",children:"Invoice Details"}),r.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Client *"}),r.jsxs("select",{value:g.client_id,onChange:R=>j("client_id",R.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500",children:[r.jsx("option",{value:"",children:"Select Client"}),f.map(R=>r.jsx("option",{value:R.id,children:R.company_name},R.id))]}),w.client_id&&r.jsx("p",{className:"mt-1 text-xs text-red-500",children:w.client_id[0]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Project"}),r.jsxs("select",{value:g.project_id,onChange:R=>j("project_id",R.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500",children:[r.jsx("option",{value:"",children:"None"}),m.map(R=>r.jsxs("option",{value:R.id,children:[R.name," (",R.code,")"]},R.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Issue Date *"}),r.jsx("input",{type:"date",value:g.issue_date,onChange:R=>j("issue_date",R.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"}),w.issue_date&&r.jsx("p",{className:"mt-1 text-xs text-red-500",children:w.issue_date[0]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Due Date *"}),r.jsx("input",{type:"date",value:g.due_date,onChange:R=>j("due_date",R.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"}),w.due_date&&r.jsx("p",{className:"mt-1 text-xs text-red-500",children:w.due_date[0]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Currency"}),r.jsx("input",{type:"text",value:g.currency,onChange:R=>j("currency",R.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"})]})]})]}),r.jsxs("div",{className:"rounded-xl bg-white p-6 shadow-sm ring-1 ring-gray-200",children:[r.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[r.jsx("h2",{className:"text-sm font-semibold uppercase text-gray-500",children:"Line Items"}),r.jsxs("button",{type:"button",onClick:M,className:"inline-flex items-center gap-1 rounded-lg border border-gray-300 px-3 py-1.5 text-xs font-medium text-gray-600 hover:bg-gray-50",children:[r.jsx(Yt,{className:"h-4 w-4"}),"Add Item"]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"hidden sm:grid sm:grid-cols-12 sm:gap-3 sm:px-1",children:[r.jsx("span",{className:"col-span-5 text-xs font-medium text-gray-500",children:"Description"}),r.jsx("span",{className:"col-span-2 text-xs font-medium text-gray-500",children:"Qty"}),r.jsx("span",{className:"col-span-1 text-xs font-medium text-gray-500",children:"Unit"}),r.jsx("span",{className:"col-span-2 text-xs font-medium text-gray-500",children:"Unit Price"}),r.jsx("span",{className:"col-span-1 text-right text-xs font-medium text-gray-500",children:"Amount"}),r.jsx("span",{className:"col-span-1"})]}),g.items.map((R,q)=>r.jsxs("div",{className:"grid gap-2 rounded-lg border border-gray-100 p-3 sm:grid-cols-12 sm:gap-3 sm:border-0 sm:p-0",children:[r.jsx("input",{placeholder:"Description",value:R.description,onChange:z=>N(q,"description",z.target.value),className:"col-span-5 rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"}),r.jsx("input",{type:"number",placeholder:"Qty",value:R.quantity,onChange:z=>N(q,"quantity",z.target.value),min:"0.01",step:"0.01",className:"col-span-2 rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"}),r.jsx("input",{placeholder:"Unit",value:R.unit,onChange:z=>N(q,"unit",z.target.value),className:"col-span-1 rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"}),r.jsx("input",{type:"number",placeholder:"Price",value:R.unit_price,onChange:z=>N(q,"unit_price",z.target.value),min:"0",step:"0.01",className:"col-span-2 rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"}),r.jsx("div",{className:"col-span-1 flex items-center justify-end text-sm font-medium text-gray-700",children:((Number(R.quantity)||0)*(Number(R.unit_price)||0)).toLocaleString("en-PK",{minimumFractionDigits:2})}),r.jsx("div",{className:"col-span-1 flex items-center justify-center",children:r.jsx("button",{type:"button",onClick:()=>E(q),disabled:g.items.length<=1,className:"rounded p-1 text-gray-400 hover:bg-red-50 hover:text-red-500 disabled:opacity-30",children:r.jsx(ra,{className:"h-4 w-4"})})})]},q))]}),w.items&&r.jsx("p",{className:"mt-2 text-xs text-red-500",children:w.items[0]})]}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[r.jsxs("div",{className:"rounded-xl bg-white p-6 shadow-sm ring-1 ring-gray-200",children:[r.jsx("h2",{className:"mb-4 text-sm font-semibold uppercase text-gray-500",children:"Notes & Terms"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Notes"}),r.jsx("textarea",{rows:3,value:g.notes,onChange:R=>j("notes",R.target.value),placeholder:"Additional notes for the client...",className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Terms & Conditions"}),r.jsx("textarea",{rows:3,value:g.terms,onChange:R=>j("terms",R.target.value),placeholder:"Payment terms...",className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"})]})]})]}),r.jsxs("div",{className:"rounded-xl bg-white p-6 shadow-sm ring-1 ring-gray-200",children:[r.jsx("h2",{className:"mb-4 text-sm font-semibold uppercase text-gray-500",children:"Summary"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Tax Rate (%)"}),r.jsx("input",{type:"number",value:g.tax_rate,onChange:R=>j("tax_rate",R.target.value),min:"0",max:"100",step:"0.01",className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:["Discount (",g.currency,")"]}),r.jsx("input",{type:"number",value:g.discount,onChange:R=>j("discount",R.target.value),min:"0",step:"0.01",className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"})]})]}),r.jsxs("div",{className:"space-y-2 border-t pt-3",children:[r.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[r.jsx("span",{children:"Subtotal"}),r.jsxs("span",{children:[g.currency," ",k.toLocaleString("en-PK",{minimumFractionDigits:2})]})]}),Number(g.tax_rate)>0&&r.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[r.jsxs("span",{children:["Tax (",g.tax_rate,"%)"]}),r.jsxs("span",{children:[g.currency," ",U.toLocaleString("en-PK",{minimumFractionDigits:2})]})]}),Number(g.discount)>0&&r.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[r.jsx("span",{children:"Discount"}),r.jsxs("span",{children:["- ",g.currency," ",Number(g.discount).toLocaleString("en-PK",{minimumFractionDigits:2})]})]}),r.jsxs("div",{className:"flex justify-between border-t pt-2 text-lg font-bold text-primary-700",children:[r.jsx("span",{children:"Total"}),r.jsxs("span",{children:[g.currency," ",B.toLocaleString("en-PK",{minimumFractionDigits:2})]})]})]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3",children:[r.jsx("button",{type:"button",onClick:()=>e("/finance/invoices"),className:"rounded-lg border border-gray-300 px-4 py-2.5 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:c,className:"rounded-lg bg-primary-600 px-6 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-primary-700 disabled:opacity-50",children:c?"Saving...":n?"Update Invoice":"Create Invoice"})]})]})]})}const VE={draft:"bg-gray-100 text-gray-700",sent:"bg-blue-100 text-blue-700",paid:"bg-green-100 text-green-700",partially_paid:"bg-yellow-100 text-yellow-700",overdue:"bg-red-100 text-red-700",cancelled:"bg-red-100 text-red-600"};function zs(t,e="PKR"){return`${e} ${Number(t||0).toLocaleString("en-PK",{minimumFractionDigits:2})}`}function $E(){const{id:t}=Mc(),{can:e}=At(),n=Va(),[i,l]=S.useState(null),[c,u]=S.useState(!0),[f,h]=S.useState(!1),[m,y]=S.useState(!1),[g,b]=S.useState({amount:"",payment_date:new Date().toISOString().split("T")[0],method:"bank_transfer",reference:"",notes:""}),w=async()=>{try{const N=await ct.getInvoice(t);l(N.data)}catch{se.error("Failed to load invoice"),n("/finance/invoices")}finally{u(!1)}};S.useEffect(()=>{w()},[t]);const v=async()=>{try{await ct.markAsSent(t),se.success("Invoice marked as sent"),w()}catch(N){se.error(N.response?.data?.message||"Failed")}},j=async N=>{N.preventDefault(),y(!0);try{await ct.recordPayment(t,{...g,amount:Number(g.amount)}),se.success("Payment recorded"),h(!1),b({amount:"",payment_date:new Date().toISOString().split("T")[0],method:"bank_transfer",reference:"",notes:""}),w()}catch(M){se.error(M.response?.data?.message||"Failed to record payment")}finally{y(!1)}};return c?r.jsx(mt,{}):i?r.jsxs("div",{className:"mx-auto max-w-4xl",children:[r.jsxs("div",{className:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Le,{to:"/finance/invoices",className:"rounded-lg p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-600",children:r.jsx(Bc,{className:"h-5 w-5"})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:i.invoice_number}),r.jsx("span",{className:`rounded-full px-2.5 py-0.5 text-xs font-medium ${VE[i.status]}`,children:i.status?.replace("_"," ")})]}),r.jsx("p",{className:"text-sm text-gray-500",children:i.client?.company_name})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("a",{href:ct.getPdfDownloadUrl(i.id),className:"inline-flex items-center gap-1.5 rounded-lg border border-gray-300 px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:[r.jsx($t,{className:"h-4 w-4"}),"Download PDF"]}),e("finance.manage-budgets")&&i.status==="draft"&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:v,className:"inline-flex items-center gap-1.5 rounded-lg border border-blue-300 px-3 py-2 text-sm font-medium text-blue-700 hover:bg-blue-50",children:[r.jsx(Uc,{className:"h-4 w-4"}),"Mark as Sent"]}),r.jsxs(Le,{to:`/finance/invoices/${i.id}/edit`,className:"inline-flex items-center gap-1.5 rounded-lg bg-primary-600 px-3 py-2 text-sm font-medium text-white hover:bg-primary-700",children:[r.jsx(fv,{className:"h-4 w-4"}),"Edit"]})]}),e("finance.manage-budgets")&&i.balance_due>0&&i.status!=="draft"&&r.jsxs("button",{onClick:()=>h(!0),className:"inline-flex items-center gap-1.5 rounded-lg bg-green-600 px-3 py-2 text-sm font-medium text-white hover:bg-green-700",children:[r.jsx($i,{className:"h-4 w-4"}),"Record Payment"]})]})]}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsx("div",{className:"rounded-xl bg-white p-6 shadow-sm ring-1 ring-gray-200",children:r.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium uppercase text-gray-400",children:"Bill To"}),r.jsx("p",{className:"mt-1 font-semibold text-gray-900",children:i.client?.company_name}),i.client?.contact_person&&r.jsx("p",{className:"text-sm text-gray-600",children:i.client.contact_person}),i.client?.email&&r.jsx("p",{className:"text-sm text-gray-500",children:i.client.email})]}),r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Issue Date:"})," ",i.issue_date]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Due Date:"})," ",i.due_date]}),i.project&&r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Project:"})," ",i.project.name]})]})})]})}),r.jsx("div",{className:"overflow-hidden rounded-xl bg-white shadow-sm ring-1 ring-gray-200",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase text-gray-500",children:"#"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase text-gray-500",children:"Description"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold uppercase text-gray-500",children:"Qty"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold uppercase text-gray-500",children:"Unit Price"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold uppercase text-gray-500",children:"Amount"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-100",children:i.items?.map((N,M)=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:M+1}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:N.description}),r.jsxs("td",{className:"px-4 py-3 text-right text-sm text-gray-700",children:[N.quantity," ",N.unit||""]}),r.jsx("td",{className:"px-4 py-3 text-right text-sm text-gray-700",children:zs(N.unit_price,i.currency)}),r.jsx("td",{className:"px-4 py-3 text-right text-sm font-medium text-gray-900",children:zs(N.amount,i.currency)})]},N.id))})]})}),i.payments?.length>0&&r.jsxs("div",{className:"overflow-hidden rounded-xl bg-white shadow-sm ring-1 ring-gray-200",children:[r.jsx("div",{className:"border-b px-4 py-3",children:r.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Payment History"})}),r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase text-gray-500",children:"Date"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase text-gray-500",children:"Method"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase text-gray-500",children:"Reference"}),r.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold uppercase text-gray-500",children:"Amount"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-100",children:i.payments.map(N=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-4 py-2.5 text-sm text-gray-700",children:N.payment_date}),r.jsx("td",{className:"px-4 py-2.5 text-sm text-gray-600",children:N.method?.replace("_"," ")}),r.jsx("td",{className:"px-4 py-2.5 text-sm text-gray-500",children:N.reference||"-"}),r.jsx("td",{className:"px-4 py-2.5 text-right text-sm font-medium text-green-600",children:zs(N.amount,i.currency)})]},N.id))})]})]}),(i.notes||i.terms)&&r.jsxs("div",{className:"rounded-xl bg-white p-6 shadow-sm ring-1 ring-gray-200",children:[i.notes&&r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-xs font-medium uppercase text-gray-400",children:"Notes"}),r.jsx("p",{className:"mt-1 text-sm text-gray-600",children:i.notes})]}),i.terms&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium uppercase text-gray-400",children:"Terms & Conditions"}),r.jsx("p",{className:"mt-1 text-sm text-gray-600",children:i.terms})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"rounded-xl bg-white p-6 shadow-sm ring-1 ring-gray-200",children:[r.jsx("h3",{className:"mb-4 text-sm font-semibold uppercase text-gray-500",children:"Summary"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[r.jsx("span",{children:"Subtotal"}),r.jsx("span",{children:zs(i.subtotal,i.currency)})]}),i.tax_rate>0&&r.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[r.jsxs("span",{children:["Tax (",i.tax_rate,"%)"]}),r.jsx("span",{children:zs(i.tax_amount,i.currency)})]}),i.discount>0&&r.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[r.jsx("span",{children:"Discount"}),r.jsxs("span",{children:["- ",zs(i.discount,i.currency)]})]}),r.jsxs("div",{className:"flex justify-between border-t pt-2 text-base font-bold text-gray-900",children:[r.jsx("span",{children:"Total"}),r.jsx("span",{children:zs(i.total,i.currency)})]}),i.amount_paid>0&&r.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[r.jsx("span",{children:"Paid"}),r.jsx("span",{children:zs(i.amount_paid,i.currency)})]}),i.balance_due>0&&r.jsxs("div",{className:"flex justify-between border-t pt-2 text-base font-bold text-red-600",children:[r.jsx("span",{children:"Balance Due"}),r.jsx("span",{children:zs(i.balance_due,i.currency)})]})]})]}),r.jsxs("div",{className:"rounded-xl bg-white shadow-sm ring-1 ring-gray-200",children:[r.jsx("div",{className:"border-b px-4 py-3",children:r.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"PDF Preview"})}),r.jsx("div",{className:"p-2",children:r.jsx("iframe",{src:ct.getPdfPreviewUrl(i.id),className:"h-96 w-full rounded border",title:"Invoice PDF Preview"})})]})]})]}),f&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>h(!1),children:r.jsxs("div",{className:"mx-4 w-full max-w-md rounded-xl bg-white p-6 shadow-xl",onClick:N=>N.stopPropagation(),children:[r.jsx("h3",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Record Payment"}),r.jsxs("p",{className:"mb-4 text-sm text-gray-500",children:["Balance due: ",r.jsx("span",{className:"font-medium text-red-600",children:zs(i.balance_due,i.currency)})]}),r.jsxs("form",{onSubmit:j,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Amount *"}),r.jsx("input",{type:"number",value:g.amount,onChange:N=>b(M=>({...M,amount:N.target.value})),min:"0.01",step:"0.01",max:i.balance_due,required:!0,className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Payment Date *"}),r.jsx("input",{type:"date",value:g.payment_date,onChange:N=>b(M=>({...M,payment_date:N.target.value})),required:!0,className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Method"}),r.jsxs("select",{value:g.method,onChange:N=>b(M=>({...M,method:N.target.value})),className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500",children:[r.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),r.jsx("option",{value:"cheque",children:"Cheque"}),r.jsx("option",{value:"cash",children:"Cash"}),r.jsx("option",{value:"online",children:"Online"}),r.jsx("option",{value:"other",children:"Other"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Reference"}),r.jsx("input",{type:"text",value:g.reference,onChange:N=>b(M=>({...M,reference:N.target.value})),placeholder:"Transaction ID, cheque no...",className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Notes"}),r.jsx("textarea",{rows:2,value:g.notes,onChange:N=>b(M=>({...M,notes:N.target.value})),className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx("button",{type:"button",onClick:()=>h(!1),className:"rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:m,className:"rounded-lg bg-green-600 px-4 py-2 text-sm font-semibold text-white hover:bg-green-700 disabled:opacity-50",children:m?"Recording...":"Record Payment"})]})]})]})})]}):null}const YE={pending:"bg-yellow-100 text-yellow-700",approved:"bg-green-100 text-green-700",rejected:"bg-red-100 text-red-700"},lb=["materials","labor","equipment","subcontractor","transport","permits","utilities","office","other"];function XE(t){return"PKR "+Number(t||0).toLocaleString("en-PK",{minimumFractionDigits:2})}function GE(){const{can:t}=At(),[e,n]=S.useState([]),[i,l]=S.useState(!0),[c,u]=S.useState(""),[f,h]=S.useState(""),[m,y]=S.useState(""),[g,b]=S.useState({}),[w,v]=S.useState(!1),[j,N]=S.useState([]),[M,E]=S.useState(!1),[k,U]=S.useState({project_id:"",title:"",description:"",category:"materials",amount:"",expense_date:new Date().toISOString().split("T")[0],vendor:"",receipt:null}),B=async(P=1)=>{l(!0);try{const K={page:P};c&&(K.search=c),f&&(K.status=f),m&&(K.category=m);const le=await ct.listExpenses(K);n(le.data?.data||[]),b(le.data?.meta||le.data||{})}catch{n([])}finally{l(!1)}};S.useEffect(()=>{const P=setTimeout(()=>B(),400);return()=>clearTimeout(P)},[c,f,m]),S.useEffect(()=>{B(),_t.list({per_page:100}).then(P=>N(P.data?.data||[])).catch(()=>{})},[]);const I=async P=>{P.preventDefault(),E(!0);try{const K=new FormData;K.append("title",k.title),K.append("amount",k.amount),K.append("expense_date",k.expense_date),K.append("category",k.category),k.project_id&&K.append("project_id",k.project_id),k.description&&K.append("description",k.description),k.vendor&&K.append("vendor",k.vendor),k.receipt&&K.append("receipt",k.receipt),await ct.createExpense(K),se.success("Expense recorded"),v(!1),U({project_id:"",title:"",description:"",category:"materials",amount:"",expense_date:new Date().toISOString().split("T")[0],vendor:"",receipt:null}),B()}catch(K){se.error(K.response?.data?.message||"Failed to create expense")}finally{E(!1)}},R=async P=>{try{await ct.approveExpense(P),se.success("Expense approved"),B()}catch(K){se.error(K.response?.data?.message||"Failed")}},q=async P=>{try{await ct.rejectExpense(P),se.success("Expense rejected"),B()}catch(K){se.error(K.response?.data?.message||"Failed")}},z=async P=>{if(confirm("Delete this expense?"))try{await ct.deleteExpense(P),se.success("Expense deleted"),B()}catch{se.error("Failed to delete expense")}};return r.jsxs("div",{children:[r.jsxs("div",{className:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Expenses"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Track and manage project expenses"})]}),t("finance.manage-budgets")&&r.jsxs("button",{onClick:()=>v(!0),className:"inline-flex items-center gap-2 rounded-lg bg-primary-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-primary-700",children:[r.jsx(Yt,{className:"h-5 w-5"}),"New Expense"]})]}),r.jsxs("div",{className:"mb-6 flex flex-col gap-3 sm:flex-row",children:[r.jsxs("div",{className:"relative max-w-md flex-1",children:[r.jsx(ia,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search expenses...",value:c,onChange:P=>u(P.target.value),className:"w-full rounded-lg border border-gray-300 py-2.5 pl-10 pr-4 text-sm shadow-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"})]}),r.jsxs("select",{value:f,onChange:P=>h(P.target.value),className:"rounded-lg border border-gray-300 px-3 py-2.5 text-sm shadow-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500",children:[r.jsx("option",{value:"",children:"All Statuses"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"rejected",children:"Rejected"})]}),r.jsxs("select",{value:m,onChange:P=>y(P.target.value),className:"rounded-lg border border-gray-300 px-3 py-2.5 text-sm shadow-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500",children:[r.jsx("option",{value:"",children:"All Categories"}),lb.map(P=>r.jsx("option",{value:P,children:P.charAt(0).toUpperCase()+P.slice(1)},P))]})]}),i?r.jsx(mt,{}):e.length===0?r.jsxs("div",{className:"rounded-xl bg-white py-12 text-center shadow-sm ring-1 ring-gray-200",children:[r.jsx(Eh,{className:"mx-auto h-12 w-12 text-gray-300"}),r.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"No expenses found"})]}):r.jsxs("div",{className:"overflow-hidden rounded-xl bg-white shadow-sm ring-1 ring-gray-200",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase text-gray-500",children:"Title"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase text-gray-500",children:"Category"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase text-gray-500",children:"Project"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold uppercase text-gray-500",children:"Amount"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase text-gray-500",children:"Date"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase text-gray-500",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold uppercase text-gray-500",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-100",children:e.map(P=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"px-4 py-3",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:P.title}),P.vendor&&r.jsx("p",{className:"text-xs text-gray-500",children:P.vendor})]}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"rounded-full bg-gray-100 px-2 py-0.5 text-xs font-medium text-gray-600",children:P.category})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:P.project?.name||"-"}),r.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-right text-sm font-medium text-gray-900",children:XE(P.amount)}),r.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-sm text-gray-500",children:P.expense_date}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`inline-block rounded-full px-2 py-0.5 text-xs font-medium ${YE[P.status]}`,children:P.status})}),r.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-right",children:r.jsxs("div",{className:"flex items-center justify-end gap-1",children:[t("finance.approve-expenses")&&P.status==="pending"&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>R(P.id),className:"rounded p-1.5 text-gray-400 hover:bg-green-50 hover:text-green-600",title:"Approve",children:r.jsx(t5,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>q(P.id),className:"rounded p-1.5 text-gray-400 hover:bg-red-50 hover:text-red-600",title:"Reject",children:r.jsx(Us,{className:"h-4 w-4"})})]}),t("finance.manage-budgets")&&r.jsx("button",{onClick:()=>z(P.id),className:"rounded p-1.5 text-gray-400 hover:bg-red-50 hover:text-red-600",title:"Delete",children:r.jsx(ra,{className:"h-4 w-4"})})]})})]},P.id))})]})}),g.last_page>1&&r.jsxs("div",{className:"flex items-center justify-between border-t px-4 py-3",children:[r.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",g.from,"-",g.to," of ",g.total]}),r.jsx("div",{className:"flex gap-1",children:Array.from({length:g.last_page},(P,K)=>K+1).map(P=>r.jsx("button",{onClick:()=>B(P),className:`rounded px-3 py-1 text-sm ${P===g.current_page?"bg-primary-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:P},P))})]})]}),w&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>v(!1),children:r.jsxs("div",{className:"mx-4 w-full max-w-lg rounded-xl bg-white p-6 shadow-xl",onClick:P=>P.stopPropagation(),children:[r.jsx("h3",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Record Expense"}),r.jsxs("form",{onSubmit:I,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Title *"}),r.jsx("input",{type:"text",value:k.title,onChange:P=>U(K=>({...K,title:P.target.value})),required:!0,className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Amount *"}),r.jsx("input",{type:"number",value:k.amount,onChange:P=>U(K=>({...K,amount:P.target.value})),min:"0.01",step:"0.01",required:!0,className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Date *"}),r.jsx("input",{type:"date",value:k.expense_date,onChange:P=>U(K=>({...K,expense_date:P.target.value})),required:!0,className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Category"}),r.jsx("select",{value:k.category,onChange:P=>U(K=>({...K,category:P.target.value})),className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500",children:lb.map(P=>r.jsx("option",{value:P,children:P.charAt(0).toUpperCase()+P.slice(1)},P))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Project"}),r.jsxs("select",{value:k.project_id,onChange:P=>U(K=>({...K,project_id:P.target.value})),className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500",children:[r.jsx("option",{value:"",children:"No Project"}),j.map(P=>r.jsx("option",{value:P.id,children:P.name},P.id))]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Vendor"}),r.jsx("input",{type:"text",value:k.vendor,onChange:P=>U(K=>({...K,vendor:P.target.value})),className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Description"}),r.jsx("textarea",{rows:2,value:k.description,onChange:P=>U(K=>({...K,description:P.target.value})),className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Receipt"}),r.jsx("input",{type:"file",onChange:P=>U(K=>({...K,receipt:P.target.files[0]||null})),className:"w-full text-sm text-gray-500 file:mr-4 file:rounded-lg file:border-0 file:bg-primary-50 file:px-4 file:py-2 file:text-sm file:font-medium file:text-primary-700 hover:file:bg-primary-100"})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[r.jsx("button",{type:"button",onClick:()=>v(!1),className:"rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:M,className:"rounded-lg bg-primary-600 px-4 py-2 text-sm font-semibold text-white hover:bg-primary-700 disabled:opacity-50",children:M?"Saving...":"Record Expense"})]})]})]})})]})}function cn(t){return"PKR "+Number(t||0).toLocaleString("en-PK",{minimumFractionDigits:0,maximumFractionDigits:0})}function WE(){const[t,e]=S.useState(null),[n,i]=S.useState(!0);if(S.useEffect(()=>{(async()=>{try{const u=await ct.getBudgetVsActual();e(u.data)}catch{e(null)}finally{i(!1)}})()},[]),n)return r.jsx(mt,{});const l=t?.projects||[],c=t?.totals||{};return r.jsxs("div",{children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Budget vs Actual"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Compare project budgets against actual spending"})]}),r.jsxs("div",{className:"mb-6 grid gap-4 sm:grid-cols-4",children:[r.jsxs("div",{className:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-200",children:[r.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Total Budget"}),r.jsx("p",{className:"text-xl font-bold text-gray-900",children:cn(c.total_budget)})]}),r.jsxs("div",{className:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-200",children:[r.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Total Spent"}),r.jsx("p",{className:"text-xl font-bold text-gray-900",children:cn(c.total_spent)})]}),r.jsxs("div",{className:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-200",children:[r.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Total Revenue"}),r.jsx("p",{className:"text-xl font-bold text-green-600",children:cn(c.total_revenue)})]}),r.jsxs("div",{className:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-200",children:[r.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Total Variance"}),r.jsx("p",{className:`text-xl font-bold ${c.total_variance>=0?"text-green-600":"text-red-600"}`,children:cn(c.total_variance)})]})]}),l.length===0?r.jsxs("div",{className:"rounded-xl bg-white py-12 text-center shadow-sm ring-1 ring-gray-200",children:[r.jsx(Hc,{className:"mx-auto h-12 w-12 text-gray-300"}),r.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"No projects with budgets found"})]}):r.jsx("div",{className:"space-y-4",children:l.map(u=>{const f=Math.min(u.utilization_percent,100),h=u.over_budget?"bg-red-500":f>80?"bg-yellow-500":"bg-green-500";return r.jsxs("div",{className:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-200",children:[r.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:u.project_name}),r.jsxs("p",{className:"text-xs text-gray-500",children:[u.project_code,"  ",u.status]})]}),r.jsx("div",{className:"text-right",children:u.over_budget?r.jsx("span",{className:"rounded-full bg-red-100 px-2.5 py-0.5 text-xs font-medium text-red-700",children:"Over Budget"}):r.jsx("span",{className:"rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-700",children:"Within Budget"})})]}),r.jsxs("div",{className:"mb-3",children:[r.jsxs("div",{className:"mb-1 flex justify-between text-xs text-gray-500",children:[r.jsxs("span",{children:[u.utilization_percent,"% utilized"]}),r.jsxs("span",{children:[cn(u.actual_spent)," / ",cn(u.budget)]})]}),r.jsx("div",{className:"h-2.5 w-full rounded-full bg-gray-100",children:r.jsx("div",{className:`h-2.5 rounded-full ${h} transition-all`,style:{width:`${Math.min(f,100)}%`}})})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 border-t pt-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Budget"}),r.jsx("p",{className:"text-sm font-medium text-gray-900",children:cn(u.budget)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Revenue"}),r.jsx("p",{className:"text-sm font-medium text-green-600",children:cn(u.invoiced_revenue)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Variance"}),r.jsx("p",{className:`text-sm font-medium ${u.variance>=0?"text-green-600":"text-red-600"}`,children:cn(u.variance)})]})]})]},u.project_id)})})]})}function ss(t){return"PKR "+Number(t||0).toLocaleString("en-PK",{minimumFractionDigits:0,maximumFractionDigits:0})}const QE=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}];function ZE(){const t=new Date,[e,n]=S.useState(t.getFullYear()),[i,l]=S.useState(t.getMonth()+1),[c,u]=S.useState(null),[f,h]=S.useState(!1),m=async()=>{h(!0);try{const j=await ct.getMonthlySummary({year:e,month:i});u(j.data)}catch{u(null)}finally{h(!1)}};S.useEffect(()=>{m()},[e,i]);const y=c?.summary||{},g=c?.invoices||{},b=c?.expenses||{},w=c?.payroll||{},v=c?.expense_by_category||[];return r.jsxs("div",{children:[r.jsxs("div",{className:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Monthly Summary"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Detailed financial report by month"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("select",{value:i,onChange:j=>l(Number(j.target.value)),className:"rounded-lg border border-gray-300 px-3 py-2.5 text-sm shadow-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500",children:QE.map(j=>r.jsx("option",{value:j.value,children:j.label},j.value))}),r.jsx("select",{value:e,onChange:j=>n(Number(j.target.value)),className:"rounded-lg border border-gray-300 px-3 py-2.5 text-sm shadow-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500",children:Array.from({length:5},(j,N)=>t.getFullYear()-2+N).map(j=>r.jsx("option",{value:j,children:j},j))})]})]}),f?r.jsx(mt,{}):c?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid gap-4 sm:grid-cols-4",children:[r.jsxs("div",{className:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-200",children:[r.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Total Income"}),r.jsx("p",{className:"text-xl font-bold text-green-600",children:ss(y.total_income)})]}),r.jsxs("div",{className:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-200",children:[r.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Total Expenses"}),r.jsx("p",{className:"text-xl font-bold text-red-600",children:ss(y.total_expenses)})]}),r.jsxs("div",{className:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-200",children:[r.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Net Profit"}),r.jsx("p",{className:`text-xl font-bold ${y.net_profit>=0?"text-green-600":"text-red-600"}`,children:ss(y.net_profit)})]}),r.jsxs("div",{className:"rounded-xl bg-white p-5 shadow-sm ring-1 ring-gray-200",children:[r.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Profit Margin"}),r.jsxs("p",{className:`text-xl font-bold ${y.profit_margin>=0?"text-green-600":"text-red-600"}`,children:[y.profit_margin,"%"]})]})]}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[r.jsxs("div",{className:"rounded-xl bg-white p-6 shadow-sm ring-1 ring-gray-200",children:[r.jsx("h2",{className:"mb-4 text-sm font-semibold uppercase text-gray-500",children:"Invoices"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Total Invoices"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:g.total_invoices})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Total Invoiced"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:ss(g.total_invoiced)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Collected"}),r.jsx("span",{className:"text-sm font-medium text-green-600",children:ss(g.total_collected)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Outstanding"}),r.jsx("span",{className:"text-sm font-medium text-red-600",children:ss(g.total_outstanding)})]}),r.jsxs("div",{className:"flex justify-between border-t pt-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Paid / Unpaid / Overdue"}),r.jsxs("span",{className:"text-sm text-gray-700",children:[r.jsx("span",{className:"text-green-600",children:g.paid_count})," / ",r.jsx("span",{className:"text-yellow-600",children:g.unpaid_count})," / ",r.jsx("span",{className:"text-red-600",children:g.overdue_count})]})]})]})]}),r.jsxs("div",{className:"rounded-xl bg-white p-6 shadow-sm ring-1 ring-gray-200",children:[r.jsx("h2",{className:"mb-4 text-sm font-semibold uppercase text-gray-500",children:"Expenses"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Total Expenses"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:b.total_expenses})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Total Amount"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:ss(b.total_amount)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Approved"}),r.jsx("span",{className:"text-sm font-medium text-green-600",children:ss(b.approved_amount)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Pending"}),r.jsx("span",{className:"text-sm font-medium text-yellow-600",children:ss(b.pending_amount)})]})]})]}),r.jsxs("div",{className:"rounded-xl bg-white p-6 shadow-sm ring-1 ring-gray-200",children:[r.jsx("h2",{className:"mb-4 text-sm font-semibold uppercase text-gray-500",children:"Payroll"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Records"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:w.total_records})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Total Payroll"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:ss(w.total_payroll)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Overtime Pay"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:ss(w.total_overtime)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Deductions"}),r.jsx("span",{className:"text-sm font-medium text-red-600",children:ss(w.total_deductions)})]}),r.jsxs("div",{className:"flex justify-between border-t pt-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Paid / Unpaid"}),r.jsxs("span",{className:"text-sm text-gray-700",children:[r.jsx("span",{className:"text-green-600",children:w.paid_count})," / ",r.jsx("span",{className:"text-yellow-600",children:w.unpaid_count})]})]})]})]}),r.jsxs("div",{className:"rounded-xl bg-white p-6 shadow-sm ring-1 ring-gray-200",children:[r.jsx("h2",{className:"mb-4 text-sm font-semibold uppercase text-gray-500",children:"Expense Breakdown"}),v.length===0?r.jsx("p",{className:"text-sm text-gray-500",children:"No approved expenses this month"}):r.jsx("div",{className:"space-y-3",children:v.map(j=>{const N=v.reduce((E,k)=>E+Number(k.total),0),M=N>0?Number(j.total)/N*100:0;return r.jsxs("div",{children:[r.jsxs("div",{className:"mb-1 flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600 capitalize",children:j.category}),r.jsxs("span",{className:"font-medium text-gray-900",children:[ss(j.total)," (",j.count,")"]})]}),r.jsx("div",{className:"h-1.5 w-full rounded-full bg-gray-100",children:r.jsx("div",{className:"h-1.5 rounded-full bg-primary-500",style:{width:`${M}%`}})})]},j.category)})})]})]})]}):r.jsxs("div",{className:"rounded-xl bg-white py-12 text-center shadow-sm ring-1 ring-gray-200",children:[r.jsx(Hc,{className:"mx-auto h-12 w-12 text-gray-300"}),r.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"No data available for this period"})]})]})}const st={getOverview:t=>te.get("/safety/overview",{params:{project_id:t}}),getIncidents:t=>te.get("/safety/incidents",{params:t}),getIncident:t=>te.get(`/safety/incidents/${t}`),createIncident:t=>te.post("/safety/incidents",t,{headers:{"Content-Type":"multipart/form-data"}}),updateIncident:(t,e)=>te.put(`/safety/incidents/${t}`,e),getIncidentPdfUrl:t=>`/api/safety/incidents/${t}/pdf`,getHazards:t=>te.get("/safety/hazards",{params:t}),createHazard:t=>te.post("/safety/hazards",t,{headers:{"Content-Type":"multipart/form-data"}}),updateHazard:(t,e)=>te.put(`/safety/hazards/${t}`,e),getHazardPdfUrl:t=>`/api/safety/hazards/${t}/pdf`,getMeetings:t=>te.get("/safety/meetings",{params:t}),getMeeting:t=>te.get(`/safety/meetings/${t}`),createMeeting:t=>te.post("/safety/meetings",t,{headers:{"Content-Type":"multipart/form-data"}}),getMeetingPdfUrl:t=>`/api/safety/meetings/${t}/pdf`,getChecklists:t=>te.get("/safety/checklists",{params:t}),getChecklist:t=>te.get(`/safety/checklists/${t}`),createChecklist:t=>te.post("/safety/checklists",t),getChecklistPdfUrl:t=>`/api/safety/checklists/${t}/pdf`,uploadPhotos:(t,e,n)=>te.post(`/safety/${t}/${e}/photos`,n,{headers:{"Content-Type":"multipart/form-data"}})},KE=[{key:"overview",label:"Overview",icon:th},{key:"incidents",label:"Incidents",icon:Ch},{key:"hazards",label:"Hazards",icon:th},{key:"meetings",label:"Toolbox Meetings",icon:Pc},{key:"checklists",label:"Checklists",icon:iv}],f1={minor:"bg-blue-100 text-blue-800",moderate:"bg-yellow-100 text-yellow-800",serious:"bg-orange-100 text-orange-800",critical:"bg-red-100 text-red-800"},$h={open:"bg-red-100 text-red-800",investigating:"bg-yellow-100 text-yellow-800",resolved:"bg-green-100 text-green-800",closed:"bg-gray-100 text-gray-800",mitigated:"bg-blue-100 text-blue-800"},IE={low:"bg-green-100 text-green-800",medium:"bg-yellow-100 text-yellow-800",high:"bg-orange-100 text-orange-800",critical:"bg-red-100 text-red-800"},h1={compliant:"bg-green-100 text-green-800",non_compliant:"bg-red-100 text-red-800",partial:"bg-yellow-100 text-yellow-800"},na=({text:t,colorMap:e})=>r.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${e[t]||"bg-gray-100 text-gray-800"}`,children:t?.replace(/_/g," ")});function JE(){const{can:t}=At(),[e,n]=S.useState("overview"),[i,l]=S.useState(null),[c,u]=S.useState([]),[f,h]=S.useState({}),[m,y]=S.useState(1),[g,b]=S.useState(""),[w,v]=S.useState({}),[j,N]=S.useState([]),[M,E]=S.useState(!1),[k,U]=S.useState(!1),[B,I]=S.useState(null);S.useEffect(()=>{_t.list({per_page:100}).then(z=>N(z.data?.data||[])).catch(()=>{})},[]);const R=S.useCallback(async()=>{E(!0);try{const z=await st.getOverview();l(z.data.data)}catch{se.error("Failed to load stats")}E(!1)},[]),q=S.useCallback(async()=>{E(!0);try{let z;const P={page:m,per_page:15,search:g,...w};if(e==="incidents"?z=await st.getIncidents(P):e==="hazards"?z=await st.getHazards(P):e==="meetings"?z=await st.getMeetings(P):e==="checklists"&&(z=await st.getChecklists(P)),z){const K=z.data.data;u(K.data||[]),h({current:K.current_page,last:K.last_page,total:K.total})}}catch{se.error("Failed to load data")}E(!1)},[e,m,g,w]);return S.useEffect(()=>{e==="overview"?R():q()},[e,R,q]),S.useEffect(()=>{y(1)},[e,g,w]),r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Safety & OSHA"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Incidents, hazards, toolbox meetings & compliance"})]})}),r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("nav",{className:"-mb-px flex space-x-6 overflow-x-auto","aria-label":"Tabs",children:KE.map(z=>r.jsxs("button",{onClick:()=>{n(z.key),I(null),U(!1)},className:`flex items-center gap-2 whitespace-nowrap border-b-2 px-1 py-3 text-sm font-medium transition-colors ${e===z.key?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,children:[r.jsx(z.icon,{className:"h-4 w-4"})," ",z.label]},z.key))})}),e==="overview"&&i&&r.jsx(ek,{stats:i}),e!=="overview"&&!k&&!B&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx(ia,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search...",value:g,onChange:z=>b(z.target.value),className:"rounded-lg border border-gray-300 py-2 pl-9 pr-4 text-sm focus:border-red-500 focus:outline-none focus:ring-1 focus:ring-red-500 w-64"})]}),r.jsxs("select",{value:w.project_id||"",onChange:z=>v(P=>({...P,project_id:z.target.value||void 0})),className:"rounded-lg border border-gray-300 py-2 pl-3 pr-8 text-sm focus:border-red-500 focus:outline-none",children:[r.jsx("option",{value:"",children:"All Projects"}),j.map(z=>r.jsx("option",{value:z.id,children:z.name},z.id))]}),e==="incidents"&&r.jsxs(r.Fragment,{children:[r.jsxs("select",{value:w.severity||"",onChange:z=>v(P=>({...P,severity:z.target.value||void 0})),className:"rounded-lg border border-gray-300 py-2 pl-3 pr-8 text-sm",children:[r.jsx("option",{value:"",children:"All Severities"}),["minor","moderate","serious","critical"].map(z=>r.jsx("option",{value:z,children:z},z))]}),r.jsxs("select",{value:w.status||"",onChange:z=>v(P=>({...P,status:z.target.value||void 0})),className:"rounded-lg border border-gray-300 py-2 pl-3 pr-8 text-sm",children:[r.jsx("option",{value:"",children:"All Statuses"}),["open","investigating","resolved","closed"].map(z=>r.jsx("option",{value:z,children:z},z))]})]}),e==="hazards"&&r.jsxs("select",{value:w.risk_level||"",onChange:z=>v(P=>({...P,risk_level:z.target.value||void 0})),className:"rounded-lg border border-gray-300 py-2 pl-3 pr-8 text-sm",children:[r.jsx("option",{value:"",children:"All Risk Levels"}),["low","medium","high","critical"].map(z=>r.jsx("option",{value:z,children:z},z))]})]}),t("safety.create")&&r.jsxs("button",{onClick:()=>U(!0),className:"inline-flex items-center gap-2 rounded-lg bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700",children:[r.jsx(Yt,{className:"h-4 w-4"})," New ",e==="incidents"?"Incident":e==="hazards"?"Hazard":e==="meetings"?"Meeting":"Checklist"]})]}),M?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-red-500 border-t-transparent"})}):r.jsxs(r.Fragment,{children:[e==="incidents"&&r.jsx(tk,{items:c,onView:I}),e==="hazards"&&r.jsx(sk,{items:c}),e==="meetings"&&r.jsx(nk,{items:c,onView:I}),e==="checklists"&&r.jsx(ak,{items:c,onView:I}),f.last>1&&r.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 pt-4",children:[r.jsxs("p",{className:"text-sm text-gray-500",children:["Showing page ",f.current," of ",f.last," (",f.total," records)"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>y(z=>Math.max(1,z-1)),disabled:m<=1,className:"rounded-lg border px-3 py-1.5 text-sm disabled:opacity-50",children:r.jsx($a,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>y(z=>Math.min(f.last,z+1)),disabled:m>=f.last,className:"rounded-lg border px-3 py-1.5 text-sm disabled:opacity-50",children:r.jsx(av,{className:"h-4 w-4"})})]})]})]})]}),k&&e==="incidents"&&r.jsx(ik,{projects:j,onClose:()=>U(!1),onSaved:()=>{U(!1),q()}}),k&&e==="hazards"&&r.jsx(rk,{projects:j,onClose:()=>U(!1),onSaved:()=>{U(!1),q()}}),k&&e==="meetings"&&r.jsx(lk,{projects:j,onClose:()=>U(!1),onSaved:()=>{U(!1),q()}}),k&&e==="checklists"&&r.jsx(ok,{projects:j,onClose:()=>U(!1),onSaved:()=>{U(!1),q()}}),B&&e==="incidents"&&r.jsx(ck,{id:B,onBack:()=>I(null),canManage:t("safety.manage"),onUpdated:q}),B&&e==="meetings"&&r.jsx(uk,{id:B,onBack:()=>I(null)}),B&&e==="checklists"&&r.jsx(dk,{id:B,onBack:()=>I(null)})]})}function ek({stats:t}){const e=[{label:"Open Incidents",value:t.open_incidents,color:"red",sub:`${t.critical_incidents} critical`},{label:"Open Hazards",value:t.open_hazards,color:"orange",sub:`${t.high_risk_hazards} high risk`},{label:"Meetings This Month",value:t.meetings_this_month,color:"blue",sub:`${t.total_meetings} total`},{label:"Non-Compliant",value:t.non_compliant_checklists,color:"yellow",sub:`${t.total_incidents} total incidents`}],n={red:"border-red-200 bg-red-50",orange:"border-orange-200 bg-orange-50",blue:"border-blue-200 bg-blue-50",yellow:"border-yellow-200 bg-yellow-50"},i={red:"text-red-700",orange:"text-orange-700",blue:"text-blue-700",yellow:"text-yellow-700"};return r.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-4",children:e.map(l=>r.jsxs("div",{className:`rounded-xl border p-6 ${n[l.color]}`,children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:l.label}),r.jsx("p",{className:`mt-2 text-3xl font-bold ${i[l.color]}`,children:l.value}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:l.sub})]},l.label))})}function tk({items:t,onView:e}){return r.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Title"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Project"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Severity"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Date"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Reporter"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium uppercase text-gray-500",children:"Actions"})]})}),r.jsxs("tbody",{className:"divide-y divide-gray-200",children:[t.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:"7",className:"px-4 py-8 text-center text-sm text-gray-500",children:"No incidents found"})}),t.map(n=>r.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>e(n.id),children:[r.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:n.title}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:n.project?.name||"-"}),r.jsx("td",{className:"px-4 py-3",children:r.jsx(na,{text:n.severity,colorMap:f1})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx(na,{text:n.status,colorMap:$h})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:new Date(n.incident_date).toLocaleDateString()}),r.jsxs("td",{className:"px-4 py-3 text-sm text-gray-500",children:[n.reporter?.first_name," ",n.reporter?.last_name]}),r.jsx("td",{className:"px-4 py-3 text-right",children:r.jsx("a",{href:st.getIncidentPdfUrl(n.id),target:"_blank",rel:"noreferrer",onClick:i=>i.stopPropagation(),className:"text-red-600 hover:text-red-800",children:r.jsx($t,{className:"inline h-4 w-4"})})})]},n.id))]})]})})}function sk({items:t}){return r.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Title"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Project"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Type"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Risk Level"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Reporter"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium uppercase text-gray-500",children:"PDF"})]})}),r.jsxs("tbody",{className:"divide-y divide-gray-200",children:[t.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:"7",className:"px-4 py-8 text-center text-sm text-gray-500",children:"No hazards found"})}),t.map(e=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:e.title}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:e.project?.name||"-"}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:e.hazard_type?.replace(/_/g," ")}),r.jsx("td",{className:"px-4 py-3",children:r.jsx(na,{text:e.risk_level,colorMap:IE})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx(na,{text:e.status,colorMap:$h})}),r.jsxs("td",{className:"px-4 py-3 text-sm text-gray-500",children:[e.reporter?.first_name," ",e.reporter?.last_name]}),r.jsx("td",{className:"px-4 py-3 text-right",children:r.jsx("a",{href:st.getHazardPdfUrl(e.id),target:"_blank",rel:"noreferrer",className:"text-red-600 hover:text-red-800",children:r.jsx($t,{className:"inline h-4 w-4"})})})]},e.id))]})]})})}function nk({items:t,onView:e}){return r.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Title"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Project"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Date"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Conductor"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Attendees"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium uppercase text-gray-500",children:"Actions"})]})}),r.jsxs("tbody",{className:"divide-y divide-gray-200",children:[t.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:"6",className:"px-4 py-8 text-center text-sm text-gray-500",children:"No meetings found"})}),t.map(n=>r.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>e(n.id),children:[r.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:n.title}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:n.project?.name||"-"}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:new Date(n.meeting_date).toLocaleDateString()}),r.jsxs("td",{className:"px-4 py-3 text-sm text-gray-500",children:[n.conductor?.first_name," ",n.conductor?.last_name]}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:n.attendees_count||0}),r.jsx("td",{className:"px-4 py-3 text-right",children:r.jsx("a",{href:st.getMeetingPdfUrl(n.id),target:"_blank",rel:"noreferrer",onClick:i=>i.stopPropagation(),className:"text-red-600 hover:text-red-800",children:r.jsx($t,{className:"inline h-4 w-4"})})})]},n.id))]})]})})}function ak({items:t,onView:e}){return r.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Title"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Project"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Type"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Date"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Items"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium uppercase text-gray-500",children:"Actions"})]})}),r.jsxs("tbody",{className:"divide-y divide-gray-200",children:[t.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:"7",className:"px-4 py-8 text-center text-sm text-gray-500",children:"No checklists found"})}),t.map(n=>r.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>e(n.id),children:[r.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:n.title}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:n.project?.name||"-"}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:n.type?.replace(/_/g," ").toUpperCase()}),r.jsx("td",{className:"px-4 py-3",children:r.jsx(na,{text:n.overall_status,colorMap:h1})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:new Date(n.checklist_date).toLocaleDateString()}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:n.items_count||0}),r.jsx("td",{className:"px-4 py-3 text-right",children:r.jsx("a",{href:st.getChecklistPdfUrl(n.id),target:"_blank",rel:"noreferrer",onClick:i=>i.stopPropagation(),className:"text-red-600 hover:text-red-800",children:r.jsx($t,{className:"inline h-4 w-4"})})})]},n.id))]})]})})}function ik({projects:t,onClose:e,onSaved:n}){const[i,l]=S.useState({project_id:"",title:"",description:"",incident_date:"",incident_time:"",location:"",severity:"minor",type:"near_miss",injured_person:"",injury_description:"",root_cause:""}),[c,u]=S.useState([]),[f,h]=S.useState(!1),m=(g,b)=>l(w=>({...w,[g]:b})),y=async g=>{g.preventDefault(),h(!0);try{const b=new FormData;Object.entries(i).forEach(([w,v])=>{v&&b.append(w,v)}),c.forEach(w=>b.append("photos[]",w)),await st.createIncident(b),se.success("Incident reported"),n()}catch(b){se.error(b.response?.data?.message||"Failed to save")}h(!1)};return r.jsx(Zc,{title:"Report Incident",onClose:e,children:r.jsxs("form",{onSubmit:y,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[r.jsx(bn,{label:"Project *",value:i.project_id,onChange:g=>m("project_id",g),options:t.map(g=>({value:g.id,label:g.name})),required:!0}),r.jsx(is,{label:"Title *",value:i.title,onChange:g=>m("title",g),required:!0}),r.jsx(is,{label:"Date *",type:"date",value:i.incident_date,onChange:g=>m("incident_date",g),required:!0}),r.jsx(is,{label:"Time",type:"time",value:i.incident_time,onChange:g=>m("incident_time",g)}),r.jsx(is,{label:"Location",value:i.location,onChange:g=>m("location",g)}),r.jsx(bn,{label:"Severity *",value:i.severity,onChange:g=>m("severity",g),options:["minor","moderate","serious","critical"].map(g=>({value:g,label:g})),required:!0}),r.jsx(bn,{label:"Type *",value:i.type,onChange:g=>m("type",g),options:["injury","near_miss","property_damage","environmental","fire","other"].map(g=>({value:g,label:g.replace(/_/g," ")})),required:!0}),r.jsx(is,{label:"Injured Person",value:i.injured_person,onChange:g=>m("injured_person",g)})]}),r.jsx(yn,{label:"Description *",value:i.description,onChange:g=>m("description",g),required:!0}),r.jsx(yn,{label:"Injury Description",value:i.injury_description,onChange:g=>m("injury_description",g)}),r.jsx(yn,{label:"Root Cause",value:i.root_cause,onChange:g=>m("root_cause",g)}),r.jsx(Yh,{photos:c,setPhotos:u}),r.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[r.jsx("button",{type:"button",onClick:e,className:"rounded-lg border px-4 py-2 text-sm",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:f,className:"rounded-lg bg-red-600 px-4 py-2 text-sm text-white hover:bg-red-700 disabled:opacity-50",children:f?"Saving...":"Report Incident"})]})]})})}function rk({projects:t,onClose:e,onSaved:n}){const[i,l]=S.useState({project_id:"",title:"",description:"",location:"",hazard_type:"fall",risk_level:"medium",recommended_action:""}),[c,u]=S.useState([]),[f,h]=S.useState(!1),m=(g,b)=>l(w=>({...w,[g]:b})),y=async g=>{g.preventDefault(),h(!0);try{const b=new FormData;Object.entries(i).forEach(([w,v])=>{v&&b.append(w,v)}),c.forEach(w=>b.append("photos[]",w)),await st.createHazard(b),se.success("Hazard reported"),n()}catch(b){se.error(b.response?.data?.message||"Failed to save")}h(!1)};return r.jsx(Zc,{title:"Report Hazard",onClose:e,children:r.jsxs("form",{onSubmit:y,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[r.jsx(bn,{label:"Project *",value:i.project_id,onChange:g=>m("project_id",g),options:t.map(g=>({value:g.id,label:g.name})),required:!0}),r.jsx(is,{label:"Title *",value:i.title,onChange:g=>m("title",g),required:!0}),r.jsx(is,{label:"Location",value:i.location,onChange:g=>m("location",g)}),r.jsx(bn,{label:"Hazard Type *",value:i.hazard_type,onChange:g=>m("hazard_type",g),options:["fall","electrical","chemical","structural","equipment","fire","ergonomic","other"].map(g=>({value:g,label:g})),required:!0}),r.jsx(bn,{label:"Risk Level *",value:i.risk_level,onChange:g=>m("risk_level",g),options:["low","medium","high","critical"].map(g=>({value:g,label:g})),required:!0})]}),r.jsx(yn,{label:"Description *",value:i.description,onChange:g=>m("description",g),required:!0}),r.jsx(yn,{label:"Recommended Action",value:i.recommended_action,onChange:g=>m("recommended_action",g)}),r.jsx(Yh,{photos:c,setPhotos:u}),r.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[r.jsx("button",{type:"button",onClick:e,className:"rounded-lg border px-4 py-2 text-sm",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:f,className:"rounded-lg bg-red-600 px-4 py-2 text-sm text-white hover:bg-red-700 disabled:opacity-50",children:f?"Saving...":"Report Hazard"})]})]})})}function lk({projects:t,onClose:e,onSaved:n}){const[i,l]=S.useState({project_id:"",title:"",topics:"",location:"",meeting_date:"",duration_minutes:"",notes:"",action_items:""}),[c,u]=S.useState([]),[f,h]=S.useState(!1),m=(g,b)=>l(w=>({...w,[g]:b})),y=async g=>{g.preventDefault(),h(!0);try{const b=new FormData;Object.entries(i).forEach(([w,v])=>{v&&b.append(w,v)}),c.forEach(w=>b.append("photos[]",w)),await st.createMeeting(b),se.success("Meeting logged"),n()}catch(b){se.error(b.response?.data?.message||"Failed to save")}h(!1)};return r.jsx(Zc,{title:"Log Toolbox Meeting",onClose:e,children:r.jsxs("form",{onSubmit:y,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[r.jsx(bn,{label:"Project *",value:i.project_id,onChange:g=>m("project_id",g),options:t.map(g=>({value:g.id,label:g.name})),required:!0}),r.jsx(is,{label:"Title *",value:i.title,onChange:g=>m("title",g),required:!0}),r.jsx(is,{label:"Date *",type:"date",value:i.meeting_date,onChange:g=>m("meeting_date",g),required:!0}),r.jsx(is,{label:"Duration (min)",type:"number",value:i.duration_minutes,onChange:g=>m("duration_minutes",g)}),r.jsx(is,{label:"Location",value:i.location,onChange:g=>m("location",g)})]}),r.jsx(yn,{label:"Topics Discussed *",value:i.topics,onChange:g=>m("topics",g),required:!0}),r.jsx(yn,{label:"Notes",value:i.notes,onChange:g=>m("notes",g)}),r.jsx(yn,{label:"Action Items",value:i.action_items,onChange:g=>m("action_items",g)}),r.jsx(Yh,{photos:c,setPhotos:u}),r.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[r.jsx("button",{type:"button",onClick:e,className:"rounded-lg border px-4 py-2 text-sm",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:f,className:"rounded-lg bg-red-600 px-4 py-2 text-sm text-white hover:bg-red-700 disabled:opacity-50",children:f?"Saving...":"Log Meeting"})]})]})})}function ok({projects:t,onClose:e,onSaved:n}){const[i,l]=S.useState({project_id:"",title:"",type:"general",checklist_date:"",notes:""}),[c,u]=S.useState([{item_text:"",status:"na",notes:""}]),[f,h]=S.useState(!1),m=(v,j)=>l(N=>({...N,[v]:j})),y=()=>u(v=>[...v,{item_text:"",status:"na",notes:""}]),g=v=>u(j=>j.filter((N,M)=>M!==v)),b=(v,j,N)=>u(M=>M.map((E,k)=>k===v?{...E,[j]:N}:E)),w=async v=>{v.preventDefault(),h(!0);try{await st.createChecklist({...i,items:c}),se.success("Checklist created"),n()}catch(j){se.error(j.response?.data?.message||"Failed to save")}h(!1)};return r.jsx(Zc,{title:"Create Compliance Checklist",onClose:e,wide:!0,children:r.jsxs("form",{onSubmit:w,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[r.jsx(bn,{label:"Project *",value:i.project_id,onChange:v=>m("project_id",v),options:t.map(v=>({value:v.id,label:v.name})),required:!0}),r.jsx(is,{label:"Title *",value:i.title,onChange:v=>m("title",v),required:!0}),r.jsx(bn,{label:"Type *",value:i.type,onChange:v=>m("type",v),options:["osha","fire_safety","ppe","scaffolding","electrical","excavation","general","custom"].map(v=>({value:v,label:v.replace(/_/g," ").toUpperCase()})),required:!0}),r.jsx(is,{label:"Date *",type:"date",value:i.checklist_date,onChange:v=>m("checklist_date",v),required:!0})]}),r.jsx(yn,{label:"Notes",value:i.notes,onChange:v=>m("notes",v)}),r.jsxs("div",{children:[r.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Checklist Items"}),r.jsx("button",{type:"button",onClick:y,className:"text-sm text-red-600 hover:text-red-700",children:"+ Add Item"})]}),r.jsx("div",{className:"space-y-2",children:c.map((v,j)=>r.jsxs("div",{className:"flex items-start gap-2 rounded-lg border border-gray-200 p-3",children:[r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsx("input",{type:"text",placeholder:"Check item description...",value:v.item_text,onChange:N=>b(j,"item_text",N.target.value),required:!0,className:"w-full rounded border border-gray-300 px-3 py-1.5 text-sm focus:border-red-500 focus:outline-none"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:v.status,onChange:N=>b(j,"status",N.target.value),className:"rounded border border-gray-300 px-2 py-1 text-sm",children:[r.jsx("option",{value:"pass",children:"Pass"}),r.jsx("option",{value:"fail",children:"Fail"}),r.jsx("option",{value:"na",children:"N/A"})]}),r.jsx("input",{type:"text",placeholder:"Notes...",value:v.notes||"",onChange:N=>b(j,"notes",N.target.value),className:"flex-1 rounded border border-gray-300 px-2 py-1 text-sm focus:border-red-500 focus:outline-none"})]})]}),c.length>1&&r.jsx("button",{type:"button",onClick:()=>g(j),className:"mt-1 text-gray-400 hover:text-red-500",children:r.jsx(Us,{className:"h-4 w-4"})})]},j))})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[r.jsx("button",{type:"button",onClick:e,className:"rounded-lg border px-4 py-2 text-sm",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:f,className:"rounded-lg bg-red-600 px-4 py-2 text-sm text-white hover:bg-red-700 disabled:opacity-50",children:f?"Saving...":"Create Checklist"})]})]})})}function ck({id:t,onBack:e,canManage:n,onUpdated:i}){const[l,c]=S.useState(null),[u,f]=S.useState(!0);S.useEffect(()=>{st.getIncident(t).then(m=>c(m.data.data)).catch(()=>se.error("Failed to load")).finally(()=>f(!1))},[t]);const h=async m=>{try{await st.updateIncident(t,{status:m}),se.success(`Status updated to ${m}`);const y=await st.getIncident(t);c(y.data.data),i()}catch{se.error("Failed to update")}};return u?r.jsx("div",{className:"flex justify-center py-12",children:r.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-red-500 border-t-transparent"})}):l?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("button",{onClick:e,className:"flex items-center gap-1 text-sm text-gray-500 hover:text-gray-700",children:[r.jsx($a,{className:"h-4 w-4"})," Back to list"]}),r.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:l.title}),r.jsxs("div",{className:"mt-2 flex gap-2",children:[r.jsx(na,{text:l.severity,colorMap:f1}),r.jsx(na,{text:l.status,colorMap:$h}),r.jsx("span",{className:"text-sm text-gray-500",children:l.type?.replace(/_/g," ")})]})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs("a",{href:st.getIncidentPdfUrl(t),target:"_blank",rel:"noreferrer",className:"rounded-lg border px-3 py-1.5 text-sm text-gray-700 hover:bg-gray-50",children:[r.jsx($t,{className:"inline h-4 w-4 mr-1"}),"PDF"]})})]}),r.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-6 sm:grid-cols-2",children:[r.jsx(kt,{label:"Project",value:l.project?.name}),r.jsx(kt,{label:"Reporter",value:`${l.reporter?.first_name} ${l.reporter?.last_name}`}),r.jsx(kt,{label:"Date",value:new Date(l.incident_date).toLocaleDateString()}),r.jsx(kt,{label:"Location",value:l.location}),l.injured_person&&r.jsx(kt,{label:"Injured Person",value:l.injured_person}),l.investigator&&r.jsx(kt,{label:"Investigator",value:`${l.investigator.first_name} ${l.investigator.last_name}`})]}),r.jsxs("div",{className:"mt-6 space-y-4",children:[r.jsx(mn,{label:"Description",text:l.description}),l.injury_description&&r.jsx(mn,{label:"Injury Description",text:l.injury_description}),l.root_cause&&r.jsx(mn,{label:"Root Cause",text:l.root_cause}),l.corrective_action&&r.jsx(mn,{label:"Corrective Action",text:l.corrective_action}),l.preventive_action&&r.jsx(mn,{label:"Preventive Action",text:l.preventive_action})]}),l.photos?.length>0&&r.jsxs("div",{className:"mt-6",children:[r.jsxs("h3",{className:"mb-2 text-sm font-medium text-gray-700",children:["Photos (",l.photos.length,")"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:l.photos.map(m=>r.jsxs("div",{className:"flex items-center gap-2 rounded-lg border px-3 py-1.5 text-sm",children:[r.jsx(Mh,{className:"h-4 w-4 text-gray-400"})," ",m.file_name]},m.id))})]}),n&&l.status!=="closed"&&r.jsxs("div",{className:"mt-6 flex gap-2 border-t pt-4",children:[l.status==="open"&&r.jsx(qf,{label:"Investigating",status:"investigating",onClick:h}),["open","investigating"].includes(l.status)&&r.jsx(qf,{label:"Resolved",status:"resolved",onClick:h}),r.jsx(qf,{label:"Close",status:"closed",onClick:h})]})]})]}):null}function uk({id:t,onBack:e}){const[n,i]=S.useState(null),[l,c]=S.useState(!0);return S.useEffect(()=>{st.getMeeting(t).then(u=>i(u.data.data)).catch(()=>se.error("Failed to load")).finally(()=>c(!1))},[t]),l?r.jsx("div",{className:"flex justify-center py-12",children:r.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-red-500 border-t-transparent"})}):n?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("button",{onClick:e,className:"flex items-center gap-1 text-sm text-gray-500 hover:text-gray-700",children:[r.jsx($a,{className:"h-4 w-4"})," Back to list"]}),r.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:n.title}),r.jsxs("a",{href:st.getMeetingPdfUrl(t),target:"_blank",rel:"noreferrer",className:"rounded-lg border px-3 py-1.5 text-sm text-gray-700 hover:bg-gray-50",children:[r.jsx($t,{className:"inline h-4 w-4 mr-1"}),"PDF"]})]}),r.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-6 sm:grid-cols-2",children:[r.jsx(kt,{label:"Project",value:n.project?.name}),r.jsx(kt,{label:"Conductor",value:`${n.conductor?.first_name} ${n.conductor?.last_name}`}),r.jsx(kt,{label:"Date",value:new Date(n.meeting_date).toLocaleDateString()}),r.jsx(kt,{label:"Duration",value:n.duration_minutes?`${n.duration_minutes} min`:"N/A"}),r.jsx(kt,{label:"Location",value:n.location})]}),r.jsxs("div",{className:"mt-6 space-y-4",children:[r.jsx(mn,{label:"Topics",text:n.topics}),n.notes&&r.jsx(mn,{label:"Notes",text:n.notes}),n.action_items&&r.jsx(mn,{label:"Action Items",text:n.action_items})]}),n.attendees?.length>0&&r.jsxs("div",{className:"mt-6",children:[r.jsxs("h3",{className:"mb-2 text-sm font-medium text-gray-700",children:["Attendees (",n.attendees.length,")"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:n.attendees.map((u,f)=>r.jsx("span",{className:"rounded-full bg-gray-100 px-3 py-1 text-sm text-gray-700",children:u.user?`${u.user.first_name} ${u.user.last_name}`:u.name},f))})]})]})]}):null}function dk({id:t,onBack:e}){const[n,i]=S.useState(null),[l,c]=S.useState(!0);if(S.useEffect(()=>{st.getChecklist(t).then(m=>i(m.data.data)).catch(()=>se.error("Failed to load")).finally(()=>c(!1))},[t]),l)return r.jsx("div",{className:"flex justify-center py-12",children:r.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-red-500 border-t-transparent"})});if(!n)return null;const u=n.items?.filter(m=>m.status==="pass").length||0,f=n.items?.filter(m=>m.status==="fail").length||0,h=n.items?.filter(m=>m.status==="na").length||0;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("button",{onClick:e,className:"flex items-center gap-1 text-sm text-gray-500 hover:text-gray-700",children:[r.jsx($a,{className:"h-4 w-4"})," Back to list"]}),r.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:n.title}),r.jsx("div",{className:"mt-2",children:r.jsx(na,{text:n.overall_status,colorMap:h1})})]}),r.jsxs("a",{href:st.getChecklistPdfUrl(t),target:"_blank",rel:"noreferrer",className:"rounded-lg border px-3 py-1.5 text-sm text-gray-700 hover:bg-gray-50",children:[r.jsx($t,{className:"inline h-4 w-4 mr-1"}),"PDF"]})]}),r.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-6 sm:grid-cols-2",children:[r.jsx(kt,{label:"Project",value:n.project?.name}),r.jsx(kt,{label:"Inspector",value:`${n.inspector?.first_name} ${n.inspector?.last_name}`}),r.jsx(kt,{label:"Date",value:new Date(n.checklist_date).toLocaleDateString()}),r.jsx(kt,{label:"Type",value:n.type?.replace(/_/g," ").toUpperCase()})]}),r.jsxs("div",{className:"mt-4 flex gap-4",children:[r.jsxs("span",{className:"rounded-lg bg-green-50 px-3 py-1 text-sm font-medium text-green-700",children:[u," Pass"]}),r.jsxs("span",{className:"rounded-lg bg-red-50 px-3 py-1 text-sm font-medium text-red-700",children:[f," Fail"]}),r.jsxs("span",{className:"rounded-lg bg-gray-50 px-3 py-1 text-sm font-medium text-gray-700",children:[h," N/A"]})]}),n.items?.length>0&&r.jsx("div",{className:"mt-6",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium uppercase text-gray-500",children:"#"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium uppercase text-gray-500",children:"Item"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium uppercase text-gray-500",children:"Status"}),r.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium uppercase text-gray-500",children:"Notes"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:n.items.map((m,y)=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-4 py-2 text-sm text-gray-500",children:y+1}),r.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:m.item_text}),r.jsx("td",{className:"px-4 py-2",children:r.jsx("span",{className:`inline-flex rounded-full px-2 py-0.5 text-xs font-medium ${m.status==="pass"?"bg-green-100 text-green-800":m.status==="fail"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:m.status.toUpperCase()})}),r.jsx("td",{className:"px-4 py-2 text-sm text-gray-500",children:m.notes||"-"})]},m.id))})]})}),n.notes&&r.jsx("div",{className:"mt-6",children:r.jsx(mn,{label:"Notes",text:n.notes})})]})]})}function Zc({title:t,onClose:e,children:n,wide:i}){return r.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/50 p-4 pt-20",children:r.jsxs("div",{className:`w-full rounded-xl bg-white p-6 shadow-xl ${i?"max-w-3xl":"max-w-2xl"}`,children:[r.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t}),r.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:r.jsx(Us,{className:"h-5 w-5"})})]}),n]})})}function is({label:t,...e}){return r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:t}),r.jsx("input",{...e,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-red-500 focus:outline-none focus:ring-1 focus:ring-red-500"})]})}function yn({label:t,value:e,onChange:n,...i}){return r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:t}),r.jsx("textarea",{value:e,onChange:l=>n(l.target.value),rows:3,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-red-500 focus:outline-none focus:ring-1 focus:ring-red-500",...i})]})}function bn({label:t,value:e,onChange:n,options:i,...l}){return r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:t}),r.jsxs("select",{value:e,onChange:c=>n(c.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-red-500 focus:outline-none",...l,children:[r.jsx("option",{value:"",children:"Select..."}),i.map(c=>r.jsx("option",{value:c.value,children:c.label},c.value))]})]})}function Yh({photos:t,setPhotos:e}){return r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Photos"}),r.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:n=>e([...n.target.files]),className:"w-full text-sm text-gray-500 file:mr-4 file:rounded-lg file:border-0 file:bg-red-50 file:px-4 file:py-2 file:text-sm file:font-medium file:text-red-700 hover:file:bg-red-100"}),t.length>0&&r.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[t.length," file(s) selected"]})]})}function kt({label:t,value:e}){return r.jsxs("div",{children:[r.jsx("dt",{className:"text-xs font-medium uppercase text-gray-500",children:t}),r.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:e||"N/A"})]})}function mn({label:t,text:e}){return r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700",children:t}),r.jsx("p",{className:"mt-1 whitespace-pre-wrap rounded-lg bg-gray-50 p-3 text-sm text-gray-600",children:e})]})}function qf({label:t,status:e,onClick:n}){return r.jsxs("button",{onClick:()=>n(e),className:"rounded-lg border border-gray-300 px-3 py-1.5 text-sm text-gray-700 hover:bg-gray-50",children:["Mark as ",t]})}const Tt={getOverview:t=>te.get("/environmental/overview",{params:{project_id:t}}),getWasteRecords:t=>te.get("/environmental/waste",{params:t}),createWaste:t=>te.post("/environmental/waste",t,{headers:{"Content-Type":"multipart/form-data"}}),updateWaste:(t,e)=>te.put(`/environmental/waste/${t}`,e),getInspections:t=>te.get("/environmental/inspections",{params:t}),getInspection:t=>te.get(`/environmental/inspections/${t}`),createInspection:t=>te.post("/environmental/inspections",t,{headers:{"Content-Type":"multipart/form-data"}}),updateInspection:(t,e)=>te.put(`/environmental/inspections/${t}`,e),getInspectionPdfUrl:t=>`/api/environmental/inspections/${t}/pdf`,getAudits:t=>te.get("/environmental/audits",{params:t}),getAudit:t=>te.get(`/environmental/audits/${t}`),createAudit:t=>te.post("/environmental/audits",t,{headers:{"Content-Type":"multipart/form-data"}}),updateAudit:(t,e)=>te.put(`/environmental/audits/${t}`,e),getAuditPdfUrl:t=>`/api/environmental/audits/${t}/pdf`,uploadPhotos:(t,e,n)=>te.post(`/environmental/${t}/${e}/photos`,n,{headers:{"Content-Type":"multipart/form-data"}})},fk=[{key:"overview",label:"Overview",icon:uv},{key:"waste",label:"Waste Tracking",icon:ra},{key:"inspections",label:"Site Inspections",icon:ov},{key:"audits",label:"Audits",icon:iv}],hk={pending:"bg-gray-100 text-gray-800",collected:"bg-blue-100 text-blue-800",disposed:"bg-yellow-100 text-yellow-800",verified:"bg-green-100 text-green-800"},m1={satisfactory:"bg-green-100 text-green-800",needs_improvement:"bg-yellow-100 text-yellow-800",unsatisfactory:"bg-red-100 text-red-800"},p1={scheduled:"bg-blue-100 text-blue-800",in_progress:"bg-yellow-100 text-yellow-800",completed:"bg-green-100 text-green-800",closed:"bg-gray-100 text-gray-800"},mk={hazardous:"bg-red-100 text-red-800",chemical:"bg-orange-100 text-orange-800",general:"bg-gray-100 text-gray-800",recyclable:"bg-green-100 text-green-800",construction_debris:"bg-yellow-100 text-yellow-800",organic:"bg-emerald-100 text-emerald-800",electronic:"bg-purple-100 text-purple-800",other:"bg-gray-100 text-gray-800"},Ui=({text:t,colorMap:e})=>r.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${e[t]||"bg-gray-100 text-gray-800"}`,children:t?.replace(/_/g," ")});function pk(){const{can:t}=At(),[e,n]=S.useState("overview"),[i,l]=S.useState(null),[c,u]=S.useState([]),[f,h]=S.useState({}),[m,y]=S.useState(1),[g,b]=S.useState(""),[w,v]=S.useState({}),[j,N]=S.useState([]),[M,E]=S.useState(!1),[k,U]=S.useState(!1),[B,I]=S.useState(null);S.useEffect(()=>{_t.list({per_page:100}).then(z=>N(z.data?.data||[])).catch(()=>{})},[]);const R=S.useCallback(async()=>{E(!0);try{const z=await Tt.getOverview();l(z.data.data)}catch{se.error("Failed to load stats")}E(!1)},[]),q=S.useCallback(async()=>{E(!0);try{let z;const P={page:m,per_page:15,search:g,...w};if(e==="waste"?z=await Tt.getWasteRecords(P):e==="inspections"?z=await Tt.getInspections(P):e==="audits"&&(z=await Tt.getAudits(P)),z){const K=z.data.data;u(K.data||[]),h({current:K.current_page,last:K.last_page,total:K.total})}}catch{se.error("Failed to load data")}E(!1)},[e,m,g,w]);return S.useEffect(()=>{e==="overview"?R():q()},[e,R,q]),S.useEffect(()=>{y(1)},[e,g,w]),r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Environmental"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Waste tracking, site inspections & environmental audits"})]})}),r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("nav",{className:"-mb-px flex space-x-6 overflow-x-auto",children:fk.map(z=>r.jsxs("button",{onClick:()=>{n(z.key),I(null),U(!1)},className:`flex items-center gap-2 whitespace-nowrap border-b-2 px-1 py-3 text-sm font-medium transition-colors ${e===z.key?"border-emerald-500 text-emerald-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,children:[r.jsx(z.icon,{className:"h-4 w-4"})," ",z.label]},z.key))})}),e==="overview"&&i&&r.jsx(gk,{stats:i}),e!=="overview"&&!k&&!B&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx(ia,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search...",value:g,onChange:z=>b(z.target.value),className:"rounded-lg border border-gray-300 py-2 pl-9 pr-4 text-sm focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500 w-64"})]}),r.jsxs("select",{value:w.project_id||"",onChange:z=>v(P=>({...P,project_id:z.target.value||void 0})),className:"rounded-lg border border-gray-300 py-2 pl-3 pr-8 text-sm focus:border-emerald-500 focus:outline-none",children:[r.jsx("option",{value:"",children:"All Projects"}),j.map(z=>r.jsx("option",{value:z.id,children:z.name},z.id))]}),e==="waste"&&r.jsxs("select",{value:w.waste_type||"",onChange:z=>v(P=>({...P,waste_type:z.target.value||void 0})),className:"rounded-lg border border-gray-300 py-2 pl-3 pr-8 text-sm",children:[r.jsx("option",{value:"",children:"All Types"}),["general","hazardous","recyclable","construction_debris","chemical","organic","electronic","other"].map(z=>r.jsx("option",{value:z,children:z.replace(/_/g," ")},z))]}),e==="inspections"&&r.jsxs("select",{value:w.overall_status||"",onChange:z=>v(P=>({...P,overall_status:z.target.value||void 0})),className:"rounded-lg border border-gray-300 py-2 pl-3 pr-8 text-sm",children:[r.jsx("option",{value:"",children:"All Statuses"}),["satisfactory","needs_improvement","unsatisfactory"].map(z=>r.jsx("option",{value:z,children:z.replace(/_/g," ")},z))]}),e==="audits"&&r.jsxs("select",{value:w.status||"",onChange:z=>v(P=>({...P,status:z.target.value||void 0})),className:"rounded-lg border border-gray-300 py-2 pl-3 pr-8 text-sm",children:[r.jsx("option",{value:"",children:"All Statuses"}),["scheduled","in_progress","completed","closed"].map(z=>r.jsx("option",{value:z,children:z.replace(/_/g," ")},z))]})]}),t("environmental.create")&&r.jsxs("button",{onClick:()=>U(!0),className:"inline-flex items-center gap-2 rounded-lg bg-emerald-600 px-4 py-2 text-sm font-medium text-white hover:bg-emerald-700",children:[r.jsx(Yt,{className:"h-4 w-4"})," New ",e==="waste"?"Waste Record":e==="inspections"?"Inspection":"Audit"]})]}),M?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-emerald-500 border-t-transparent"})}):r.jsxs(r.Fragment,{children:[e==="waste"&&r.jsx(xk,{items:c}),e==="inspections"&&r.jsx(yk,{items:c,onView:I}),e==="audits"&&r.jsx(bk,{items:c,onView:I}),f.last>1&&r.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 pt-4",children:[r.jsxs("p",{className:"text-sm text-gray-500",children:["Page ",f.current," of ",f.last," (",f.total," records)"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>y(z=>Math.max(1,z-1)),disabled:m<=1,className:"rounded-lg border px-3 py-1.5 text-sm disabled:opacity-50",children:r.jsx($a,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>y(z=>Math.min(f.last,z+1)),disabled:m>=f.last,className:"rounded-lg border px-3 py-1.5 text-sm disabled:opacity-50",children:r.jsx(av,{className:"h-4 w-4"})})]})]})]})]}),k&&e==="waste"&&r.jsx(vk,{projects:j,onClose:()=>U(!1),onSaved:()=>{U(!1),q()}}),k&&e==="inspections"&&r.jsx(jk,{projects:j,onClose:()=>U(!1),onSaved:()=>{U(!1),q()}}),k&&e==="audits"&&r.jsx(_k,{projects:j,onClose:()=>U(!1),onSaved:()=>{U(!1),q()}}),B&&e==="inspections"&&r.jsx(wk,{id:B,onBack:()=>I(null),canManage:t("environmental.manage"),onUpdated:q}),B&&e==="audits"&&r.jsx(Nk,{id:B,onBack:()=>I(null),canManage:t("environmental.manage"),onUpdated:q})]})}function gk({stats:t}){const e=[{label:"Pending Waste",value:t.pending_waste,color:"amber",sub:`${t.hazardous_waste_pending} hazardous`},{label:"Total Waste Qty",value:parseFloat(t.total_waste_quantity||0).toLocaleString(),color:"emerald",sub:"all projects"},{label:"Inspections This Month",value:t.inspections_this_month,color:"blue",sub:`${t.unsatisfactory_inspections} unsatisfactory`},{label:"Open Audits",value:t.open_audits,color:"purple",sub:`${t.total_audits} total`}],n={amber:"border-amber-200 bg-amber-50",emerald:"border-emerald-200 bg-emerald-50",blue:"border-blue-200 bg-blue-50",purple:"border-purple-200 bg-purple-50"},i={amber:"text-amber-700",emerald:"text-emerald-700",blue:"text-blue-700",purple:"text-purple-700"};return r.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-4",children:e.map(l=>r.jsxs("div",{className:`rounded-xl border p-6 ${n[l.color]}`,children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:l.label}),r.jsx("p",{className:`mt-2 text-3xl font-bold ${i[l.color]}`,children:l.value}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:l.sub})]},l.label))})}function xk({items:t}){return r.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Type"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Description"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Project"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium uppercase text-gray-500",children:"Quantity"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Hauler"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Recorder"})]})}),r.jsxs("tbody",{className:"divide-y divide-gray-200",children:[t.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:"7",className:"px-4 py-8 text-center text-sm text-gray-500",children:"No waste records found"})}),t.map(e=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3",children:r.jsx(Ui,{text:e.waste_type,colorMap:mk})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 max-w-xs truncate",children:e.description}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:e.project?.name||"-"}),r.jsxs("td",{className:"px-4 py-3 text-sm text-right text-gray-900",children:[e.quantity," ",e.unit]}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:e.hauler||"-"}),r.jsx("td",{className:"px-4 py-3",children:r.jsx(Ui,{text:e.status,colorMap:hk})}),r.jsxs("td",{className:"px-4 py-3 text-sm text-gray-500",children:[e.recorder?.first_name," ",e.recorder?.last_name]})]},e.id))]})]})})}function yk({items:t,onView:e}){return r.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Title"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Project"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Type"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Date"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Inspector"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium uppercase text-gray-500",children:"PDF"})]})}),r.jsxs("tbody",{className:"divide-y divide-gray-200",children:[t.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:"7",className:"px-4 py-8 text-center text-sm text-gray-500",children:"No inspections found"})}),t.map(n=>r.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>e(n.id),children:[r.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:n.title}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:n.project?.name||"-"}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:n.type?.replace(/_/g," ")}),r.jsx("td",{className:"px-4 py-3",children:r.jsx(Ui,{text:n.overall_status,colorMap:m1})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:new Date(n.inspection_date).toLocaleDateString()}),r.jsxs("td",{className:"px-4 py-3 text-sm text-gray-500",children:[n.inspector?.first_name," ",n.inspector?.last_name]}),r.jsx("td",{className:"px-4 py-3 text-right",children:r.jsx("a",{href:Tt.getInspectionPdfUrl(n.id),target:"_blank",rel:"noreferrer",onClick:i=>i.stopPropagation(),className:"text-emerald-600 hover:text-emerald-800",children:r.jsx($t,{className:"inline h-4 w-4"})})})]},n.id))]})]})})}function bk({items:t,onView:e}){return r.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Title"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Project"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Type"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Audit Date"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase text-gray-500",children:"Auditor"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium uppercase text-gray-500",children:"PDF"})]})}),r.jsxs("tbody",{className:"divide-y divide-gray-200",children:[t.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:"7",className:"px-4 py-8 text-center text-sm text-gray-500",children:"No audits found"})}),t.map(n=>r.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>e(n.id),children:[r.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:n.title}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:n.project?.name||"-"}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:n.type}),r.jsx("td",{className:"px-4 py-3",children:r.jsx(Ui,{text:n.status,colorMap:p1})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:new Date(n.audit_date).toLocaleDateString()}),r.jsxs("td",{className:"px-4 py-3 text-sm text-gray-500",children:[n.auditor?.first_name," ",n.auditor?.last_name]}),r.jsx("td",{className:"px-4 py-3 text-right",children:r.jsx("a",{href:Tt.getAuditPdfUrl(n.id),target:"_blank",rel:"noreferrer",onClick:i=>i.stopPropagation(),className:"text-emerald-600 hover:text-emerald-800",children:r.jsx($t,{className:"inline h-4 w-4"})})})]},n.id))]})]})})}function vk({projects:t,onClose:e,onSaved:n}){const[i,l]=S.useState({project_id:"",waste_type:"general",description:"",quantity:"",unit:"kg",disposal_method:"",disposal_date:"",hauler:"",manifest_number:"",destination:""}),[c,u]=S.useState([]),[f,h]=S.useState(!1),m=(g,b)=>l(w=>({...w,[g]:b})),y=async g=>{g.preventDefault(),h(!0);try{const b=new FormData;Object.entries(i).forEach(([w,v])=>{v&&b.append(w,v)}),c.forEach(w=>b.append("photos[]",w)),await Tt.createWaste(b),se.success("Waste record created"),n()}catch(b){se.error(b.response?.data?.message||"Failed to save")}h(!1)};return r.jsx(Xh,{title:"New Waste Record",onClose:e,children:r.jsxs("form",{onSubmit:y,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[r.jsx(vn,{label:"Project *",value:i.project_id,onChange:g=>m("project_id",g),options:t.map(g=>({value:g.id,label:g.name})),required:!0}),r.jsx(vn,{label:"Waste Type *",value:i.waste_type,onChange:g=>m("waste_type",g),options:["general","hazardous","recyclable","construction_debris","chemical","organic","electronic","other"].map(g=>({value:g,label:g.replace(/_/g," ")})),required:!0}),r.jsx(vs,{label:"Quantity *",type:"number",step:"0.01",value:i.quantity,onChange:g=>m("quantity",g),required:!0}),r.jsx(vn,{label:"Unit *",value:i.unit,onChange:g=>m("unit",g),options:["kg","tonnes","liters","cubic_meters","bags","drums","loads"].map(g=>({value:g,label:g.replace(/_/g," ")})),required:!0}),r.jsx(vs,{label:"Disposal Method",value:i.disposal_method,onChange:g=>m("disposal_method",g)}),r.jsx(vs,{label:"Disposal Date",type:"date",value:i.disposal_date,onChange:g=>m("disposal_date",g)}),r.jsx(vs,{label:"Hauler",value:i.hauler,onChange:g=>m("hauler",g)}),r.jsx(vs,{label:"Manifest Number",value:i.manifest_number,onChange:g=>m("manifest_number",g)}),r.jsx(vs,{label:"Destination",value:i.destination,onChange:g=>m("destination",g)})]}),r.jsx(ea,{label:"Description *",value:i.description,onChange:g=>m("description",g),required:!0}),r.jsx(Gh,{photos:c,setPhotos:u}),r.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[r.jsx("button",{type:"button",onClick:e,className:"rounded-lg border px-4 py-2 text-sm",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:f,className:"rounded-lg bg-emerald-600 px-4 py-2 text-sm text-white hover:bg-emerald-700 disabled:opacity-50",children:f?"Saving...":"Create Record"})]})]})})}function jk({projects:t,onClose:e,onSaved:n}){const[i,l]=S.useState({project_id:"",title:"",inspection_date:"",type:"routine",findings:"",recommendations:"",overall_status:"satisfactory",follow_up_required:!1,follow_up_date:"",corrective_actions:""}),[c,u]=S.useState([]),[f,h]=S.useState(!1),m=(g,b)=>l(w=>({...w,[g]:b})),y=async g=>{g.preventDefault(),h(!0);try{const b=new FormData;Object.entries(i).forEach(([w,v])=>{v!==""&&v!==null&&v!==void 0&&b.append(w,typeof v=="boolean"?v?"1":"0":v)}),c.forEach(w=>b.append("photos[]",w)),await Tt.createInspection(b),se.success("Inspection recorded"),n()}catch(b){se.error(b.response?.data?.message||"Failed to save")}h(!1)};return r.jsx(Xh,{title:"New Site Inspection",onClose:e,children:r.jsxs("form",{onSubmit:y,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[r.jsx(vn,{label:"Project *",value:i.project_id,onChange:g=>m("project_id",g),options:t.map(g=>({value:g.id,label:g.name})),required:!0}),r.jsx(vs,{label:"Title *",value:i.title,onChange:g=>m("title",g),required:!0}),r.jsx(vs,{label:"Date *",type:"date",value:i.inspection_date,onChange:g=>m("inspection_date",g),required:!0}),r.jsx(vn,{label:"Type *",value:i.type,onChange:g=>m("type",g),options:["routine","follow_up","complaint","regulatory","pre_construction","other"].map(g=>({value:g,label:g.replace(/_/g," ")})),required:!0}),r.jsx(vn,{label:"Overall Status *",value:i.overall_status,onChange:g=>m("overall_status",g),options:["satisfactory","needs_improvement","unsatisfactory"].map(g=>({value:g,label:g.replace(/_/g," ")})),required:!0}),r.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[r.jsx("input",{type:"checkbox",id:"followUp",checked:i.follow_up_required,onChange:g=>m("follow_up_required",g.target.checked),className:"h-4 w-4 rounded border-gray-300 text-emerald-600"}),r.jsx("label",{htmlFor:"followUp",className:"text-sm text-gray-700",children:"Follow-up Required"})]}),i.follow_up_required&&r.jsx(vs,{label:"Follow-up Date",type:"date",value:i.follow_up_date,onChange:g=>m("follow_up_date",g)})]}),r.jsx(ea,{label:"Findings *",value:i.findings,onChange:g=>m("findings",g),required:!0}),r.jsx(ea,{label:"Recommendations",value:i.recommendations,onChange:g=>m("recommendations",g)}),r.jsx(ea,{label:"Corrective Actions",value:i.corrective_actions,onChange:g=>m("corrective_actions",g)}),r.jsx(Gh,{photos:c,setPhotos:u}),r.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[r.jsx("button",{type:"button",onClick:e,className:"rounded-lg border px-4 py-2 text-sm",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:f,className:"rounded-lg bg-emerald-600 px-4 py-2 text-sm text-white hover:bg-emerald-700 disabled:opacity-50",children:f?"Saving...":"Record Inspection"})]})]})})}function _k({projects:t,onClose:e,onSaved:n}){const[i,l]=S.useState({project_id:"",title:"",audit_date:"",type:"internal",scope:"",findings:"",non_conformities:"",corrective_actions:"",status:"scheduled",next_audit_date:""}),[c,u]=S.useState([]),[f,h]=S.useState(!1),m=(g,b)=>l(w=>({...w,[g]:b})),y=async g=>{g.preventDefault(),h(!0);try{const b=new FormData;Object.entries(i).forEach(([w,v])=>{v&&b.append(w,v)}),c.forEach(w=>b.append("photos[]",w)),await Tt.createAudit(b),se.success("Audit record created"),n()}catch(b){se.error(b.response?.data?.message||"Failed to save")}h(!1)};return r.jsx(Xh,{title:"New Environmental Audit",onClose:e,children:r.jsxs("form",{onSubmit:y,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[r.jsx(vn,{label:"Project *",value:i.project_id,onChange:g=>m("project_id",g),options:t.map(g=>({value:g.id,label:g.name})),required:!0}),r.jsx(vs,{label:"Title *",value:i.title,onChange:g=>m("title",g),required:!0}),r.jsx(vs,{label:"Audit Date *",type:"date",value:i.audit_date,onChange:g=>m("audit_date",g),required:!0}),r.jsx(vn,{label:"Type *",value:i.type,onChange:g=>m("type",g),options:["internal","external","regulatory"].map(g=>({value:g,label:g})),required:!0}),r.jsx(vn,{label:"Status *",value:i.status,onChange:g=>m("status",g),options:["scheduled","in_progress","completed","closed"].map(g=>({value:g,label:g.replace(/_/g," ")})),required:!0}),r.jsx(vs,{label:"Next Audit Date",type:"date",value:i.next_audit_date,onChange:g=>m("next_audit_date",g)})]}),r.jsx(ea,{label:"Scope",value:i.scope,onChange:g=>m("scope",g)}),r.jsx(ea,{label:"Findings *",value:i.findings,onChange:g=>m("findings",g),required:!0}),r.jsx(ea,{label:"Non-Conformities",value:i.non_conformities,onChange:g=>m("non_conformities",g)}),r.jsx(ea,{label:"Corrective Actions",value:i.corrective_actions,onChange:g=>m("corrective_actions",g)}),r.jsx(Gh,{photos:c,setPhotos:u}),r.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[r.jsx("button",{type:"button",onClick:e,className:"rounded-lg border px-4 py-2 text-sm",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:f,className:"rounded-lg bg-emerald-600 px-4 py-2 text-sm text-white hover:bg-emerald-700 disabled:opacity-50",children:f?"Saving...":"Create Audit"})]})]})})}function wk({id:t,onBack:e,canManage:n,onUpdated:i}){const[l,c]=S.useState(null),[u,f]=S.useState(!0);return S.useEffect(()=>{Tt.getInspection(t).then(h=>c(h.data.data)).catch(()=>se.error("Failed to load")).finally(()=>f(!1))},[t]),u?r.jsx("div",{className:"flex justify-center py-12",children:r.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-emerald-500 border-t-transparent"})}):l?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("button",{onClick:e,className:"flex items-center gap-1 text-sm text-gray-500 hover:text-gray-700",children:[r.jsx($a,{className:"h-4 w-4"})," Back to list"]}),r.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:l.title}),r.jsx("div",{className:"mt-2",children:r.jsx(Ui,{text:l.overall_status,colorMap:m1})})]}),r.jsxs("a",{href:Tt.getInspectionPdfUrl(t),target:"_blank",rel:"noreferrer",className:"rounded-lg border px-3 py-1.5 text-sm text-gray-700 hover:bg-gray-50",children:[r.jsx($t,{className:"inline h-4 w-4 mr-1"}),"PDF"]})]}),r.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-6 sm:grid-cols-2",children:[r.jsx(Ss,{label:"Project",value:l.project?.name}),r.jsx(Ss,{label:"Inspector",value:`${l.inspector?.first_name} ${l.inspector?.last_name}`}),r.jsx(Ss,{label:"Date",value:new Date(l.inspection_date).toLocaleDateString()}),r.jsx(Ss,{label:"Type",value:l.type?.replace(/_/g," ")}),r.jsx(Ss,{label:"Follow-Up Required",value:l.follow_up_required?"Yes":"No"}),l.follow_up_date&&r.jsx(Ss,{label:"Follow-Up Date",value:new Date(l.follow_up_date).toLocaleDateString()})]}),r.jsxs("div",{className:"mt-6 space-y-4",children:[r.jsx(La,{label:"Findings",text:l.findings}),l.recommendations&&r.jsx(La,{label:"Recommendations",text:l.recommendations}),l.corrective_actions&&r.jsx(La,{label:"Corrective Actions",text:l.corrective_actions})]}),l.photos?.length>0&&r.jsxs("div",{className:"mt-6",children:[r.jsxs("h3",{className:"mb-2 text-sm font-medium text-gray-700",children:["Photos (",l.photos.length,")"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:l.photos.map(h=>r.jsxs("div",{className:"flex items-center gap-2 rounded-lg border px-3 py-1.5 text-sm",children:[r.jsx(Mh,{className:"h-4 w-4 text-gray-400"})," ",h.file_name]},h.id))})]})]})]}):null}function Nk({id:t,onBack:e,canManage:n,onUpdated:i}){const[l,c]=S.useState(null),[u,f]=S.useState(!0);S.useEffect(()=>{Tt.getAudit(t).then(m=>c(m.data.data)).catch(()=>se.error("Failed to load")).finally(()=>f(!1))},[t]);const h=async m=>{try{await Tt.updateAudit(t,{status:m}),se.success(`Status updated to ${m.replace(/_/g," ")}`);const y=await Tt.getAudit(t);c(y.data.data),i()}catch{se.error("Failed to update")}};return u?r.jsx("div",{className:"flex justify-center py-12",children:r.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-emerald-500 border-t-transparent"})}):l?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("button",{onClick:e,className:"flex items-center gap-1 text-sm text-gray-500 hover:text-gray-700",children:[r.jsx($a,{className:"h-4 w-4"})," Back to list"]}),r.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:l.title}),r.jsx("div",{className:"mt-2",children:r.jsx(Ui,{text:l.status,colorMap:p1})})]}),r.jsxs("a",{href:Tt.getAuditPdfUrl(t),target:"_blank",rel:"noreferrer",className:"rounded-lg border px-3 py-1.5 text-sm text-gray-700 hover:bg-gray-50",children:[r.jsx($t,{className:"inline h-4 w-4 mr-1"}),"PDF"]})]}),r.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-6 sm:grid-cols-2",children:[r.jsx(Ss,{label:"Project",value:l.project?.name}),r.jsx(Ss,{label:"Auditor",value:`${l.auditor?.first_name} ${l.auditor?.last_name}`}),r.jsx(Ss,{label:"Date",value:new Date(l.audit_date).toLocaleDateString()}),r.jsx(Ss,{label:"Type",value:l.type}),l.next_audit_date&&r.jsx(Ss,{label:"Next Audit",value:new Date(l.next_audit_date).toLocaleDateString()})]}),r.jsxs("div",{className:"mt-6 space-y-4",children:[l.scope&&r.jsx(La,{label:"Scope",text:l.scope}),r.jsx(La,{label:"Findings",text:l.findings}),l.non_conformities&&r.jsx(La,{label:"Non-Conformities",text:l.non_conformities}),l.corrective_actions&&r.jsx(La,{label:"Corrective Actions",text:l.corrective_actions})]}),l.photos?.length>0&&r.jsxs("div",{className:"mt-6",children:[r.jsxs("h3",{className:"mb-2 text-sm font-medium text-gray-700",children:["Photos (",l.photos.length,")"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:l.photos.map(m=>r.jsxs("div",{className:"flex items-center gap-2 rounded-lg border px-3 py-1.5 text-sm",children:[r.jsx(Mh,{className:"h-4 w-4 text-gray-400"})," ",m.file_name]},m.id))})]}),n&&!["completed","closed"].includes(l.status)&&r.jsxs("div",{className:"mt-6 flex gap-2 border-t pt-4",children:[l.status==="scheduled"&&r.jsx(Vf,{label:"In Progress",status:"in_progress",onClick:h}),["scheduled","in_progress"].includes(l.status)&&r.jsx(Vf,{label:"Completed",status:"completed",onClick:h}),r.jsx(Vf,{label:"Closed",status:"closed",onClick:h})]})]})]}):null}function Xh({title:t,onClose:e,children:n}){return r.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/50 p-4 pt-20",children:r.jsxs("div",{className:"w-full max-w-2xl rounded-xl bg-white p-6 shadow-xl",children:[r.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t}),r.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:r.jsx(Us,{className:"h-5 w-5"})})]}),n]})})}function vs({label:t,...e}){return r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:t}),r.jsx("input",{...e,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500"})]})}function ea({label:t,value:e,onChange:n,...i}){return r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:t}),r.jsx("textarea",{value:e,onChange:l=>n(l.target.value),rows:3,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-emerald-500 focus:outline-none focus:ring-1 focus:ring-emerald-500",...i})]})}function vn({label:t,value:e,onChange:n,options:i,...l}){return r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:t}),r.jsxs("select",{value:e,onChange:c=>n(c.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-emerald-500 focus:outline-none",...l,children:[r.jsx("option",{value:"",children:"Select..."}),i.map(c=>r.jsx("option",{value:c.value,children:c.label},c.value))]})]})}function Gh({photos:t,setPhotos:e}){return r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Photos"}),r.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:n=>e([...n.target.files]),className:"w-full text-sm text-gray-500 file:mr-4 file:rounded-lg file:border-0 file:bg-emerald-50 file:px-4 file:py-2 file:text-sm file:font-medium file:text-emerald-700 hover:file:bg-emerald-100"}),t.length>0&&r.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[t.length," file(s) selected"]})]})}function Ss({label:t,value:e}){return r.jsxs("div",{children:[r.jsx("dt",{className:"text-xs font-medium uppercase text-gray-500",children:t}),r.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:e||"N/A"})]})}function La({label:t,text:e}){return r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-700",children:t}),r.jsx("p",{className:"mt-1 whitespace-pre-wrap rounded-lg bg-gray-50 p-3 text-sm text-gray-600",children:e})]})}function Vf({label:t,status:e,onClick:n}){return r.jsxs("button",{onClick:()=>n(e),className:"rounded-lg border border-gray-300 px-3 py-1.5 text-sm text-gray-700 hover:bg-gray-50",children:["Mark as ",t]})}const Wn={async getRooms(){return(await te.get("/chat/rooms")).data},async getOrCreatePrivateRoom(t){return(await te.post("/chat/rooms/private",{user_id:t})).data},async createGroupRoom(t){return(await te.post("/chat/rooms/group",t)).data},async getMessages(t,e={}){return(await te.get(`/chat/rooms/${t}/messages`,{params:e})).data},async sendMessage(t,e){return(await te.post(`/chat/rooms/${t}/messages`,{body:e})).data},async sendFile(t,e){return(await te.post(`/chat/rooms/${t}/files`,e,{headers:{"Content-Type":"multipart/form-data"}})).data},async markRead(t){return(await te.post(`/chat/rooms/${t}/read`)).data},async getUnreadCount(){return(await te.get("/chat/unread-count")).data}};function Sk(t){if(!t)return"";const e=new Date(t),i=(new Date-e)/1e3;return i<60?"now":i<3600?Math.floor(i/60)+"m":i<86400?Math.floor(i/3600)+"h":e.toLocaleDateString("en-US",{month:"short",day:"numeric"})}function Ck(t){return new Date(t).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}function Mk(t){return new Date(t).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}function Ek(){const{user:t}=At(),[e,n]=S.useState([]),[i,l]=S.useState(null),[c,u]=S.useState([]),[f,h]=S.useState(!0),[m,y]=S.useState(!1),[g,b]=S.useState(""),[w,v]=S.useState(!1),[j,N]=S.useState(""),[M,E]=S.useState(!1),[k,U]=S.useState(!1),[B,I]=S.useState([]),[R,q]=S.useState(""),[z,P]=S.useState([]),[K,le]=S.useState(!0),_e=S.useRef(null),we=S.useRef(null),ue=S.useRef(null),H=S.useCallback(async()=>{try{const D=await Wn.getRooms();n(D.data||[])}catch{}},[]),ee=S.useCallback(async D=>{y(!0);try{const ne=(await Wn.getMessages(D,{per_page:100})).data?.data||[];u(ne.reverse()),await Wn.markRead(D)}catch{}y(!1)},[]);S.useEffect(()=>{(async()=>{await H();try{const G=await(await fetch("/api/users?per_page=200",{credentials:"include",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})).json();I(G.data?.data||[])}catch{}h(!1)})()},[]),S.useEffect(()=>{i&&ee(i.id)},[i?.id]),S.useEffect(()=>{_e.current?.scrollIntoView({behavior:"smooth"})},[c.length]),S.useEffect(()=>(ue.current=setInterval(()=>{H(),i&&(async()=>{try{const G=(await Wn.getMessages(i.id,{per_page:100})).data?.data||[];u(G.reverse())}catch{}})()},5e3),()=>clearInterval(ue.current)),[i?.id]),S.useEffect(()=>{if(!i)return;let D;try{D=require("@/echo").default.private(`chat.room.${i.id}`),D.listen(".message.sent",ne=>{u(ye=>[...ye,ne]),H()})}catch{}return()=>{try{D?.stopListening(".message.sent")}catch{}}},[i?.id]);const re=async D=>{if(D.preventDefault(),!(!g.trim()||!i||w)){v(!0);try{const G=await Wn.sendMessage(i.id,g.trim());u(ne=>[...ne,G.data]),b(""),H()}catch{se.error("Failed to send message")}v(!1)}},fe=async D=>{const G=D.target.files[0];if(!G||!i)return;const ne=new FormData;ne.append("file",G);try{const ye=await Wn.sendFile(i.id,ne);u(Me=>[...Me,ye.data]),H()}catch{se.error("Failed to upload file")}D.target.value=""},ve=async D=>{try{const ne=(await Wn.getOrCreatePrivateRoom(D.id)).data;l({id:ne.id,name:`${D.first_name} ${D.last_name}`,type:"private",members:ne.members}),E(!1),H()}catch{se.error("Failed to start chat")}},A=async D=>{if(D.preventDefault(),!(!R.trim()||z.length===0))try{const G=await Wn.createGroupRoom({name:R.trim(),member_ids:z});l({id:G.data.id,name:R,type:"group",members:G.data.members}),U(!1),q(""),P([]),H(),se.success("Group created")}catch{se.error("Failed to create group")}},W=j?e.filter(D=>D.name?.toLowerCase().includes(j.toLowerCase())):e,ae=B.filter(D=>D.id!==t?.id),ie=c.reduce((D,G)=>{const ne=new Date(G.created_at).toDateString();return D[ne]||(D[ne]=[]),D[ne].push(G),D},{});return f?r.jsx(mt,{}):r.jsxs("div",{className:"flex h-[calc(100vh-7rem)] overflow-hidden rounded-xl bg-white shadow-sm ring-1 ring-gray-200",children:[r.jsxs("div",{className:`${K?"w-80":"w-0 overflow-hidden"} flex flex-col border-r transition-all duration-200`,children:[r.jsxs("div",{className:"flex h-14 items-center justify-between border-b px-4",children:[r.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Messages"}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{onClick:()=>U(!0),className:"rounded-lg p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-600",title:"New Group",children:r.jsx(f5,{className:"h-5 w-5"})}),r.jsx("button",{onClick:()=>E(!0),className:"rounded-lg p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-600",title:"New Chat",children:r.jsx(Yt,{className:"h-5 w-5"})})]})]}),r.jsx("div",{className:"p-3",children:r.jsxs("div",{className:"relative",children:[r.jsx(ia,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search conversations...",value:j,onChange:D=>N(D.target.value),className:"w-full rounded-lg border border-gray-200 bg-gray-50 py-2 pl-9 pr-3 text-sm focus:border-primary-500 focus:bg-white focus:outline-none focus:ring-1 focus:ring-primary-500"})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:W.length===0?r.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-400",children:"No conversations yet"}):W.map(D=>r.jsxs("button",{onClick:()=>{l(D),le(window.innerWidth>=768)},className:`flex w-full items-center gap-3 px-4 py-3 text-left transition-colors hover:bg-gray-50 ${i?.id===D.id?"bg-primary-50 border-r-2 border-primary-500":""}`,children:[r.jsx("div",{className:`flex h-10 w-10 shrink-0 items-center justify-center rounded-full text-sm font-bold text-white ${D.type==="project"?"bg-green-500":D.type==="group"?"bg-purple-500":"bg-primary-500"}`,children:D.type==="private"?D.name?.[0]?.toUpperCase():D.type==="project"?"P":"G"}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"truncate text-sm font-semibold text-gray-900",children:D.name}),D.latest_message&&r.jsx("span",{className:"ml-1 text-xs text-gray-400",children:Sk(D.latest_message.created_at)})]}),D.latest_message&&r.jsxs("p",{className:"truncate text-xs text-gray-500",children:[D.latest_message.sender?.first_name,": ",D.latest_message.type!=="text"?"(file)":D.latest_message.body]})]}),D.unread_count>0&&r.jsx("span",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-primary-500 text-xs font-bold text-white",children:D.unread_count})]},D.id))})]}),r.jsx("div",{className:"flex flex-1 flex-col",children:i?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex h-14 items-center justify-between border-b px-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:()=>le(!K),className:"rounded-lg p-1 text-gray-400 hover:text-gray-600 md:hidden",children:r.jsx(If,{className:"h-5 w-5"})}),r.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-full text-xs font-bold text-white ${i.type==="project"?"bg-green-500":i.type==="group"?"bg-purple-500":"bg-primary-500"}`,children:i.type==="private"?i.name?.[0]?.toUpperCase():i.type==="project"?"P":"G"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:i.name}),r.jsx("p",{className:"text-xs text-gray-400",children:i.type==="private"?"Private chat":`${i.members?.length||0} members`})]})]})}),r.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-4",children:[m?r.jsx(mt,{size:"sm"}):c.length===0?r.jsx("div",{className:"flex h-full items-center justify-center",children:r.jsx("p",{className:"text-sm text-gray-400",children:"No messages yet. Say hello!"})}):Object.entries(ie).map(([D,G])=>r.jsxs("div",{children:[r.jsxs("div",{className:"my-4 flex items-center gap-3",children:[r.jsx("div",{className:"h-px flex-1 bg-gray-200"}),r.jsx("span",{className:"text-xs font-medium text-gray-400",children:Mk(G[0].created_at)}),r.jsx("div",{className:"h-px flex-1 bg-gray-200"})]}),G.map((ne,ye)=>{const Me=ne.user_id===t?.id||ne.sender?.id===t?.id,ls=ye===0||G[ye-1]?.user_id!==ne.user_id;return r.jsxs("div",{className:`flex gap-2.5 ${Me?"flex-row-reverse":""} ${ls?"mt-3":"mt-0.5"}`,children:[ls?r.jsx("div",{className:`flex h-8 w-8 shrink-0 items-center justify-center rounded-full text-xs font-bold text-white ${Me?"bg-primary-500":"bg-gray-400"}`,children:(ne.sender?.first_name||"?")[0]}):r.jsx("div",{className:"w-8 shrink-0"}),r.jsxs("div",{className:`max-w-[70%] ${Me?"text-right":""}`,children:[ls&&r.jsxs("p",{className:"mb-0.5 text-xs font-medium text-gray-500",children:[Me?"You":`${ne.sender?.first_name} ${ne.sender?.last_name}`,r.jsx("span",{className:"ml-2 font-normal text-gray-300",children:Ck(ne.created_at)})]}),ne.type==="image"?r.jsx("div",{className:`inline-block rounded-xl ${Me?"bg-primary-500":"bg-gray-100"} p-1`,children:r.jsx("img",{src:`/storage/${ne.file_path}`,alt:ne.file_name,className:"max-h-48 rounded-lg"})}):ne.type==="file"?r.jsxs("div",{className:`inline-flex items-center gap-2 rounded-xl px-3 py-2 ${Me?"bg-primary-500 text-white":"bg-gray-100 text-gray-700"}`,children:[r.jsx(eh,{className:"h-4 w-4 shrink-0"}),r.jsx("a",{href:`/storage/${ne.file_path}`,target:"_blank",rel:"noreferrer",className:"text-sm underline",children:ne.file_name})]}):r.jsx("p",{className:`inline-block rounded-2xl px-3.5 py-2 text-sm ${Me?"bg-primary-500 text-white":"bg-gray-100 text-gray-800"}`,children:ne.body})]})]},ne.id)})]},D)),r.jsx("div",{ref:_e})]}),r.jsx("div",{className:"border-t px-4 py-3",children:r.jsxs("form",{onSubmit:re,className:"flex items-center gap-2",children:[r.jsx("input",{type:"file",ref:we,onChange:fe,className:"hidden"}),r.jsx("button",{type:"button",onClick:()=>we.current?.click(),className:"rounded-lg p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-600",children:r.jsx(eh,{className:"h-5 w-5"})}),r.jsx("input",{type:"text",value:g,onChange:D=>b(D.target.value),placeholder:"Type a message...",className:"flex-1 rounded-xl border border-gray-200 bg-gray-50 px-4 py-2.5 text-sm focus:border-primary-500 focus:bg-white focus:outline-none focus:ring-1 focus:ring-primary-500"}),r.jsx("button",{type:"submit",disabled:!g.trim()||w,className:"rounded-xl bg-primary-500 p-2.5 text-white hover:bg-primary-600 disabled:opacity-40",children:r.jsx(Uc,{className:"h-5 w-5 rotate-90"})})]})})]}):r.jsx("div",{className:"flex flex-1 items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(If,{className:"mx-auto h-16 w-16 text-gray-200"}),r.jsx("p",{className:"mt-4 text-lg font-medium text-gray-400",children:"Select a conversation"}),r.jsx("p",{className:"text-sm text-gray-300",children:"Choose from the sidebar or start a new chat"})]})})}),M&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>E(!1),children:r.jsxs("div",{className:"mx-4 w-full max-w-sm rounded-xl bg-white p-6 shadow-xl",onClick:D=>D.stopPropagation(),children:[r.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"New Chat"}),r.jsx("button",{onClick:()=>E(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(Us,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"max-h-72 space-y-1 overflow-y-auto",children:ae.map(D=>r.jsxs("button",{onClick:()=>ve(D),className:"flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-left hover:bg-gray-50",children:[r.jsxs("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary-100 text-xs font-bold text-primary-700",children:[D.first_name?.[0],D.last_name?.[0]]}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[D.first_name," ",D.last_name]}),r.jsx("p",{className:"text-xs text-gray-500",children:D.email})]})]},D.id))})]})}),k&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:()=>U(!1),children:r.jsxs("div",{className:"mx-4 w-full max-w-md rounded-xl bg-white p-6 shadow-xl",onClick:D=>D.stopPropagation(),children:[r.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Create Group Chat"}),r.jsx("button",{onClick:()=>U(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(Us,{className:"h-5 w-5"})})]}),r.jsxs("form",{onSubmit:A,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Group Name"}),r.jsx("input",{type:"text",value:R,onChange:D=>q(D.target.value),required:!0,className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Members"}),r.jsx("div",{className:"max-h-48 space-y-1 overflow-y-auto rounded-lg border p-2",children:ae.map(D=>r.jsxs("label",{className:"flex items-center gap-2 rounded-lg px-2 py-1.5 hover:bg-gray-50",children:[r.jsx("input",{type:"checkbox",checked:z.includes(D.id),onChange:G=>{P(ne=>G.target.checked?[...ne,D.id]:ne.filter(ye=>ye!==D.id))},className:"rounded border-gray-300 text-primary-600"}),r.jsxs("span",{className:"text-sm text-gray-700",children:[D.first_name," ",D.last_name]})]},D.id))})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx("button",{type:"button",onClick:()=>U(!1),className:"rounded-lg border border-gray-300 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:!R.trim()||z.length===0,className:"rounded-lg bg-primary-600 px-4 py-2 text-sm font-semibold text-white hover:bg-primary-700 disabled:opacity-50",children:"Create"})]})]})]})})]})}const un={async getEmails(t={}){return(await te.get("/emails",{params:t})).data},async getEmail(t){return(await te.get(`/emails/${t}`)).data},async getUnreadCount(){return(await te.get("/emails/unread-count")).data},async sendEmail(t){return(await te.post("/emails/send",t,{headers:{"Content-Type":"multipart/form-data"}})).data},async replyToEmail(t,e){return(await te.post(`/emails/${t}/reply`,e,{headers:{"Content-Type":"multipart/form-data"}})).data},async saveDraft(t){return(await te.post("/emails/drafts",t)).data},async deleteDraft(t){return(await te.delete(`/emails/drafts/${t}`)).data},async toggleStar(t){return(await te.patch(`/emails/${t}/star`)).data},async moveToTrash(t){return(await te.patch(`/emails/${t}/trash`)).data},async restoreFromTrash(t){return(await te.patch(`/emails/${t}/restore`)).data},getAttachmentDownloadUrl(t){return`/api/emails/attachments/${t}/download`}};function kk(t){if(!t)return"";const e=new Date(t),i=(new Date-e)/1e3;return i<3600?Math.floor(i/60)+"m ago":i<86400?Math.floor(i/3600)+"h ago":i<604800?e.toLocaleDateString("en-US",{weekday:"short"}):e.toLocaleDateString("en-US",{month:"short",day:"numeric"})}function Tk(t){return new Date(t).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}const Ak=[{key:"inbox",label:"Inbox",icon:Jf},{key:"sent",label:"Sent",icon:Uc},{key:"drafts",label:"Drafts",icon:Ya},{key:"starred",label:"Starred",icon:mv},{key:"trash",label:"Trash",icon:ra}];function Dk(){const{user:t}=At(),[e,n]=S.useState("inbox"),[i,l]=S.useState([]),[c,u]=S.useState(!0),[f,h]=S.useState(""),[m,y]=S.useState(null),[g,b]=S.useState([]),[w,v]=S.useState(!1),[j,N]=S.useState(!1),[M,E]=S.useState([]),[k,U]=S.useState(0),[B,I]=S.useState({}),[R,q]=S.useState({subject:"",body:"",to:[],cc:[],attachments:[]}),[z,P]=S.useState(!1),[K,le]=S.useState({body:"",to:[],attachments:[]}),[_e,we]=S.useState(!1),ue=S.useCallback(async(D=1)=>{u(!0);try{const G={folder:e,page:D};f&&(G.search=f);const ne=await un.getEmails(G);l(ne.data?.data||[]),I(ne.data?.meta||ne.data||{})}catch{l([])}u(!1)},[e,f]),H=async()=>{try{const D=await un.getUnreadCount();U(D.data?.count||0)}catch{}};S.useEffect(()=>{ue(),H()},[e]),S.useEffect(()=>{const D=setTimeout(()=>ue(),400);return()=>clearTimeout(D)},[f]),S.useEffect(()=>{(async()=>{try{const G=await(await fetch("/api/users?per_page=200",{credentials:"include",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})).json();E((G.data?.data||[]).filter(ne=>ne.id!==t?.id))}catch{}})()},[]),S.useEffect(()=>{const D=setInterval(()=>{H(),e==="inbox"&&ue()},15e3);return()=>clearInterval(D)},[e]);const ee=async D=>{try{const G=await un.getEmail(D.id);y(G.data?.email||G.data),b(G.data?.thread||[]),H()}catch{se.error("Failed to load email")}},re=async(D,G)=>{G?.stopPropagation();try{await un.toggleStar(D),ue()}catch{}},fe=async D=>{try{await un.moveToTrash(D),se.success("Moved to trash"),y(null),ue()}catch{}},ve=async D=>{try{await un.restoreFromTrash(D),se.success("Restored"),y(null),ue()}catch{}},A=async D=>{if(D.preventDefault(),!R.to.length||!R.subject){se.error("Subject and at least one recipient required");return}P(!0);try{const G=new FormData;G.append("subject",R.subject),G.append("body",R.body),R.to.forEach(ne=>G.append("to[]",ne)),R.cc.forEach(ne=>G.append("cc[]",ne)),R.attachments.forEach(ne=>G.append("attachments[]",ne)),await un.sendEmail(G),se.success("Email sent"),v(!1),q({subject:"",body:"",to:[],cc:[],attachments:[]}),e==="sent"&&ue()}catch(G){se.error(G.response?.data?.message||"Failed to send")}P(!1)},W=async D=>{if(D.preventDefault(),!!K.body.trim()){we(!0);try{const G=new FormData;G.append("body",K.body),K.to.forEach(ne=>G.append("to[]",ne)),K.attachments.forEach(ne=>G.append("attachments[]",ne)),await un.replyToEmail(m.id,G),se.success("Reply sent"),N(!1),le({body:"",to:[],attachments:[]}),ee(m)}catch{se.error("Failed to send reply")}we(!1)}},ae=()=>{le({body:"",to:[m.from_user_id],attachments:[]}),N(!0)},ie=({selected:D,onChange:G,label:ne})=>{const[ye,Me]=S.useState(""),ls=M.filter(at=>!D.includes(at.id)&&`${at.first_name} ${at.last_name}`.toLowerCase().includes(ye.toLowerCase()));return r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:ne}),r.jsxs("div",{className:"rounded-lg border border-gray-300 p-2",children:[r.jsx("div",{className:"mb-2 flex flex-wrap gap-1",children:D.map(at=>{const oa=M.find(Ga=>Ga.id===at);return oa?r.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-primary-100 px-2 py-0.5 text-xs font-medium text-primary-700",children:[oa.first_name," ",oa.last_name,r.jsx("button",{type:"button",onClick:()=>G(D.filter(Ga=>Ga!==at)),className:"hover:text-primary-900",children:r.jsx(Us,{className:"h-3 w-3"})})]},at):null})}),r.jsx("input",{type:"text",placeholder:"Search users...",value:ye,onChange:at=>Me(at.target.value),className:"w-full border-0 p-0 text-sm focus:outline-none focus:ring-0"}),ye&&ls.length>0&&r.jsx("div",{className:"mt-1 max-h-32 overflow-y-auto border-t pt-1",children:ls.slice(0,8).map(at=>r.jsxs("button",{type:"button",onClick:()=>{G([...D,at.id]),Me("")},className:"flex w-full items-center gap-2 rounded px-2 py-1 text-left text-sm hover:bg-gray-50",children:[r.jsxs("span",{className:"font-medium",children:[at.first_name," ",at.last_name]}),r.jsx("span",{className:"text-xs text-gray-400",children:at.email})]},at.id))})]})]})};return r.jsxs("div",{className:"flex h-[calc(100vh-7rem)] overflow-hidden rounded-xl bg-white shadow-sm ring-1 ring-gray-200",children:[r.jsxs("div",{className:"w-56 flex-shrink-0 border-r bg-gray-50",children:[r.jsx("div",{className:"p-3",children:r.jsxs("button",{onClick:()=>{v(!0),q({subject:"",body:"",to:[],cc:[],attachments:[]})},className:"flex w-full items-center justify-center gap-2 rounded-lg bg-primary-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-primary-700",children:[r.jsx(Yt,{className:"h-4 w-4"}),"Compose"]})}),r.jsx("nav",{className:"space-y-0.5 px-2",children:Ak.map(D=>r.jsxs("button",{onClick:()=>{n(D.key),y(null)},className:`flex w-full items-center gap-2.5 rounded-lg px-3 py-2 text-sm font-medium transition-colors ${e===D.key?"bg-primary-100 text-primary-700":"text-gray-600 hover:bg-gray-100"}`,children:[r.jsx(D.icon,{className:"h-4 w-4"}),r.jsx("span",{className:"flex-1 text-left",children:D.label}),D.key==="inbox"&&k>0&&r.jsx("span",{className:"rounded-full bg-primary-500 px-1.5 py-0.5 text-xs font-bold text-white",children:k})]},D.key))})]}),r.jsx("div",{className:"flex flex-1 flex-col overflow-hidden",children:m?r.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[r.jsxs("div",{className:"flex items-center gap-2 border-b px-4 py-2.5",children:[r.jsx("button",{onClick:()=>y(null),className:"rounded-lg p-1.5 text-gray-400 hover:bg-gray-100 hover:text-gray-600",children:r.jsx(Bc,{className:"h-5 w-5"})}),r.jsx("h2",{className:"flex-1 truncate text-sm font-semibold text-gray-900",children:m.subject}),r.jsx("button",{onClick:ae,className:"rounded-lg p-1.5 text-gray-400 hover:bg-gray-100 hover:text-gray-600",title:"Reply",children:r.jsx(c5,{className:"h-5 w-5"})}),e==="trash"?r.jsx("button",{onClick:()=>ve(m.id),className:"rounded-lg p-1.5 text-gray-400 hover:bg-green-50 hover:text-green-600",title:"Restore",children:r.jsx(Jf,{className:"h-5 w-5"})}):r.jsx("button",{onClick:()=>fe(m.id),className:"rounded-lg p-1.5 text-gray-400 hover:bg-red-50 hover:text-red-600",title:"Trash",children:r.jsx(ra,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:[(g.length>0?g:[m]).map(D=>r.jsxs("div",{className:"mb-6 rounded-lg border border-gray-100 p-5",children:[r.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-primary-100 text-sm font-bold text-primary-700",children:[D.sender?.first_name?.[0],D.sender?.last_name?.[0]]}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[D.sender?.first_name," ",D.sender?.last_name]}),r.jsxs("p",{className:"text-xs text-gray-400",children:["to ",D.recipients?.filter(G=>G.type==="to").map(G=>`${G.user?.first_name} ${G.user?.last_name}`).join(", "),D.recipients?.some(G=>G.type==="cc")&&r.jsxs("span",{children:[", cc: ",D.recipients.filter(G=>G.type==="cc").map(G=>`${G.user?.first_name} ${G.user?.last_name}`).join(", ")]})]})]})]}),r.jsx("span",{className:"text-xs text-gray-400",children:Tk(D.sent_at||D.created_at)})]}),r.jsx("div",{className:"prose prose-sm max-w-none text-sm text-gray-700 whitespace-pre-wrap",children:D.body}),D.attachments?.length>0&&r.jsx("div",{className:"mt-4 flex flex-wrap gap-2 border-t pt-3",children:D.attachments.map(G=>r.jsxs("a",{href:un.getAttachmentDownloadUrl(G.id),className:"inline-flex items-center gap-1.5 rounded-lg border px-3 py-1.5 text-xs text-gray-600 hover:bg-gray-50",children:[r.jsx($t,{className:"h-3.5 w-3.5"}),G.file_name,r.jsxs("span",{className:"text-gray-400",children:["(",G.human_size||Math.round(G.file_size/1024)+" KB",")"]})]},G.id))})]},D.id)),j&&r.jsx("div",{className:"mb-4 rounded-lg border border-primary-200 bg-primary-50/30 p-4",children:r.jsxs("form",{onSubmit:W,className:"space-y-3",children:[r.jsxs("div",{className:"text-xs text-gray-500",children:["Replying to ",m.sender?.first_name," ",m.sender?.last_name]}),r.jsx("textarea",{rows:4,value:K.body,onChange:D=>le(G=>({...G,body:D.target.value})),placeholder:"Write your reply...",className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx("button",{type:"button",onClick:()=>N(!1),className:"rounded-lg border px-3 py-1.5 text-sm text-gray-700 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:_e||!K.body.trim(),className:"rounded-lg bg-primary-600 px-4 py-1.5 text-sm font-semibold text-white hover:bg-primary-700 disabled:opacity-50",children:_e?"Sending...":"Send Reply"})]})]})})]})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"border-b px-4 py-2.5",children:r.jsxs("div",{className:"relative",children:[r.jsx(ia,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search emails...",value:f,onChange:D=>h(D.target.value),className:"w-full rounded-lg border border-gray-200 bg-gray-50 py-2 pl-9 pr-3 text-sm focus:border-primary-500 focus:bg-white focus:outline-none focus:ring-1 focus:ring-primary-500"})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:c?r.jsx(mt,{}):i.length===0?r.jsx("div",{className:"flex h-full items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Jf,{className:"mx-auto h-12 w-12 text-gray-200"}),r.jsxs("p",{className:"mt-2 text-sm text-gray-400",children:["No emails in ",e]})]})}):i.map(D=>{const G=D.recipients?.some(ye=>ye.user_id===t?.id&&!ye.read_at),ne=D.recipients?.some(ye=>ye.user_id===t?.id&&ye.starred);return r.jsxs("button",{onClick:()=>ee(D),className:`flex w-full items-center gap-3 border-b px-4 py-3 text-left transition-colors hover:bg-gray-50 ${G?"bg-blue-50/50":""}`,children:[r.jsx("button",{type:"button",onClick:ye=>re(D.id,ye),className:`shrink-0 ${ne?"text-yellow-400":"text-gray-300"} hover:text-yellow-400`,children:r.jsx(mv,{className:"h-4 w-4",fill:ne?"currentColor":"none"})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:`truncate text-sm ${G?"font-bold text-gray-900":"font-medium text-gray-700"}`,children:e==="sent"?`To: ${D.recipients?.filter(ye=>ye.type==="to").map(ye=>ye.user?.first_name).join(", ")}`:`${D.sender?.first_name} ${D.sender?.last_name}`}),r.jsx("span",{className:"ml-2 shrink-0 text-xs text-gray-400",children:kk(D.sent_at||D.created_at)})]}),r.jsx("p",{className:`truncate text-sm ${G?"font-semibold text-gray-800":"text-gray-600"}`,children:D.subject}),r.jsx("p",{className:"truncate text-xs text-gray-400",children:D.body?.substring(0,100)})]}),D.attachments?.length>0&&r.jsx(eh,{className:"h-4 w-4 shrink-0 text-gray-400"})]},D.id)})}),B.last_page>1&&r.jsxs("div",{className:"flex items-center justify-between border-t px-4 py-2",children:[r.jsxs("p",{className:"text-xs text-gray-500",children:["Page ",B.current_page," of ",B.last_page]}),r.jsx("div",{className:"flex gap-1",children:Array.from({length:Math.min(B.last_page,5)},(D,G)=>G+1).map(D=>r.jsx("button",{onClick:()=>ue(D),className:`rounded px-2 py-1 text-xs ${D===B.current_page?"bg-primary-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:D},D))})]})]})}),w&&r.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center sm:items-center",onClick:()=>v(!1),children:[r.jsx("div",{className:"fixed inset-0 bg-black/50"}),r.jsxs("div",{className:"relative mx-4 w-full max-w-2xl rounded-t-xl sm:rounded-xl bg-white shadow-2xl",onClick:D=>D.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between border-b px-5 py-3",children:[r.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"New Email"}),r.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(Us,{className:"h-5 w-5"})})]}),r.jsxs("form",{onSubmit:A,className:"p-5 space-y-4",children:[r.jsx(ie,{selected:R.to,onChange:D=>q(G=>({...G,to:D})),label:"To *"}),r.jsx(ie,{selected:R.cc,onChange:D=>q(G=>({...G,cc:D})),label:"CC"}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Subject *"}),r.jsx("input",{type:"text",value:R.subject,onChange:D=>q(G=>({...G,subject:D.target.value})),required:!0,className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Message"}),r.jsx("textarea",{rows:8,value:R.body,onChange:D=>q(G=>({...G,body:D.target.value})),className:"w-full rounded-lg border border-gray-300 px-3 py-2.5 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Attachments"}),r.jsx("input",{type:"file",multiple:!0,onChange:D=>q(G=>({...G,attachments:[...G.attachments,...Array.from(D.target.files)]})),className:"w-full text-sm text-gray-500 file:mr-4 file:rounded-lg file:border-0 file:bg-primary-50 file:px-4 file:py-2 file:text-sm file:font-medium file:text-primary-700 hover:file:bg-primary-100"}),R.attachments.length>0&&r.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:R.attachments.map((D,G)=>r.jsxs("span",{className:"inline-flex items-center gap-1 rounded bg-gray-100 px-2 py-0.5 text-xs text-gray-600",children:[D.name,r.jsx("button",{type:"button",onClick:()=>q(ne=>({...ne,attachments:ne.attachments.filter((ye,Me)=>Me!==G)})),children:r.jsx(Us,{className:"h-3 w-3"})})]},G))})]}),r.jsxs("div",{className:"flex justify-end gap-2 border-t pt-4",children:[r.jsx("button",{type:"button",onClick:()=>v(!1),className:"rounded-lg border px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Discard"}),r.jsx("button",{type:"submit",disabled:z,className:"rounded-lg bg-primary-600 px-6 py-2 text-sm font-semibold text-white hover:bg-primary-700 disabled:opacity-50",children:z?"Sending...":"Send"})]})]})]})]})]})}function Ok(){return r.jsx("div",{className:"flex items-center justify-center py-24",children:r.jsxs("div",{className:"text-center",children:[r.jsx(hv,{className:"mx-auto h-16 w-16 text-red-400"}),r.jsx("h1",{className:"mt-4 text-3xl font-bold text-gray-900",children:"Access Denied"}),r.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"You do not have permission to access this page."}),r.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Contact your administrator if you believe this is an error."}),r.jsx(Le,{to:"/dashboard",className:"mt-6 inline-block rounded-lg bg-primary-600 px-6 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-primary-700",children:"Go to Dashboard"})]})})}function Rk(){return r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-6xl font-bold text-gray-200",children:"404"}),r.jsx("p",{className:"mt-4 text-lg font-medium text-gray-600",children:"Page not found"}),r.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"The page you're looking for doesn't exist."}),r.jsx(Le,{to:"/dashboard",className:"mt-6 inline-block rounded-lg bg-primary-600 px-6 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-primary-700",children:"Go to Dashboard"})]})})}function zk(){return r.jsxs(W_,{children:[r.jsxs(Ce,{element:r.jsx(XS,{}),children:[r.jsx(Ce,{path:"/login",element:r.jsx(g5,{})}),r.jsx(Ce,{path:"/register",element:r.jsx(y5,{})}),r.jsx(Ce,{path:"/forgot-password",element:r.jsx(b5,{})})]}),r.jsx(Ce,{element:r.jsx(YS,{}),children:r.jsxs(Ce,{element:r.jsx(m5,{}),children:[r.jsx(Ce,{path:"/",element:r.jsx(sb,{})}),r.jsx(Ce,{path:"/dashboard",element:r.jsx(sb,{})}),r.jsxs(Ce,{element:r.jsx(Ea,{permission:"projects.view"}),children:[r.jsx(Ce,{path:"/projects",element:r.jsx(xE,{})}),r.jsx(Ce,{path:"/projects/create",element:r.jsx(nb,{})}),r.jsx(Ce,{path:"/projects/:id",element:r.jsx(jE,{})}),r.jsx(Ce,{path:"/projects/:id/edit",element:r.jsx(nb,{})})]}),r.jsx(Ce,{element:r.jsx(Ea,{permission:"tasks.view"}),children:r.jsx(Ce,{path:"/tasks",element:r.jsx(DE,{})})}),r.jsx(Ce,{element:r.jsx(Ea,{permission:"clients.view"}),children:r.jsx(Ce,{path:"/clients",element:r.jsx(OE,{})})}),r.jsx(Ce,{element:r.jsx(Ea,{permission:"users.view"}),children:r.jsx(Ce,{path:"/users",element:r.jsx(LE,{})})}),r.jsxs(Ce,{element:r.jsx(Ea,{permission:"finance.view"}),children:[r.jsx(Ce,{path:"/finance",element:r.jsx(PE,{})}),r.jsx(Ce,{path:"/finance/invoices",element:r.jsx(qE,{})}),r.jsx(Ce,{path:"/finance/invoices/create",element:r.jsx(rb,{})}),r.jsx(Ce,{path:"/finance/invoices/:id",element:r.jsx($E,{})}),r.jsx(Ce,{path:"/finance/invoices/:id/edit",element:r.jsx(rb,{})}),r.jsx(Ce,{path:"/finance/expenses",element:r.jsx(GE,{})}),r.jsx(Ce,{path:"/finance/budget-vs-actual",element:r.jsx(WE,{})}),r.jsx(Ce,{path:"/finance/monthly-summary",element:r.jsx(ZE,{})})]}),r.jsx(Ce,{element:r.jsx(Ea,{permission:"safety.view"}),children:r.jsx(Ce,{path:"/safety",element:r.jsx(JE,{})})}),r.jsx(Ce,{element:r.jsx(Ea,{permission:"environmental.view"}),children:r.jsx(Ce,{path:"/environmental",element:r.jsx(pk,{})})}),r.jsx(Ce,{path:"/chat",element:r.jsx(Ek,{})}),r.jsx(Ce,{path:"/email",element:r.jsx(Dk,{})}),r.jsx(Ce,{path:"/unauthorized",element:r.jsx(Ok,{})})]})}),r.jsx(Ce,{path:"*",element:r.jsx(Rk,{})})]})}const Lk=document.getElementById("app"),Bk=Q2.createRoot(Lk);Bk.render(r.jsx(yw,{children:r.jsxs(sS,{children:[r.jsx(zk,{}),r.jsx($S,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#1f2937",color:"#f9fafb"}}})]})}));
